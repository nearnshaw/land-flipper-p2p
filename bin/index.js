"use strict";var UE=Object.create;var Ga=Object.defineProperty;var BE=Object.getOwnPropertyDescriptor;var DE=Object.getOwnPropertyNames;var LE=Object.getPrototypeOf,zE=Object.prototype.hasOwnProperty;var mt=(e,o)=>()=>(o||e((o={exports:{}}).exports,o),o.exports),FE=(e,o)=>{for(var c in o)Ga(e,c,{get:o[c],enumerable:!0})},Ld=(e,o,c,t)=>{if(o&&typeof o=="object"||typeof o=="function")for(let r of DE(o))!zE.call(e,r)&&r!==c&&Ga(e,r,{get:()=>o[r],enumerable:!(t=BE(o,r))||t.enumerable});return e};var Y=(e,o,c)=>(c=e!=null?UE(LE(e)):{},Ld(o||!e||!e.__esModule?Ga(c,"default",{value:e,enumerable:!0}):c,e)),VE=e=>Ld(Ga({},"__esModule",{value:!0}),e);var Vd=mt((DS,Fd)=>{"use strict";Fd.exports=WE;function WE(e,o){for(var c=new Array(arguments.length-1),t=0,r=2,n=!0;r<arguments.length;)c[t++]=arguments[r++];return new Promise(function(a,i){c[t]=function(u){if(n)if(n=!1,u)i(u);else{for(var b=new Array(arguments.length-1),m=0;m<b.length;)b[m++]=arguments[m];a.apply(null,b)}};try{e.apply(o||null,c)}catch(f){n&&(n=!1,i(f))}})}});var jd=mt(Gd=>{"use strict";var $a=Gd;$a.length=function(o){var c=o.length;if(!c)return 0;for(var t=0;--c%4>1&&o.charAt(c)==="=";)++t;return Math.ceil(o.length*3)/4-t};var Ko=new Array(64),Hd=new Array(123);for(pn=0;pn<64;)Hd[Ko[pn]=pn<26?pn+65:pn<52?pn+71:pn<62?pn-4:pn-59|43]=pn++;var pn;$a.encode=function(o,c,t){for(var r=null,n=[],s=0,a=0,i;c<t;){var f=o[c++];switch(a){case 0:n[s++]=Ko[f>>2],i=(f&3)<<4,a=1;break;case 1:n[s++]=Ko[i|f>>4],i=(f&15)<<2,a=2;break;case 2:n[s++]=Ko[i|f>>6],n[s++]=Ko[f&63],a=0;break}s>8191&&((r||(r=[])).push(String.fromCharCode.apply(String,n)),s=0)}return a&&(n[s++]=Ko[i],n[s++]=61,a===1&&(n[s++]=61)),r?(s&&r.push(String.fromCharCode.apply(String,n.slice(0,s))),r.join("")):String.fromCharCode.apply(String,n.slice(0,s))};var Wd="invalid encoding";$a.decode=function(o,c,t){for(var r=t,n=0,s,a=0;a<o.length;){var i=o.charCodeAt(a++);if(i===61&&n>1)break;if((i=Hd[i])===void 0)throw Error(Wd);switch(n){case 0:s=i,n=1;break;case 1:c[t++]=s<<2|(i&48)>>4,s=i,n=2;break;case 2:c[t++]=(s&15)<<4|(i&60)>>2,s=i,n=3;break;case 3:c[t++]=(s&3)<<6|i,n=0;break}}if(n===1)throw Error(Wd);return t-r};$a.test=function(o){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(o)}});var Yd=mt((zS,$d)=>{"use strict";$d.exports=Ya;function Ya(){this._listeners={}}Ya.prototype.on=function(o,c,t){return(this._listeners[o]||(this._listeners[o]=[])).push({fn:c,ctx:t||this}),this};Ya.prototype.off=function(o,c){if(o===void 0)this._listeners={};else if(c===void 0)this._listeners[o]=[];else for(var t=this._listeners[o],r=0;r<t.length;)t[r].fn===c?t.splice(r,1):++r;return this};Ya.prototype.emit=function(o){var c=this._listeners[o];if(c){for(var t=[],r=1;r<arguments.length;)t.push(arguments[r++]);for(r=0;r<c.length;)c[r].fn.apply(c[r++].ctx,t)}return this}});var el=mt((FS,Zd)=>{"use strict";Zd.exports=qd(qd);function qd(e){return typeof Float32Array<"u"?function(){var o=new Float32Array([-0]),c=new Uint8Array(o.buffer),t=c[3]===128;function r(i,f,u){o[0]=i,f[u]=c[0],f[u+1]=c[1],f[u+2]=c[2],f[u+3]=c[3]}function n(i,f,u){o[0]=i,f[u]=c[3],f[u+1]=c[2],f[u+2]=c[1],f[u+3]=c[0]}e.writeFloatLE=t?r:n,e.writeFloatBE=t?n:r;function s(i,f){return c[0]=i[f],c[1]=i[f+1],c[2]=i[f+2],c[3]=i[f+3],o[0]}function a(i,f){return c[3]=i[f],c[2]=i[f+1],c[1]=i[f+2],c[0]=i[f+3],o[0]}e.readFloatLE=t?s:a,e.readFloatBE=t?a:s}():function(){function o(t,r,n,s){var a=r<0?1:0;if(a&&(r=-r),r===0)t(1/r>0?0:2147483648,n,s);else if(isNaN(r))t(2143289344,n,s);else if(r>34028234663852886e22)t((a<<31|2139095040)>>>0,n,s);else if(r<11754943508222875e-54)t((a<<31|Math.round(r/1401298464324817e-60))>>>0,n,s);else{var i=Math.floor(Math.log(r)/Math.LN2),f=Math.round(r*Math.pow(2,-i)*8388608)&8388607;t((a<<31|i+127<<23|f)>>>0,n,s)}}e.writeFloatLE=o.bind(null,Jd),e.writeFloatBE=o.bind(null,Xd);function c(t,r,n){var s=t(r,n),a=(s>>31)*2+1,i=s>>>23&255,f=s&8388607;return i===255?f?NaN:a*(1/0):i===0?a*1401298464324817e-60*f:a*Math.pow(2,i-150)*(f+8388608)}e.readFloatLE=c.bind(null,Kd),e.readFloatBE=c.bind(null,Qd)}(),typeof Float64Array<"u"?function(){var o=new Float64Array([-0]),c=new Uint8Array(o.buffer),t=c[7]===128;function r(i,f,u){o[0]=i,f[u]=c[0],f[u+1]=c[1],f[u+2]=c[2],f[u+3]=c[3],f[u+4]=c[4],f[u+5]=c[5],f[u+6]=c[6],f[u+7]=c[7]}function n(i,f,u){o[0]=i,f[u]=c[7],f[u+1]=c[6],f[u+2]=c[5],f[u+3]=c[4],f[u+4]=c[3],f[u+5]=c[2],f[u+6]=c[1],f[u+7]=c[0]}e.writeDoubleLE=t?r:n,e.writeDoubleBE=t?n:r;function s(i,f){return c[0]=i[f],c[1]=i[f+1],c[2]=i[f+2],c[3]=i[f+3],c[4]=i[f+4],c[5]=i[f+5],c[6]=i[f+6],c[7]=i[f+7],o[0]}function a(i,f){return c[7]=i[f],c[6]=i[f+1],c[5]=i[f+2],c[4]=i[f+3],c[3]=i[f+4],c[2]=i[f+5],c[1]=i[f+6],c[0]=i[f+7],o[0]}e.readDoubleLE=t?s:a,e.readDoubleBE=t?a:s}():function(){function o(t,r,n,s,a,i){var f=s<0?1:0;if(f&&(s=-s),s===0)t(0,a,i+r),t(1/s>0?0:2147483648,a,i+n);else if(isNaN(s))t(0,a,i+r),t(2146959360,a,i+n);else if(s>17976931348623157e292)t(0,a,i+r),t((f<<31|2146435072)>>>0,a,i+n);else{var u;if(s<22250738585072014e-324)u=s/5e-324,t(u>>>0,a,i+r),t((f<<31|u/4294967296)>>>0,a,i+n);else{var b=Math.floor(Math.log(s)/Math.LN2);b===1024&&(b=1023),u=s*Math.pow(2,-b),t(u*4503599627370496>>>0,a,i+r),t((f<<31|b+1023<<20|u*1048576&1048575)>>>0,a,i+n)}}}e.writeDoubleLE=o.bind(null,Jd,0,4),e.writeDoubleBE=o.bind(null,Xd,4,0);function c(t,r,n,s,a){var i=t(s,a+r),f=t(s,a+n),u=(f>>31)*2+1,b=f>>>20&2047,m=4294967296*(f&1048575)+i;return b===2047?m?NaN:u*(1/0):b===0?u*5e-324*m:u*Math.pow(2,b-1075)*(m+4503599627370496)}e.readDoubleLE=c.bind(null,Kd,0,4),e.readDoubleBE=c.bind(null,Qd,4,0)}(),e}function Jd(e,o,c){o[c]=e&255,o[c+1]=e>>>8&255,o[c+2]=e>>>16&255,o[c+3]=e>>>24}function Xd(e,o,c){o[c]=e>>>24,o[c+1]=e>>>16&255,o[c+2]=e>>>8&255,o[c+3]=e&255}function Kd(e,o){return(e[o]|e[o+1]<<8|e[o+2]<<16|e[o+3]<<24)>>>0}function Qd(e,o){return(e[o]<<24|e[o+1]<<16|e[o+2]<<8|e[o+3])>>>0}});var tl=mt((exports,module)=>{"use strict";module.exports=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(e){}return null}});var Qo=mt(nl=>{"use strict";var Jf=nl;Jf.length=function(o){for(var c=0,t=0,r=0;r<o.length;++r)t=o.charCodeAt(r),t<128?c+=1:t<2048?c+=2:(t&64512)===55296&&(o.charCodeAt(r+1)&64512)===56320?(++r,c+=4):c+=3;return c};Jf.read=function(o,c,t){var r=t-c;if(r<1)return"";for(var n=null,s=[],a=0,i;c<t;)i=o[c++],i<128?s[a++]=i:i>191&&i<224?s[a++]=(i&31)<<6|o[c++]&63:i>239&&i<365?(i=((i&7)<<18|(o[c++]&63)<<12|(o[c++]&63)<<6|o[c++]&63)-65536,s[a++]=55296+(i>>10),s[a++]=56320+(i&1023)):s[a++]=(i&15)<<12|(o[c++]&63)<<6|o[c++]&63,a>8191&&((n||(n=[])).push(String.fromCharCode.apply(String,s)),a=0);return n?(a&&n.push(String.fromCharCode.apply(String,s.slice(0,a))),n.join("")):String.fromCharCode.apply(String,s.slice(0,a))};Jf.write=function(o,c,t){for(var r=t,n,s,a=0;a<o.length;++a)n=o.charCodeAt(a),n<128?c[t++]=n:n<2048?(c[t++]=n>>6|192,c[t++]=n&63|128):(n&64512)===55296&&((s=o.charCodeAt(a+1))&64512)===56320?(n=65536+((n&1023)<<10)+(s&1023),++a,c[t++]=n>>18|240,c[t++]=n>>12&63|128,c[t++]=n>>6&63|128,c[t++]=n&63|128):(c[t++]=n>>12|224,c[t++]=n>>6&63|128,c[t++]=n&63|128);return t-r}});var rl=mt((WS,ol)=>{"use strict";ol.exports=HE;function HE(e,o,c){var t=c||8192,r=t>>>1,n=null,s=t;return function(i){if(i<1||i>r)return e(i);s+i>t&&(n=e(t),s=0);var f=o.call(n,s,s+=i);return s&7&&(s=(s|7)+1),f}}});var al=mt((HS,il)=>{"use strict";il.exports=ht;var Xi=Kn();function ht(e,o){this.lo=e>>>0,this.hi=o>>>0}var wo=ht.zero=new ht(0,0);wo.toNumber=function(){return 0};wo.zzEncode=wo.zzDecode=function(){return this};wo.length=function(){return 1};var GE=ht.zeroHash="\0\0\0\0\0\0\0\0";ht.fromNumber=function(o){if(o===0)return wo;var c=o<0;c&&(o=-o);var t=o>>>0,r=(o-t)/4294967296>>>0;return c&&(r=~r>>>0,t=~t>>>0,++t>4294967295&&(t=0,++r>4294967295&&(r=0))),new ht(t,r)};ht.from=function(o){if(typeof o=="number")return ht.fromNumber(o);if(Xi.isString(o))if(Xi.Long)o=Xi.Long.fromString(o);else return ht.fromNumber(parseInt(o,10));return o.low||o.high?new ht(o.low>>>0,o.high>>>0):wo};ht.prototype.toNumber=function(o){if(!o&&this.hi>>>31){var c=~this.lo+1>>>0,t=~this.hi>>>0;return c||(t=t+1>>>0),-(c+t*4294967296)}return this.lo+this.hi*4294967296};ht.prototype.toLong=function(o){return Xi.Long?new Xi.Long(this.lo|0,this.hi|0,!!o):{low:this.lo|0,high:this.hi|0,unsigned:!!o}};var Xn=String.prototype.charCodeAt;ht.fromHash=function(o){return o===GE?wo:new ht((Xn.call(o,0)|Xn.call(o,1)<<8|Xn.call(o,2)<<16|Xn.call(o,3)<<24)>>>0,(Xn.call(o,4)|Xn.call(o,5)<<8|Xn.call(o,6)<<16|Xn.call(o,7)<<24)>>>0)};ht.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)};ht.prototype.zzEncode=function(){var o=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^o)>>>0,this.lo=(this.lo<<1^o)>>>0,this};ht.prototype.zzDecode=function(){var o=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^o)>>>0,this.hi=(this.hi>>>1^o)>>>0,this};ht.prototype.length=function(){var o=this.lo,c=(this.lo>>>28|this.hi<<4)>>>0,t=this.hi>>>24;return t===0?c===0?o<16384?o<128?1:2:o<2097152?3:4:c<16384?c<128?5:6:c<2097152?7:8:t<128?9:10}});var Kn=mt(Xf=>{"use strict";var fe=Xf;fe.asPromise=Vd();fe.base64=jd();fe.EventEmitter=Yd();fe.float=el();fe.inquire=tl();fe.utf8=Qo();fe.pool=rl();fe.LongBits=al();fe.isNode=!!(typeof global<"u"&&global&&global.process&&global.process.versions&&global.process.versions.node);fe.global=fe.isNode&&global||!1||typeof self<"u"&&self||Xf;fe.emptyArray=Object.freeze?Object.freeze([]):[];fe.emptyObject=Object.freeze?Object.freeze({}):{};fe.isInteger=Number.isInteger||function(o){return typeof o=="number"&&isFinite(o)&&Math.floor(o)===o};fe.isString=function(o){return typeof o=="string"||o instanceof String};fe.isObject=function(o){return o&&typeof o=="object"};fe.isset=fe.isSet=function(o,c){var t=o[c];return t!=null&&o.hasOwnProperty(c)?typeof t!="object"||(Array.isArray(t)?t.length:Object.keys(t).length)>0:!1};fe.Buffer=function(){try{var e=fe.inquire("buffer").Buffer;return e.prototype.utf8Write?e:null}catch{return null}}();fe._Buffer_from=null;fe._Buffer_allocUnsafe=null;fe.newBuffer=function(o){return typeof o=="number"?fe.Buffer?fe._Buffer_allocUnsafe(o):new fe.Array(o):fe.Buffer?fe._Buffer_from(o):typeof Uint8Array>"u"?o:new Uint8Array(o)};fe.Array=typeof Uint8Array<"u"?Uint8Array:Array;fe.Long=fe.global.dcodeIO&&fe.global.dcodeIO.Long||fe.global.Long||fe.inquire("long");fe.key2Re=/^true|false|0|1$/;fe.key32Re=/^-?(?:0|[1-9][0-9]*)$/;fe.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/;fe.longToHash=function(o){return o?fe.LongBits.from(o).toHash():fe.LongBits.zeroHash};fe.longFromHash=function(o,c){var t=fe.LongBits.fromHash(o);return fe.Long?fe.Long.fromBits(t.lo,t.hi,c):t.toNumber(!!c)};function cl(e,o,c){for(var t=Object.keys(o),r=0;r<t.length;++r)(e[t[r]]===void 0||!c)&&(e[t[r]]=o[t[r]]);return e}fe.merge=cl;fe.lcFirst=function(o){return o.charAt(0).toLowerCase()+o.substring(1)};function sl(e){function o(c,t){if(!(this instanceof o))return new o(c,t);Object.defineProperty(this,"message",{get:function(){return c}}),Error.captureStackTrace?Error.captureStackTrace(this,o):Object.defineProperty(this,"stack",{value:new Error().stack||""}),t&&cl(this,t)}return o.prototype=Object.create(Error.prototype,{constructor:{value:o,writable:!0,enumerable:!1,configurable:!0},name:{get:function(){return e},set:void 0,enumerable:!1,configurable:!0},toString:{value:function(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),o}fe.newError=sl;fe.ProtocolError=sl("ProtocolError");fe.oneOfGetter=function(o){for(var c={},t=0;t<o.length;++t)c[o[t]]=1;return function(){for(var r=Object.keys(this),n=r.length-1;n>-1;--n)if(c[r[n]]===1&&this[r[n]]!==void 0&&this[r[n]]!==null)return r[n]}};fe.oneOfSetter=function(o){return function(c){for(var t=0;t<o.length;++t)o[t]!==c&&delete this[o[t]]}};fe.toJSONOptions={longs:String,enums:String,bytes:String,json:!0};fe._configure=function(){var e=fe.Buffer;if(!e){fe._Buffer_from=fe._Buffer_allocUnsafe=null;return}fe._Buffer_from=e.from!==Uint8Array.from&&e.from||function(c,t){return new e(c,t)},fe._Buffer_allocUnsafe=e.allocUnsafe||function(c){return new e(c)}}});var ou=mt((jS,ll)=>{"use strict";ll.exports=ge;var on=Kn(),Kf,qa=on.LongBits,fl=on.base64,ul=on.utf8;function Ki(e,o,c){this.fn=e,this.len=o,this.next=void 0,this.val=c}function Zf(){}function jE(e){this.head=e.head,this.tail=e.tail,this.len=e.len,this.next=e.states}function ge(){this.len=0,this.head=new Ki(Zf,0,0),this.tail=this.head,this.states=null}var dl=function(){return on.Buffer?function(){return(ge.create=function(){return new Kf})()}:function(){return new ge}};ge.create=dl();ge.alloc=function(o){return new on.Array(o)};on.Array!==Array&&(ge.alloc=on.pool(ge.alloc,on.Array.prototype.subarray));ge.prototype._push=function(o,c,t){return this.tail=this.tail.next=new Ki(o,c,t),this.len+=c,this};function eu(e,o,c){o[c]=e&255}function $E(e,o,c){for(;e>127;)o[c++]=e&127|128,e>>>=7;o[c]=e}function tu(e,o){this.len=e,this.next=void 0,this.val=o}tu.prototype=Object.create(Ki.prototype);tu.prototype.fn=$E;ge.prototype.uint32=function(o){return this.len+=(this.tail=this.tail.next=new tu((o=o>>>0)<128?1:o<16384?2:o<2097152?3:o<268435456?4:5,o)).len,this};ge.prototype.int32=function(o){return o<0?this._push(nu,10,qa.fromNumber(o)):this.uint32(o)};ge.prototype.sint32=function(o){return this.uint32((o<<1^o>>31)>>>0)};function nu(e,o,c){for(;e.hi;)o[c++]=e.lo&127|128,e.lo=(e.lo>>>7|e.hi<<25)>>>0,e.hi>>>=7;for(;e.lo>127;)o[c++]=e.lo&127|128,e.lo=e.lo>>>7;o[c++]=e.lo}ge.prototype.uint64=function(o){var c=qa.from(o);return this._push(nu,c.length(),c)};ge.prototype.int64=ge.prototype.uint64;ge.prototype.sint64=function(o){var c=qa.from(o).zzEncode();return this._push(nu,c.length(),c)};ge.prototype.bool=function(o){return this._push(eu,1,o?1:0)};function Qf(e,o,c){o[c]=e&255,o[c+1]=e>>>8&255,o[c+2]=e>>>16&255,o[c+3]=e>>>24}ge.prototype.fixed32=function(o){return this._push(Qf,4,o>>>0)};ge.prototype.sfixed32=ge.prototype.fixed32;ge.prototype.fixed64=function(o){var c=qa.from(o);return this._push(Qf,4,c.lo)._push(Qf,4,c.hi)};ge.prototype.sfixed64=ge.prototype.fixed64;ge.prototype.float=function(o){return this._push(on.float.writeFloatLE,4,o)};ge.prototype.double=function(o){return this._push(on.float.writeDoubleLE,8,o)};var YE=on.Array.prototype.set?function(o,c,t){c.set(o,t)}:function(o,c,t){for(var r=0;r<o.length;++r)c[t+r]=o[r]};ge.prototype.bytes=function(o){var c=o.length>>>0;if(!c)return this._push(eu,1,0);if(on.isString(o)){var t=ge.alloc(c=fl.length(o));fl.decode(o,t,0),o=t}return this.uint32(c)._push(YE,c,o)};ge.prototype.string=function(o){var c=ul.length(o);return c?this.uint32(c)._push(ul.write,c,o):this._push(eu,1,0)};ge.prototype.fork=function(){return this.states=new jE(this),this.head=this.tail=new Ki(Zf,0,0),this.len=0,this};ge.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new Ki(Zf,0,0),this.len=0),this};ge.prototype.ldelim=function(){var o=this.head,c=this.tail,t=this.len;return this.reset().uint32(t),t&&(this.tail.next=o.next,this.tail=c,this.len+=t),this};ge.prototype.finish=function(){for(var o=this.head.next,c=this.constructor.alloc(this.len),t=0;o;)o.fn(o.val,c,t),t+=o.len,o=o.next;return c};ge._configure=function(e){Kf=e,ge.create=dl(),Kf._configure()}});var hl=mt(($S,ml)=>{"use strict";ml.exports=xn;var pl=ou();(xn.prototype=Object.create(pl.prototype)).constructor=xn;var Qn=Kn();function xn(){pl.call(this)}xn._configure=function(){xn.alloc=Qn._Buffer_allocUnsafe,xn.writeBytesBuffer=Qn.Buffer&&Qn.Buffer.prototype instanceof Uint8Array&&Qn.Buffer.prototype.set.name==="set"?function(o,c,t){c.set(o,t)}:function(o,c,t){if(o.copy)o.copy(c,t,0,o.length);else for(var r=0;r<o.length;)c[t++]=o[r++]}};xn.prototype.bytes=function(o){Qn.isString(o)&&(o=Qn._Buffer_from(o,"base64"));var c=o.length>>>0;return this.uint32(c),c&&this._push(xn.writeBytesBuffer,c,o),this};function qE(e,o,c){e.length<40?Qn.utf8.write(e,o,c):o.utf8Write?o.utf8Write(e,c):o.write(e,c)}xn.prototype.string=function(o){var c=Qn.Buffer.byteLength(o);return this.uint32(c),c&&this._push(qE,c,o),this};xn._configure()});var au=mt((YS,Sl)=>{"use strict";Sl.exports=it;var mn=Kn(),iu,bl=mn.LongBits,JE=mn.utf8;function hn(e,o){return RangeError("index out of range: "+e.pos+" + "+(o||1)+" > "+e.len)}function it(e){this.buf=e,this.pos=0,this.len=e.length}var El=typeof Uint8Array<"u"?function(o){if(o instanceof Uint8Array||Array.isArray(o))return new it(o);throw Error("illegal buffer")}:function(o){if(Array.isArray(o))return new it(o);throw Error("illegal buffer")},Tl=function(){return mn.Buffer?function(c){return(it.create=function(r){return mn.Buffer.isBuffer(r)?new iu(r):El(r)})(c)}:El};it.create=Tl();it.prototype._slice=mn.Array.prototype.subarray||mn.Array.prototype.slice;it.prototype.uint32=function(){var o=4294967295;return function(){if(o=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(o=(o|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(o=(o|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(o=(o|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(o=(o|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return o;if((this.pos+=5)>this.len)throw this.pos=this.len,hn(this,10);return o}}();it.prototype.int32=function(){return this.uint32()|0};it.prototype.sint32=function(){var o=this.uint32();return o>>>1^-(o&1)|0};function ru(){var e=new bl(0,0),o=0;if(this.len-this.pos>4){for(;o<4;++o)if(e.lo=(e.lo|(this.buf[this.pos]&127)<<o*7)>>>0,this.buf[this.pos++]<128)return e;if(e.lo=(e.lo|(this.buf[this.pos]&127)<<28)>>>0,e.hi=(e.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return e;o=0}else{for(;o<3;++o){if(this.pos>=this.len)throw hn(this);if(e.lo=(e.lo|(this.buf[this.pos]&127)<<o*7)>>>0,this.buf[this.pos++]<128)return e}return e.lo=(e.lo|(this.buf[this.pos++]&127)<<o*7)>>>0,e}if(this.len-this.pos>4){for(;o<5;++o)if(e.hi=(e.hi|(this.buf[this.pos]&127)<<o*7+3)>>>0,this.buf[this.pos++]<128)return e}else for(;o<5;++o){if(this.pos>=this.len)throw hn(this);if(e.hi=(e.hi|(this.buf[this.pos]&127)<<o*7+3)>>>0,this.buf[this.pos++]<128)return e}throw Error("invalid varint encoding")}it.prototype.bool=function(){return this.uint32()!==0};function Ja(e,o){return(e[o-4]|e[o-3]<<8|e[o-2]<<16|e[o-1]<<24)>>>0}it.prototype.fixed32=function(){if(this.pos+4>this.len)throw hn(this,4);return Ja(this.buf,this.pos+=4)};it.prototype.sfixed32=function(){if(this.pos+4>this.len)throw hn(this,4);return Ja(this.buf,this.pos+=4)|0};function yl(){if(this.pos+8>this.len)throw hn(this,8);return new bl(Ja(this.buf,this.pos+=4),Ja(this.buf,this.pos+=4))}it.prototype.float=function(){if(this.pos+4>this.len)throw hn(this,4);var o=mn.float.readFloatLE(this.buf,this.pos);return this.pos+=4,o};it.prototype.double=function(){if(this.pos+8>this.len)throw hn(this,4);var o=mn.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,o};it.prototype.bytes=function(){var o=this.uint32(),c=this.pos,t=this.pos+o;if(t>this.len)throw hn(this,o);if(this.pos+=o,Array.isArray(this.buf))return this.buf.slice(c,t);if(c===t){var r=mn.Buffer;return r?r.alloc(0):new this.buf.constructor(0)}return this._slice.call(this.buf,c,t)};it.prototype.string=function(){var o=this.bytes();return JE.read(o,0,o.length)};it.prototype.skip=function(o){if(typeof o=="number"){if(this.pos+o>this.len)throw hn(this,o);this.pos+=o}else do if(this.pos>=this.len)throw hn(this);while(this.buf[this.pos++]&128);return this};it.prototype.skipType=function(e){switch(e){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(e=this.uint32()&7)!==4;)this.skipType(e);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+e+" at offset "+this.pos)}return this};it._configure=function(e){iu=e,it.create=Tl(),iu._configure();var o=mn.Long?"toLong":"toNumber";mn.merge(it.prototype,{int64:function(){return ru.call(this)[o](!1)},uint64:function(){return ru.call(this)[o](!0)},sint64:function(){return ru.call(this).zzDecode()[o](!1)},fixed64:function(){return yl.call(this)[o](!0)},sfixed64:function(){return yl.call(this)[o](!1)}})}});var Rl=mt((qS,kl)=>{"use strict";kl.exports=Io;var xl=au();(Io.prototype=Object.create(xl.prototype)).constructor=Io;var _l=Kn();function Io(e){xl.call(this,e)}Io._configure=function(){_l.Buffer&&(Io.prototype._slice=_l.Buffer.prototype.slice)};Io.prototype.string=function(){var o=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+o,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+o,this.len))};Io._configure()});var Nl=mt((JS,Al)=>{"use strict";Al.exports=Qi;var cu=Kn();(Qi.prototype=Object.create(cu.EventEmitter.prototype)).constructor=Qi;function Qi(e,o,c){if(typeof e!="function")throw TypeError("rpcImpl must be a function");cu.EventEmitter.call(this),this.rpcImpl=e,this.requestDelimited=!!o,this.responseDelimited=!!c}Qi.prototype.rpcCall=function e(o,c,t,r,n){if(!r)throw TypeError("request must be specified");var s=this;if(!n)return cu.asPromise(e,s,o,c,t,r);if(!s.rpcImpl){setTimeout(function(){n(Error("already ended"))},0);return}try{return s.rpcImpl(o,c[s.requestDelimited?"encodeDelimited":"encode"](r).finish(),function(i,f){if(i)return s.emit("error",i,o),n(i);if(f===null){s.end(!0);return}if(!(f instanceof t))try{f=t[s.responseDelimited?"decodeDelimited":"decode"](f)}catch(u){return s.emit("error",u,o),n(u)}return s.emit("data",f,o),n(null,f)})}catch(a){s.emit("error",a,o),setTimeout(function(){n(a)},0);return}};Qi.prototype.end=function(o){return this.rpcImpl&&(o||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this}});var Ol=mt(gl=>{"use strict";var XE=gl;XE.Service=Nl()});var Il=mt((KS,wl)=>{"use strict";wl.exports={}});var vl=mt(Ml=>{"use strict";var Mt=Ml;Mt.build="minimal";Mt.Writer=ou();Mt.BufferWriter=hl();Mt.Reader=au();Mt.BufferReader=Rl();Mt.util=Kn();Mt.rpc=Ol();Mt.roots=Il();Mt.configure=Cl;function Cl(){Mt.util._configure(),Mt.Writer._configure(Mt.BufferWriter),Mt.Reader._configure(Mt.BufferReader)}Cl()});var J=mt((ZS,Pl)=>{"use strict";Pl.exports=vl()});var XT={};FE(XT,{main:()=>Bf,onStart:()=>JT,onUpdate:()=>qT,rendererTransport:()=>Lf});module.exports=VE(XT);var qn=.45454545454545453,Jn=2.2,zd=1e-6,qi=Math.PI/180,Ji=360/(Math.PI*2);var Le;(function(e){e.TwoPi=Math.PI*2;function o(V,W,X=1401298e-51){let C=V-W;return-X<=C&&C<=X}e.withinEpsilon=o;function c(V){let W=V.toString(16);return V<=15?("0"+W).toUpperCase():W.toUpperCase()}e.toHex=c;function t(V){let W=+V;return W===0||isNaN(W)?W:W>0?1:-1}e.sign=t;function r(V,W=0,X=1){return Math.min(X,Math.max(W,V))}e.clamp=r;function n(V){return Math.log(V)*Math.LOG2E}e.log2=n;function s(V,W){return V-Math.floor(V/W)*W}e.repeat=s;function a(V,W,X){return(V-W)/(X-W)}e.normalize=a;function i(V,W,X){return V*(X-W)+W}e.denormalize=i;function f(V,W){let X=s(W-V,360);return X>180&&(X-=360),X}e.deltaAngle=f;function u(V,W){let X=s(V,W*2);return W-Math.abs(X-W)}e.pingPong=u;function b(V,W,X){let C=r(X);return C=-2*C*C*C+3*C*C,W*C+V*(1-C)}e.smoothStep=b;function m(V,W,X){let C=0;return Math.abs(W-V)<=X?C=W:C=V+t(W-V)*X,C}e.moveTowards=m;function g(V,W,X){let C=f(V,W),L=0;return-X<C&&C<X?L=W:L=m(V,V+C,X),L}e.moveTowardsAngle=g;function E(V,W,X){return V+(W-V)*X}e.lerp=E;function d(V,W,X){let C=s(W-V,360);return C>180&&(C-=360),V+C*r(X)}e.lerpAngle=d;function p(V,W,X){let C=0;return V!==W?C=r((X-V)/(W-V)):C=0,C}e.inverseLerp=p;function h(V,W,X,C,L){let A=L*L,O=L*A,G=2*O-3*A+1,K=-2*O+3*A,ie=O-2*A+L,le=O-A;return V*G+X*K+W*ie+C*le}e.hermite=h;function T(V,W){return V===W?V:Math.random()*(W-V)+V}e.randomRange=T;function I(V,W,X){return(V-W)/(X-W)}e.rangeToPercent=I;function z(V,W,X){return(X-W)*V+W}e.percentToRange=z;function ne(V){return V-e.TwoPi*Math.floor((V+Math.PI)/e.TwoPi)}e.normalizeRadians=ne})(Le||(Le={}));var D;(function(e){function o(_){let N=Math.abs(_.x),v=Math.abs(_.y);if(N!==v)return!0;let te=Math.abs(_.z);return N!==te}e.isNonUniform=o;function c(_=0,N=0,v=0){return{x:_,y:N,z:v}}e.create=c;function t(_,N){return{x:_.x+N.x,y:_.y+N.y,z:_.z+N.z}}e.add=t;function r(_,N,v){v.x=_.x+N.x,v.y=_.y+N.y,v.z=_.z+N.z}e.addToRef=r;function n(_,N){return{x:_.x-N.x,y:_.y-N.y,z:_.z-N.z}}e.subtract=n;function s(_,N,v){v.x=_.x-N.x,v.y=_.y-N.y,v.z=_.z-N.z}e.subtractToRef=s;function a(_,N,v,te,ee){ee.x=_.x-N,ee.y=_.y-v,ee.z=_.z-te}e.subtractFromFloatsToRef=a;function i(_){return{x:-_.x,y:-_.y,z:-_.z}}e.negate=i;function f(_,N){N.x=_.x,N.y=_.y,N.z=_.z}e.copyFrom=f;function u(_,N,v,te){te.x=_,te.y=N,te.z=v}e.copyFromFloats=u;function b(_){return c(_.x,_.y,_.z)}e.clone=b;function m(_,N,v,te){let ee=L(_,v)-te,ae=L(N,v)-te;return ee/(ee-ae)}e.getClipFactor=m;function g(_,N,v){let te=X(_),ee=X(N),ae=L(te,ee),pe=c();return ye(te,ee,pe),L(pe,v)>0?Math.acos(ae):-Math.acos(ae)}e.getAngleBetweenVectors=g;function E(_,N=0){return c(_[N],_[N+1],_[N+2])}e.fromArray=E;function d(_,N){return E(_,N)}e.fromFloatArray=d;function p(_,N,v){v.x=_[N],v.y=_[N+1],v.z=_[N+2]}e.fromArrayToRef=p;function h(_,N,v){return p(_,N,v)}e.fromFloatArrayToRef=h;function T(_){return Math.sqrt(_.x*_.x+_.y*_.y+_.z*_.z)}e.length=T;function I(_){return _.x*_.x+_.y*_.y+_.z*_.z}e.lengthSquared=I;function z(_,N,v){v.x=_.x*N,v.y=_.y*N,v.z=_.z*N}e.scaleToRef=z;function ne(_,N){return c(_.x*N,_.y*N,_.z*N)}e.scale=ne;function V(_,N){let v=c(0,0,0);return W(_,N,v),v}e.normalizeFromLength=V;function W(_,N,v){if(N===0||N===1){f(_,v);return}z(_,1/N,v)}e.normalizeFromLengthToRef=W;function X(_){return V(_,T(_))}e.normalize=X;function C(_,N){W(_,T(_),N)}e.normalizeToRef=C;function L(_,N){return _.x*N.x+_.y*N.y+_.z*N.z}e.dot=L;function A(_,N){let v=b(_);return O(_,N,v),v}e.applyMatrix4=A;function O(_,N,v){let{x:te,y:ee,z:ae}=_,pe=N._m,st=1/(pe[3]*te+pe[7]*ee+pe[11]*ae+pe[15]);v.x=(pe[0]*te+pe[4]*ee+pe[8]*ae+pe[12])*st,v.y=(pe[1]*te+pe[5]*ee+pe[9]*ae+pe[13])*st,v.z=(pe[2]*te+pe[6]*ee+pe[10]*ae+pe[14])*st}e.applyMatrix4ToRef=O;function G(_,N){let v=c();return K(_,N,v),v}e.rotate=G;function K(_,N,v){let{x:te,y:ee,z:ae}=_,{x:pe,y:st,z:St,w:tt}=N,In=tt*te+st*ae-St*ee,bo=tt*ee+St*te-pe*ae,Yn=tt*ae+pe*ee-st*te,To=-pe*te-st*ee-St*ae;v.x=In*tt+To*-pe+bo*-St-Yn*-st,v.y=bo*tt+To*-st+Yn*-pe-In*-St,v.z=Yn*tt+To*-St+In*-st-bo*-pe}e.rotateToRef=K;function ie(_,N,v){let te=c(0,0,0);return le(_,N,v,te),te}e.lerp=ie;function le(_,N,v,te){te.x=_.x+(N.x-_.x)*v,te.y=_.y+(N.y-_.y)*v,te.z=_.z+(N.z-_.z)*v}e.lerpToRef=le;function Ee(_,N){let v=yo();return ye(_,N,v),v}e.cross=Ee;function ye(_,N,v){v.x=_.y*N.z-_.z*N.y,v.y=_.z*N.x-_.x*N.z,v.z=_.x*N.y-_.y*N.x}e.crossToRef=ye;function Re(_,N){let v=yo();return ke(_,N,v),v}e.transformCoordinates=Re;function ke(_,N,v){return Pe(_.x,_.y,_.z,N,v)}e.transformCoordinatesToRef=ke;function Pe(_,N,v,te,ee){let ae=te._m,pe=_*ae[0]+N*ae[4]+v*ae[8]+ae[12],st=_*ae[1]+N*ae[5]+v*ae[9]+ae[13],St=_*ae[2]+N*ae[6]+v*ae[10]+ae[14],tt=1/(_*ae[3]+N*ae[7]+v*ae[11]+ae[15]);ee.x=pe*tt,ee.y=st*tt,ee.z=St*tt}e.transformCoordinatesFromFloatsToRef=Pe;function Ue(_,N){let v=yo();return We(_,N,v),v}e.transformNormal=Ue;function We(_,N,v){xe(_.x,_.y,_.z,N,v)}e.transformNormalToRef=We;function xe(_,N,v,te,ee){let ae=te._m;ee.x=_*ae[0]+N*ae[4]+v*ae[8],ee.y=_*ae[1]+N*ae[5]+v*ae[9],ee.z=_*ae[2]+N*ae[6]+v*ae[10]}e.transformNormalFromFloatsToRef=xe;function wt(_,N,v,te,ee){let ae=ee*ee,pe=ee*ae,st=.5*(2*N.x+(-_.x+v.x)*ee+(2*_.x-5*N.x+4*v.x-te.x)*ae+(-_.x+3*N.x-3*v.x+te.x)*pe),St=.5*(2*N.y+(-_.y+v.y)*ee+(2*_.y-5*N.y+4*v.y-te.y)*ae+(-_.y+3*N.y-3*v.y+te.y)*pe),tt=.5*(2*N.z+(-_.z+v.z)*ee+(2*_.z-5*N.z+4*v.z-te.z)*ae+(-_.z+3*N.z-3*v.z+te.z)*pe);return c(st,St,tt)}e.catmullRom=wt;function M(_,N,v){let te=c();return F(_,N,v,te),te}e.clamp=M;function F(_,N,v,te){let ee=_.x;ee=ee>v.x?v.x:ee,ee=ee<N.x?N.x:ee;let ae=_.y;ae=ae>v.y?v.y:ae,ae=ae<N.y?N.y:ae;let pe=_.z;pe=pe>v.z?v.z:pe,pe=pe<N.z?N.z:pe,u(ee,ae,pe,te)}e.clampToRef=F;function Z(_,N,v,te,ee){let ae=ee*ee,pe=ee*ae,st=2*pe-3*ae+1,St=-2*pe+3*ae,tt=pe-2*ae+ee,In=pe-ae,bo=_.x*st+v.x*St+N.x*tt+te.x*In,Yn=_.y*st+v.y*St+N.y*tt+te.y*In,To=_.z*st+v.z*St+N.z*tt+te.z*In;return c(bo,Yn,To)}e.hermite=Z;function y(_,N){let v=c();return Fa(N,_.x,_.y,_.z,v),v}e.minimize=y;function R(_,N){let v=c();return za(_,N.x,N.y,N.z,v),v}e.maximize=R;function U(_,N){return Math.sqrt(j(_,N))}e.distance=U;function j(_,N){let v=_.x-N.x,te=_.y-N.y,ee=_.z-N.z;return v*v+te*te+ee*ee}e.distanceSquared=j;function De(_,N){let v=t(_,N);return z(v,.5,v),v}e.center=De;function je(_,N,v){let te=yo();return pt(_,N,v,te),te}e.rotationFromAxis=je;function pt(_,N,v,te){let ee=Ae.create();Ae.fromAxisToRotationQuaternionToRef(_,N,v,ee),f(Ae.toEulerAngles(ee),te)}e.rotationFromAxisToRef=pt;function me(_){return`(${_.x}, ${_.y}, ${_.z})`}e.toString=me;function Lt(_){let N=_.x||0;return N=N*397^(_.y||0),N=N*397^(_.z||0),N}e.getHashCode=Lt;function zf(_,N){return _.x===N.x&&_.y===N.y&&_.z===N.z}e.equals=zf;function Ba(_,N,v=zd){return Le.withinEpsilon(_.x,N.x,v)&&Le.withinEpsilon(_.y,N.y,v)&&Le.withinEpsilon(_.z,N.z,v)}e.equalsWithEpsilon=Ba;function Ff(_,N,v,te){return _.x===N&&_.y===v&&_.z===te}e.equalsToFloats=Ff;function $i(_,N){let v=c();return qe(_,N,v),v}e.multiply=$i;function qe(_,N,v){v.x=_.x*N.x,v.y=_.y*N.y,v.z=_.z*N.z}e.multiplyToRef=qe;function Da(_,N,v,te,ee){ee.x=_.x*N,ee.y=_.y*v,ee.z=_.z*te}e.multiplyByFloatsToRef=Da;function Vf(_,N,v,te){let ee=c();return Da(_,N,v,te,ee),ee}e.multiplyByFloats=Vf;function La(_,N){return{x:_.x/N.x,y:_.y/N.y,z:_.z/N.z}}e.divide=La;function Wf(_,N,v){v.x=_.x/N.x,v.y=_.y/N.y,v.z=_.z/N.z}e.divideToRef=Wf;function za(_,N,v,te,ee){N>_.x?ee.x=N:ee.x=_.x,v>_.y?ee.y=v:ee.y=_.y,te>_.z?ee.z=te:ee.z=_.z}e.maximizeInPlaceFromFloatsToRef=za;function Fa(_,N,v,te,ee){N<_.x?ee.x=N:ee.x=_.x,v<_.y?ee.y=v:ee.y=_.y,te<_.z?ee.z=te:ee.z=_.z}e.minimizeInPlaceFromFloatsToRef=Fa;function Hf(_){return c(Math.floor(_.x),Math.floor(_.y),Math.floor(_.z))}e.floor=Hf;function Va(_){return c(_.x-Math.floor(_.x),_.y-Math.floor(_.y),_.z-Math.floor(_.z))}e.fract=Va;function yo(){return c(0,0,0)}e.Zero=yo;function Gf(){return c(1,1,1)}e.One=Gf;function Yi(){return c(0,1,0)}e.Up=Yi;function jf(){return c(0,-1,0)}e.Down=jf;function $f(){return c(0,0,1)}e.Forward=$f;function Wa(){return c(0,0,-1)}e.Backward=Wa;function Ha(){return c(1,0,0)}e.Right=Ha;function Yf(){return c(-1,0,0)}e.Left=Yf;function qf(){return c(Math.random(),Math.random(),Math.random())}e.Random=qf})(D||(D={}));var ja;(function(e){function o(d,p,h,T){return{normal:D.create(d,p,h),d:T}}e.create=o;function c(d){return o(d[0],d[1],d[2],d[3])}e.fromArray=c;function t(d,p,h){return o(0,0,0,0)}e.fromPoints=t;function r(d,p){let h=o(0,0,0,0);return h.normal=D.normalize(p),h.d=-(p.x*d.x+p.y*d.y+p.z*d.z),h}e.romPositionAndNormal=r;function n(d,p,h){let T=-(p.x*d.x+p.y*d.y+p.z*d.z);return D.dot(h,p)+T}e.signedDistanceToPlaneFromPositionAndNormal=n;function s(d){return[d.normal.x,d.normal.y,d.normal.z,d.d]}e.asArray=s;function a(d){return o(d.normal.x,d.normal.y,d.normal.z,d.d)}e.clone=a;function i(d){return 0}e.getHashCode=i;function f(d){let p=o(0,0,0,0),h=Math.sqrt(d.normal.x*d.normal.x+d.normal.y*d.normal.y+d.normal.z*d.normal.z),T=0;return h!==0&&(T=1/h),p.normal.x=d.normal.x*T,p.normal.y=d.normal.y*T,p.normal.z=d.normal.z*T,p.d*=T,d}e.normalize=f;function u(d,p){let h=ln.create();ln.transposeToRef(p,h);let T=h._m,I=d.normal.x,z=d.normal.y,ne=d.normal.z,V=d.d,W=I*T[0]+z*T[1]+ne*T[2]+V*T[3],X=I*T[4]+z*T[5]+ne*T[6]+V*T[7],C=I*T[8]+z*T[9]+ne*T[10]+V*T[11],L=I*T[12]+z*T[13]+ne*T[14]+V*T[15];return o(W,X,C,L)}e.transform=u;function b(d,p){return d.normal.x*p.x+d.normal.y*p.y+d.normal.z*p.z+d.d}e.dotCoordinate=b;function m(d,p,h){let T=p.x-d.x,I=p.y-d.y,z=p.z-d.z,ne=h.x-d.x,V=h.y-d.y,W=h.z-d.z,X=I*W-z*V,C=z*ne-T*W,L=T*V-I*ne,A=Math.sqrt(X*X+C*C+L*L),O;A!==0?O=1/A:O=0;let G=D.create(X*O,C*O,L*O);return{normal:G,d:-(G.x*d.x+G.y*d.y+G.z*d.z)}}e.copyFromPoints=m;function g(d,p,h){return D.dot(d.normal,p)<=h}e.isFrontFacingTo=g;function E(d,p){return D.dot(p,d.normal)+d.d}e.signedDistanceTo=E})(ja||(ja={}));var ln;(function(e){function o(l){return l._m}e.m=o;let c=0,t={};function r(){return t}e.IdentityReadonly=r;function n(){let l={updateFlag:0,isIdentity:!1,isIdentity3x2:!0,_isIdentityDirty:!0,_isIdentity3x2Dirty:!0,_m:[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]};return bt(l,!1),l}e.create=n;function s(l,S=0){let x=n();return a(l,S,x),x}e.fromArray=s;function a(l,S,x){for(let k=0;k<16;k++)x._m[k]=l[k+S];qe(x)}e.fromArrayToRef=a;function i(l,S,x,k){for(let w=0;w<16;w++)k._m[w]=l[w+S]*x;qe(k)}e.fromFloatArrayToRefScaled=i;function f(l,S,x,k,w,H,B,Q,ce,ue,he,Be,be,nt,ot,ft,Je){let de=Je._m;de[0]=l,de[1]=S,de[2]=x,de[3]=k,de[4]=w,de[5]=H,de[6]=B,de[7]=Q,de[8]=ce,de[9]=ue,de[10]=he,de[11]=Be,de[12]=be,de[13]=nt,de[14]=ot,de[15]=ft,qe(Je)}e.fromValuesToRef=f;function u(l,S,x,k,w,H,B,Q,ce,ue,he,Be,be,nt,ot,ft){let Je=n(),de=Je._m;return de[0]=l,de[1]=S,de[2]=x,de[3]=k,de[4]=w,de[5]=H,de[6]=B,de[7]=Q,de[8]=ce,de[9]=ue,de[10]=he,de[11]=Be,de[12]=be,de[13]=nt,de[14]=ot,de[15]=ft,qe(Je),Je}e.fromValues=u;function b(l,S,x){let k=n();return m(l,S,x,k),k}e.compose=b;function m(l,S,x,k){let w=[n(),n(),n()];A(l.x,l.y,l.z,w[1]),$i(S,w[0]),ee(w[1],w[0],k),Ha(k,x)}e.composeToRef=m;function g(){let l=u(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1);return bt(l,!0),l}e.Identity=g;function E(l){f(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1,l),bt(l,!0)}e.IdentityToRef=E;function d(){let l=u(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);return bt(l,!1),l}e.Zero=d;function p(l){let S=n();return h(l,S),S}e.RotationX=p;function h(l,S){let x=Math.sin(l),k=Math.cos(l);f(1,0,0,0,0,k,x,0,0,-x,k,0,0,0,0,1,S),bt(S,k===1&&x===0)}e.rotationXToRef=h;function T(l){let S=n();return I(l,S),S}e.rotationY=T;function I(l,S){let x=Math.sin(l),k=Math.cos(l);f(k,0,-x,0,0,1,0,0,x,0,k,0,0,0,0,1,S),bt(S,k===1&&x===0)}e.rotationYToRef=I;function z(l){let S=n();return ne(l,S),S}e.rotationZ=z;function ne(l,S){let x=Math.sin(l),k=Math.cos(l);f(k,x,0,0,-x,k,0,0,0,0,1,0,0,0,0,1,S),bt(S,k===1&&x===0)}e.rotationZToRef=ne;function V(l,S){let x=n();return W(l,S,x),x}e.rotationAxis=V;function W(l,S,x){let k=Math.sin(-S),w=Math.cos(-S),H=1-w,B=D.normalize(l),Q=x._m;Q[0]=B.x*B.x*H+w,Q[1]=B.x*B.y*H-B.z*k,Q[2]=B.x*B.z*H+B.y*k,Q[3]=0,Q[4]=B.y*B.x*H+B.z*k,Q[5]=B.y*B.y*H+w,Q[6]=B.y*B.z*H-B.x*k,Q[7]=0,Q[8]=B.z*B.x*H-B.y*k,Q[9]=B.z*B.y*H+B.x*k,Q[10]=B.z*B.z*H+w,Q[11]=0,Q[12]=0,Q[13]=0,Q[14]=0,Q[15]=1,qe(x)}e.rotationAxisToRef=W;function X(l,S,x){let k=n();return C(l,S,x,k),k}e.rotationYawPitchRoll=X;function C(l,S,x,k){let w=Ae.Zero();Ae.fromRotationYawPitchRollToRef(l,S,x,w),$i(w,k)}e.rotationYawPitchRollToRef=C;function L(l,S,x){let k=n();return A(l,S,x,k),k}e.scaling=L;function A(l,S,x,k){f(l,0,0,0,0,S,0,0,0,0,x,0,0,0,0,1,k),bt(k,l===1&&S===1&&x===1)}e.scalingToRef=A;function O(l,S,x){let k=n();return G(l,S,x,k),k}e.translation=O;function G(l,S,x,k){f(1,0,0,0,0,1,0,0,0,0,1,0,l,S,x,1,k),bt(k,l===0&&S===0&&x===0)}e.translationToRef=G;function K(l,S,x){let k=n();return ie(l,S,x,k),k}e.lerp=K;function ie(l,S,x,k){for(let w=0;w<16;w++)k._m[w]=l._m[w]*(1-x)+S._m[w]*x;qe(k)}e.lerpToRef=ie;function le(l,S,x){let k=n();return Ee(l,S,x,k),k}e.decomposeLerp=le;function Ee(l,S,x,k){let w=D.Zero(),H=Ae.Zero(),B=D.Zero();tt(l,w,H,B);let Q=D.Zero(),ce=Ae.Zero(),ue=D.Zero();tt(S,Q,ce,ue);let he=D.Zero();D.lerpToRef(w,Q,x,he);let Be=Ae.Zero();Ae.slerpToRef(H,ce,x,Be);let be=D.Zero();D.lerpToRef(B,ue,x,be),m(he,Be,be,k)}e.decomposeLerpToRef=Ee;function ye(l,S,x){let k=n();return Re(l,S,x,k),k}e.LookAtLH=ye;function Re(l,S,x,k){let w=D.Zero(),H=D.Zero(),B=D.Zero();D.subtractToRef(S,l,B),D.normalizeToRef(B,B),D.crossToRef(x,B,w);let Q=D.lengthSquared(w);Q===0?w.x=1:D.normalizeFromLengthToRef(w,Math.sqrt(Q),w),D.crossToRef(B,w,H),D.normalizeToRef(H,H);let ce=-D.dot(w,l),ue=-D.dot(H,l),he=-D.dot(B,l);f(w.x,H.x,B.x,0,w.y,H.y,B.y,0,w.z,H.z,B.z,0,ce,ue,he,1,k)}e.lookAtLHToRef=Re;function ke(l,S,x){let k=n();return Pe(l,S,x,k),k}e.lookAtRH=ke;function Pe(l,S,x,k){let w=D.Zero(),H=D.Zero(),B=D.Zero();D.subtractToRef(l,S,B),D.normalizeToRef(B,B),D.crossToRef(x,B,w);let Q=D.lengthSquared(w);Q===0?w.x=1:D.normalizeFromLengthToRef(w,Math.sqrt(Q),w),D.crossToRef(B,w,H),D.normalizeToRef(H,H);let ce=-D.dot(w,l),ue=-D.dot(H,l),he=-D.dot(B,l);f(w.x,H.x,B.x,0,w.y,H.y,B.y,0,w.z,H.z,B.z,0,ce,ue,he,1,k)}e.lookAtRHToRef=Pe;function Ue(l,S,x,k){let w=n();return We(l,S,x,k,w),w}e.orthoLH=Ue;function We(l,S,x,k,w){let H=x,B=k,Q=2/l,ce=2/S,ue=2/(B-H),he=-(B+H)/(B-H);f(Q,0,0,0,0,ce,0,0,0,0,ue,0,0,0,he,1,w),bt(w,Q===1&&ce===1&&ue===1&&he===0)}e.orthoLHToRef=We;function xe(l,S,x,k,w,H){let B=n();return wt(l,S,x,k,w,H,B),B}e.OrthoOffCenterLH=xe;function wt(l,S,x,k,w,H,B){let Q=w,ce=H,ue=2/(S-l),he=2/(k-x),Be=2/(ce-Q),be=-(ce+Q)/(ce-Q),nt=(l+S)/(l-S),ot=(k+x)/(x-k);f(ue,0,0,0,0,he,0,0,0,0,Be,0,nt,ot,be,1,B),qe(B)}e.orthoOffCenterLHToRef=wt;function M(l,S,x,k,w,H){let B=n();return F(l,S,x,k,w,H,B),B}e.orthoOffCenterRH=M;function F(l,S,x,k,w,H,B){wt(l,S,x,k,w,H,B),B._m[10]*=-1}e.orthoOffCenterRHToRef=F;function Z(l,S,x,k){let w=n(),H=x,B=k,Q=2*H/l,ce=2*H/S,ue=(B+H)/(B-H),he=-2*B*H/(B-H);return f(Q,0,0,0,0,ce,0,0,0,0,ue,1,0,0,he,0,w),bt(w,!1),w}e.perspectiveLH=Z;function y(l,S,x,k){let w=n();return R(l,S,x,k,w),w}e.perspectiveFovLH=y;function R(l,S,x,k,w,H=!0){let B=x,Q=k,ce=1/Math.tan(l*.5),ue=H?ce/S:ce,he=H?ce:ce*S,Be=(Q+B)/(Q-B),be=-2*Q*B/(Q-B);f(ue,0,0,0,0,he,0,0,0,0,Be,1,0,0,be,0,w),bt(w,!1)}e.perspectiveFovLHToRef=R;function U(l,S,x,k){let w=n();return j(l,S,x,k,w),w}e.PerspectiveFovRH=U;function j(l,S,x,k,w,H=!0){let B=x,Q=k,ce=1/Math.tan(l*.5),ue=H?ce/S:ce,he=H?ce:ce*S,Be=-(Q+B)/(Q-B),be=-2*Q*B/(Q-B);f(ue,0,0,0,0,he,0,0,0,0,Be,-1,0,0,be,0,w),bt(w,!1)}e.perspectiveFovRHToRef=j;function De(l,S,x,k,w=!1){let H=w?-1:1,B=Math.tan(l.upDegrees*Math.PI/180),Q=Math.tan(l.downDegrees*Math.PI/180),ce=Math.tan(l.leftDegrees*Math.PI/180),ue=Math.tan(l.rightDegrees*Math.PI/180),he=2/(ce+ue),Be=2/(B+Q),be=k._m;be[0]=he,be[1]=be[2]=be[3]=be[4]=0,be[5]=Be,be[6]=be[7]=0,be[8]=(ce-ue)*he*.5,be[9]=-((B-Q)*Be*.5),be[10]=-x/(S-x),be[11]=1*H,be[12]=be[13]=be[15]=0,be[14]=-(2*x*S)/(x-S),qe(k)}e.perspectiveFovWebVRToRef=De;function je(l){return[l._m[0],l._m[1],l._m[4],l._m[5]]}e.GetAsMatrix2x2=je;function pt(l){return[l._m[0],l._m[1],l._m[2],l._m[4],l._m[5],l._m[6],l._m[8],l._m[9],l._m[10]]}e.GetAsMatrix3x3=pt;function me(l){let S=n();return Lt(l,S),S}e.transpose=me;function Lt(l,S){let x=S._m,k=l._m;x[0]=k[0],x[1]=k[4],x[2]=k[8],x[3]=k[12],x[4]=k[1],x[5]=k[5],x[6]=k[9],x[7]=k[13],x[8]=k[2],x[9]=k[6],x[10]=k[10],x[11]=k[14],x[12]=k[3],x[13]=k[7],x[14]=k[11],x[15]=k[15],bt(S,l.isIdentity,l._isIdentityDirty)}e.transposeToRef=Lt;function zf(l){let S=n();return Ba(l,S),S}e.reflection=zf;function Ba(l,S){let x=ja.normalize(l),k=x.normal.x,w=x.normal.y,H=x.normal.z,B=-2*k,Q=-2*w,ce=-2*H;f(B*k+1,Q*k,ce*k,0,B*w,Q*w+1,ce*w,0,B*H,Q*H,ce*H+1,0,B*x.d,Q*x.d,ce*x.d,1,S)}e.reflectionToRef=Ba;function Ff(l,S,x,k){f(l.x,l.y,l.z,0,S.x,S.y,S.z,0,x.x,x.y,x.z,0,0,0,0,1,k)}e.fromXYZAxesToRef=Ff;function $i(l,S){let x=l.x*l.x,k=l.y*l.y,w=l.z*l.z,H=l.x*l.y,B=l.z*l.w,Q=l.z*l.x,ce=l.y*l.w,ue=l.y*l.z,he=l.x*l.w;S._m[0]=1-2*(k+w),S._m[1]=2*(H+B),S._m[2]=2*(Q-ce),S._m[3]=0,S._m[4]=2*(H-B),S._m[5]=1-2*(w+x),S._m[6]=2*(ue+he),S._m[7]=0,S._m[8]=2*(Q+ce),S._m[9]=2*(ue-he),S._m[10]=1-2*(k+x),S._m[11]=0,S._m[12]=0,S._m[13]=0,S._m[14]=0,S._m[15]=1,qe(S)}e.fromQuaternionToRef=$i;function qe(l){l.updateFlag=c++,l.isIdentity=!1,l.isIdentity3x2=!1,l._isIdentityDirty=!0,l._isIdentity3x2Dirty=!0}function Da(l){if(l._isIdentityDirty){l._isIdentityDirty=!1;let S=l._m;l.isIdentity=S[0]===1&&S[1]===0&&S[2]===0&&S[3]===0&&S[4]===0&&S[5]===1&&S[6]===0&&S[7]===0&&S[8]===0&&S[9]===0&&S[10]===1&&S[11]===0&&S[12]===0&&S[13]===0&&S[14]===0&&S[15]===1}return l.isIdentity}e.isIdentityUpdate=Da;function Vf(l){return l._isIdentity3x2Dirty&&(l._isIdentity3x2Dirty=!1,l._m[0]!==1||l._m[5]!==1||l._m[15]!==1||l._m[1]!==0||l._m[2]!==0||l._m[3]!==0||l._m[4]!==0||l._m[6]!==0||l._m[7]!==0||l._m[8]!==0||l._m[9]!==0||l._m[10]!==0||l._m[11]!==0||l._m[12]!==0||l._m[13]!==0||l._m[14]!==0?l.isIdentity3x2=!1:l.isIdentity3x2=!0),l.isIdentity3x2}e.isIdentityAs3x2Update=Vf;function La(l){if(l.isIdentity===!0)return 1;let S=l._m,x=S[0],k=S[1],w=S[2],H=S[3],B=S[4],Q=S[5],ce=S[6],ue=S[7],he=S[8],Be=S[9],be=S[10],nt=S[11],ot=S[12],ft=S[13],Je=S[14],de=S[15],Ct=be*de-Je*nt,Qt=Be*de-ft*nt,Zt=Be*Je-ft*be,en=he*de-ot*nt,tn=he*Je-be*ot,nn=he*ft-ot*Be,dn=+(Q*Ct-ce*Qt+ue*Zt),Cn=-(B*Ct-ce*en+ue*tn),Mn=+(B*Qt-Q*en+ue*nn),vn=-(B*Zt-Q*tn+ce*nn);return x*dn+k*Cn+w*Mn+H*vn}e.determinant=La;function Wf(l){return l._m}e.toArray=Wf;function za(l){return l._m}e.asArray=za;function Fa(l){f(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,l),bt(l,!1)}e.reset=Fa;function Hf(l,S){let x=n();return Va(l,S,x),x}e.add=Hf;function Va(l,S,x){for(let k=0;k<16;k++)x._m[k]=l._m[k]+S._m[k];qe(x)}e.addToRef=Va;function yo(l,S){for(let x=0;x<16;x++)l._m[x]+=S._m[x];qe(l)}e.addToSelf=yo;function Gf(l){let S=n();return Yi(l,S),S}e.invert=Gf;function Yi(l,S){if(l.isIdentity===!0){v(l,S);return}let x=l._m,k=x[0],w=x[1],H=x[2],B=x[3],Q=x[4],ce=x[5],ue=x[6],he=x[7],Be=x[8],be=x[9],nt=x[10],ot=x[11],ft=x[12],Je=x[13],de=x[14],Ct=x[15],Qt=nt*Ct-de*ot,Zt=be*Ct-Je*ot,en=be*de-Je*nt,tn=Be*Ct-ft*ot,nn=Be*de-nt*ft,dn=Be*Je-ft*be,Cn=+(ce*Qt-ue*Zt+he*en),Mn=-(Q*Qt-ue*tn+he*nn),vn=+(Q*Zt-ce*tn+he*dn),So=-(Q*en-ce*nn+ue*dn),_o=k*Cn+w*Mn+H*vn+B*So;if(_o===0){v(l,S);return}let rt=1/_o,xo=ue*Ct-de*he,ko=ce*Ct-Je*he,Ro=ce*de-Je*ue,Ao=Q*Ct-ft*he,No=Q*de-ft*ue,go=Q*Je-ft*ce,Oo=ue*ot-nt*he,vd=ce*ot-be*he,Pd=ce*nt-be*ue,Ud=Q*ot-Be*he,Bd=Q*nt-Be*ue,Dd=Q*be-Be*ce,kE=-(w*Qt-H*Zt+B*en),RE=+(k*Qt-H*tn+B*nn),AE=-(k*Zt-w*tn+B*dn),NE=+(k*en-w*nn+H*dn),gE=+(w*xo-H*ko+B*Ro),OE=-(k*xo-H*Ao+B*No),wE=+(k*ko-w*Ao+B*go),IE=-(k*Ro-w*No+H*go),CE=-(w*Oo-H*vd+B*Pd),ME=+(k*Oo-H*Ud+B*Bd),vE=-(k*vd-w*Ud+B*Dd),PE=+(k*Pd-w*Bd+H*Dd);f(Cn*rt,kE*rt,gE*rt,CE*rt,Mn*rt,RE*rt,OE*rt,ME*rt,vn*rt,AE*rt,wE*rt,vE*rt,So*rt,NE*rt,IE*rt,PE*rt,S)}e.invertToRef=Yi;function jf(l,S,x){l._m[S]+=x,qe(l)}e.addAtIndex=jf;function $f(l,S,x){return l._m[S]*=x,qe(l),l}e.multiplyAtIndex=$f;function Wa(l,S,x,k){l._m[12]=S,l._m[13]=x,l._m[14]=k,qe(l)}e.setTranslationFromFloats=Wa;function Ha(l,S){Wa(l,S.x,S.y,S.z)}e.setTranslation=Ha;function Yf(l){return D.create(l._m[12],l._m[13],l._m[14])}e.getTranslation=Yf;function qf(l,S){S.x=l._m[12],S.y=l._m[13],S.z=l._m[14]}e.getTranslationToRef=qf;function _(l){let S=l._m;return f(1,0,0,0,0,1,0,0,0,0,1,0,S[12],S[13],S[14],S[15],l),bt(l,S[12]===0&&S[13]===0&&S[14]===0&&S[15]===1),l}e.removeRotationAndScaling=_;function N(l,S){let x=n();return ee(l,S,x),x}e.multiply=N;function v(l,S){te(l,S._m),bt(S,l.isIdentity,l._isIdentityDirty,l.isIdentity3x2,l._isIdentity3x2Dirty)}e.copy=v;function te(l,S,x=0){for(let k=0;k<16;k++)S[x+k]=l._m[k]}e.copyToArray=te;function ee(l,S,x){if(l.isIdentity){v(S,x);return}if(S.isIdentity){v(l,x);return}ae(l,S,x._m,0),qe(x)}e.multiplyToRef=ee;function ae(l,S,x,k){let w=l._m,H=S._m,B=w[0],Q=w[1],ce=w[2],ue=w[3],he=w[4],Be=w[5],be=w[6],nt=w[7],ot=w[8],ft=w[9],Je=w[10],de=w[11],Ct=w[12],Qt=w[13],Zt=w[14],en=w[15],tn=H[0],nn=H[1],dn=H[2],Cn=H[3],Mn=H[4],vn=H[5],So=H[6],_o=H[7],rt=H[8],xo=H[9],ko=H[10],Ro=H[11],Ao=H[12],No=H[13],go=H[14],Oo=H[15];x[k]=B*tn+Q*Mn+ce*rt+ue*Ao,x[k+1]=B*nn+Q*vn+ce*xo+ue*No,x[k+2]=B*dn+Q*So+ce*ko+ue*go,x[k+3]=B*Cn+Q*_o+ce*Ro+ue*Oo,x[k+4]=he*tn+Be*Mn+be*rt+nt*Ao,x[k+5]=he*nn+Be*vn+be*xo+nt*No,x[k+6]=he*dn+Be*So+be*ko+nt*go,x[k+7]=he*Cn+Be*_o+be*Ro+nt*Oo,x[k+8]=ot*tn+ft*Mn+Je*rt+de*Ao,x[k+9]=ot*nn+ft*vn+Je*xo+de*No,x[k+10]=ot*dn+ft*So+Je*ko+de*go,x[k+11]=ot*Cn+ft*_o+Je*Ro+de*Oo,x[k+12]=Ct*tn+Qt*Mn+Zt*rt+en*Ao,x[k+13]=Ct*nn+Qt*vn+Zt*xo+en*No,x[k+14]=Ct*dn+Qt*So+Zt*ko+en*go,x[k+15]=Ct*Cn+Qt*_o+Zt*Ro+en*Oo}e.multiplyToArray=ae;function pe(l,S){let x=S;if(!x)return!1;if((l.isIdentity||x.isIdentity)&&!l._isIdentityDirty&&!x._isIdentityDirty)return l.isIdentity&&x.isIdentity;let k=l._m,w=x._m;return k[0]===w[0]&&k[1]===w[1]&&k[2]===w[2]&&k[3]===w[3]&&k[4]===w[4]&&k[5]===w[5]&&k[6]===w[6]&&k[7]===w[7]&&k[8]===w[8]&&k[9]===w[9]&&k[10]===w[10]&&k[11]===w[11]&&k[12]===w[12]&&k[13]===w[13]&&k[14]===w[14]&&k[15]===w[15]}e.equals=pe;function st(l){let S=n();return v(l,S),S}e.clone=st;function St(l){let S=l._m[0]||0;for(let x=1;x<16;x++)S=S*397^(l._m[x]||0);return S}e.getHashCode=St;function tt(l,S,x,k){if(l.isIdentity)return k&&(k.x=0,k.y=0,k.z=0),S&&(S.x=1,S.y=1,S.z=1),x&&(x.w=1,x.x=0,x.y=0,x.z=0),!0;let w=l._m;k&&(k.x=w[12],k.y=w[13],k.z=w[14]);let H=S||D.Zero();if(H.x=Math.sqrt(w[0]*w[0]+w[1]*w[1]+w[2]*w[2]),H.y=Math.sqrt(w[4]*w[4]+w[5]*w[5]+w[6]*w[6]),H.z=Math.sqrt(w[8]*w[8]+w[9]*w[9]+w[10]*w[10]),La(l)<=0&&(H.y*=-1),H.x===0||H.y===0||H.z===0)return x&&(x.w=1,x.x=0,x.y=0,x.z=0),!1;if(x){let B=1/H.x,Q=1/H.y,ce=1/H.z,ue=n();f(w[0]*B,w[1]*B,w[2]*B,0,w[4]*Q,w[5]*Q,w[6]*Q,0,w[8]*ce,w[9]*ce,w[10]*ce,0,0,0,0,1,ue),Ae.fromRotationMatrixToRef(ue,x)}return!0}e.decompose=tt;function In(l,S,x,k,w,H){if(S<0||S>3)return;let B=S*4;l._m[B+0]=x,l._m[B+1]=k,l._m[B+2]=w,l._m[B+3]=H,qe(l)}e.setRowFromFloats=In;function bo(l,S){let x=n();return Yn(l,S,x),x}e.scale=bo;function Yn(l,S,x){for(let k=0;k<16;k++)x._m[k]=l._m[k]*S;qe(x)}e.scaleToRef=Yn;function To(l,S,x){for(let k=0;k<16;k++)x._m[k]+=l._m[k]*S;qe(x)}e.scaleAndAddToRef=To;function TE(l,S){let x=n();Yi(l,x),Lt(x,S);let k=S._m;f(k[0],k[1],k[2],0,k[4],k[5],k[6],0,k[8],k[9],k[10],0,0,0,0,1,S)}e.normalMatrixToRef=TE;function SE(l){let S=n();return Md(l,S),S}e.getRotationMatrix=SE;function Md(l,S){let x=D.Zero();if(!tt(l,x)){S=g();return}let k=l._m,w=1/x.x,H=1/x.y,B=1/x.z;f(k[0]*w,k[1]*w,k[2]*w,0,k[4]*H,k[5]*H,k[6]*H,0,k[8]*B,k[9]*B,k[10]*B,0,0,0,0,1,S)}e.getRotationMatrixToRef=Md;function _E(l){l._m[2]*=-1,l._m[6]*=-1,l._m[8]*=-1,l._m[9]*=-1,l._m[14]*=-1,qe(l)}e.toggleModelMatrixHandInPlace=_E;function xE(l){l._m[8]*=-1,l._m[9]*=-1,l._m[10]*=-1,l._m[11]*=-1,qe(l)}e.toggleProjectionMatrixHandInPlace=xE;function bt(l,S,x=!1,k=!1,w=!0){l.updateFlag=c++,l.isIdentity=S,l.isIdentity3x2=S||k,l._isIdentityDirty=l.isIdentity?!1:x,l._isIdentity3x2Dirty=l.isIdentity3x2?!1:w}})(ln||(ln={}));var Ae;(function(e){function o(A=0,O=0,G=0,K=1){return{x:A,y:O,z:G,w:K}}e.create=o;function c(A,O){return{x:A.x+O.x,y:A.y+O.y,z:A.z+O.z,w:A.w+O.w}}e.add=c;function t(A,O,G){let K=O*.5,ie=A*.5,le=G*.5,Ee=Math.cos(K),ye=Math.cos(ie),Re=Math.cos(le),ke=Math.sin(K),Pe=Math.sin(ie),Ue=Math.sin(le);return o(ye*ke*Re+Pe*Ee*Ue,Pe*Ee*Re-ye*ke*Ue,ye*Ee*Ue-Pe*ke*Re,ye*Ee*Re+Pe*ke*Ue)}e.fromRotationYawPitchRoll=t;function r(A,O,G){return t(O*qi,A*qi,G*qi)}e.fromEulerDegrees=r;function n(A){return Math.sqrt(s(A))}e.length=n;function s(A){return A.x*A.x+A.y*A.y+A.z*A.z+A.w*A.w}e.lengthSquared=s;function a(A,O){return A.x*O.x+A.y*O.y+A.z*O.z+A.w*O.w}e.dot=a;function i(A,O){let G=a(A,O);return Math.acos(Math.min(Math.abs(G),1))*2*Ji}e.angle=i;function f(A,O,G){let K=i(A,O);if(K===0)return O;let ie=Math.min(1,G/K);return h(A,O,ie)}e.rotateTowards=f;function u(A,O={x:0,y:1,z:0}){let G=D.normalize(A),K=D.normalize(D.cross(O,G)),ie=D.cross(G,K),le=K.x,Ee=K.y,ye=K.z,Re=ie.x,ke=ie.y,Pe=ie.z,Ue=G.x,We=G.y,xe=G.z,wt=le+ke+xe,M=o();if(wt>0){let y=Math.sqrt(wt+1);return M.w=y*.5,y=.5/y,M.x=(Pe-We)*y,M.y=(Ue-ye)*y,M.z=(Ee-Re)*y,M}if(le>=ke&&le>=xe){let y=Math.sqrt(1+le-ke-xe),R=.5/y;return M.x=.5*y,M.y=(Ee+Re)*R,M.z=(ye+Ue)*R,M.w=(Pe-We)*R,M}if(ke>xe){let y=Math.sqrt(1+ke-le-xe),R=.5/y;return M.x=(Re+Ee)*R,M.y=.5*y,M.z=(We+Pe)*R,M.w=(Ue-ye)*R,M}let F=Math.sqrt(1+xe-le-ke),Z=.5/F;return M.x=(Ue+ye)*Z,M.y=(We+Pe)*Z,M.z=.5*F,M.w=(Ee-Re)*Z,M}e.lookRotation=u;function b(A){let O=1/n(A);return o(A.x*O,A.y*O,A.z*O,A.w*O)}e.normalize=b;function m(A,O,G=D.Up()){let K=D.normalize(A),ie=D.normalize(O),le=D.cross(K,ie),Ee=Math.sqrt(D.lengthSquared(K)*D.lengthSquared(ie))+D.dot(K,ie);return D.lengthSquared(le)<1e-4?Math.abs(Ee)<1e-4?b(o(G.x,G.y,G.z,0)):g():b(o(le.x,le.y,le.z,Ee))}e.fromToRotation=m;function g(){return o(0,0,0,1)}e.Identity=g;function E(A){let O=D.create(),G=A.x*A.x+A.y*A.y+A.z*A.z+A.w*A.w,K=A.x*A.w-A.y*A.z;return K>.4995*G?(O.x=Math.PI/2,O.y=2*Math.atan2(A.y,A.x),O.z=0):K<-.4995*G?(O.x=-Math.PI/2,O.y=-2*Math.atan2(A.y,A.x),O.z=0):(O.x=Math.asin(2*(A.w*A.x-A.y*A.z)),O.y=Math.atan2(2*A.w*A.y+2*A.z*A.x,1-2*(A.x*A.x+A.y*A.y)),O.z=Math.atan2(2*A.w*A.z+2*A.x*A.y,1-2*(A.z*A.z+A.x*A.x))),O.x*=Ji,O.y*=Ji,O.z*=Ji,O.x=Le.repeat(O.x,360),O.y=Le.repeat(O.y,360),O.z=Le.repeat(O.z,360),O}e.toEulerAngles=E;function d(A,O,G,K){let ie=O*.5,le=A*.5,Ee=G*.5,ye=Math.cos(ie),Re=Math.cos(le),ke=Math.cos(Ee),Pe=Math.sin(ie),Ue=Math.sin(le),We=Math.sin(Ee);K.x=Re*Pe*ke+Ue*ye*We,K.y=Ue*ye*ke-Re*Pe*We,K.z=Re*ye*We-Ue*Pe*ke,K.w=Re*ye*ke+Ue*Pe*We}e.fromRotationYawPitchRollToRef=d;function p(A,O){let G=A._m,K=G[0],ie=G[4],le=G[8],Ee=G[1],ye=G[5],Re=G[9],ke=G[2],Pe=G[6],Ue=G[10],We=K+ye+Ue,xe;We>0?(xe=.5/Math.sqrt(We+1),O.w=.25/xe,O.x=(Pe-Re)*xe,O.y=(le-ke)*xe,O.z=(Ee-ie)*xe):K>ye&&K>Ue?(xe=2*Math.sqrt(1+K-ye-Ue),O.w=(Pe-Re)/xe,O.x=.25*xe,O.y=(ie+Ee)/xe,O.z=(le+ke)/xe):ye>Ue?(xe=2*Math.sqrt(1+ye-K-Ue),O.w=(le-ke)/xe,O.x=(ie+Ee)/xe,O.y=.25*xe,O.z=(Re+Pe)/xe):(xe=2*Math.sqrt(1+Ue-K-ye),O.w=(Ee-ie)/xe,O.x=(le+ke)/xe,O.y=(Re+Pe)/xe,O.z=.25*xe)}e.fromRotationMatrixToRef=p;function h(A,O,G){let K=e.Identity();return e.slerpToRef(A,O,G,K),K}e.slerp=h;function T(A,O,G,K){let ie,le,Ee=A.x*O.x+A.y*O.y+A.z*O.z+A.w*O.w,ye=!1;if(Ee<0&&(ye=!0,Ee=-Ee),Ee>.999999)le=1-G,ie=ye?-G:G;else{let Re=Math.acos(Ee),ke=1/Math.sin(Re);le=Math.sin((1-G)*Re)*ke,ie=ye?-Math.sin(G*Re)*ke:Math.sin(G*Re)*ke}K.x=le*A.x+ie*O.x,K.y=le*A.y+ie*O.y,K.z=le*A.z+ie*O.z,K.w=le*A.w+ie*O.w}e.slerpToRef=T;function I(A,O){let G=o(0,0,0,1);return z(A,O,G),G}e.multiply=I;function z(A,O,G){G.x=A.x*O.w+A.y*O.z-A.z*O.y+A.w*O.x,G.y=-A.x*O.z+A.y*O.w+A.z*O.x+A.w*O.y,G.z=A.x*O.y-A.y*O.x+A.z*O.w+A.w*O.z,G.w=-A.x*O.x-A.y*O.y-A.z*O.z+A.w*O.w}e.multiplyToRef=z;function ne(A,O){if(D.lengthSquared(O)===0)return e.Identity();let G=g(),K=A*qi;K*=.5;let ie=D.normalize(O);return D.scaleToRef(ie,Math.sin(K),ie),G.x=ie.x,G.y=ie.y,G.z=ie.z,G.w=Math.cos(K),b(G)}e.fromAngleAxis=ne;function V(A,O,G){let K=e.create(0,0,0,0);return W(A,O,G,K),K}e.fromAxisToRotationQuaternion=V;function W(A,O,G,K){let ie=ln.create();ln.fromXYZAxesToRef(D.normalize(A),D.normalize(O),D.normalize(G),ie),e.fromRotationMatrixToRef(ie,K)}e.fromAxisToRotationQuaternionToRef=W;function X(){return o(0,0,0,0)}e.Zero=X;function C(A,O,G=D.Up()){let K=e.Identity();return L(A,O,G,K),K}e.fromLookAt=C;function L(A,O,G=D.Up(),K){let ie=ln.Identity();ln.lookAtLHToRef(A,O,G,ie),ln.invertToRef(ie,ie),e.fromRotationMatrixToRef(ie,K)}e.fromLookAtToRef=L})(Ae||(Ae={}));var Ne;(function(e){function o(M=0,F=0,Z=0,y=1){return{r:M,g:F,b:Z,a:y}}e.create=o;function c(M){if(M.substring(0,1)!=="#"||M.length!==7&&M.length!==9)return o(0,0,0,1);let F=parseInt(M.substring(1,3),16),Z=parseInt(M.substring(3,5),16),y=parseInt(M.substring(5,7),16),R=M.substring(7,9),U=R?parseInt(R,16):255;return e.fromInts(F,Z,y,U)}e.fromHexString=c;function t(M,F,Z){let y=o(0,0,0,0);return e.lerpToRef(M,F,Z,y),y}e.lerp=t;function r(M,F,Z,y){y.r=M.r+(F.r-M.r)*Z,y.g=M.g+(F.g-M.g)*Z,y.b=M.b+(F.b-M.b)*Z,y.a=M.a+(F.a-M.a)*Z}e.lerpToRef=r;function n(){return o(1,0,0,1)}e.Red=n;function s(){return o(0,1,0,1)}e.Green=s;function a(){return o(0,0,1,1)}e.Blue=a;function i(){return o(0,0,0,1)}e.Black=i;function f(){return o(1,1,1,1)}e.White=f;function u(){return o(.5,0,.5,1)}e.Purple=u;function b(){return o(1,0,1,1)}e.Magenta=b;function m(){return o(1,1,0,1)}e.Yellow=m;function g(){return o(.5,.5,.5,1)}e.Gray=g;function E(){return o(0,1,1,1)}e.Teal=E;function d(){return o(0,0,0,0)}e.Clear=d;function p(M,F=1){return o(M.r,M.g,M.b,F)}e.fromColor3=p;function h(M,F=0){return o(M[F],M[F+1],M[F+2],M[F+3])}e.fromArray=h;function T(M,F,Z,y){return o(M/255,F/255,Z/255,y/255)}e.fromInts=T;function I(M,F){if(M.length===F*3){let Z=[];for(let y=0;y<M.length;y+=3){let R=y/3*4;Z[R]=M[y],Z[R+1]=M[y+1],Z[R+2]=M[y+2],Z[R+3]=1}return Z}return M}e.checkColors4=I;function z(M,F,Z){Z.r=M.r+F.r,Z.g=M.g+F.g,Z.b=M.b+F.b,Z.a=M.a+F.a}e.addToRef=z;function ne(M,F,Z=0){F[Z]=M.r,F[Z+1]=M.g,F[Z+2]=M.b,F[Z+3]=M.a}e.toArray=ne;function V(M,F){let Z=d();return z(M,F,Z),Z}e.add=V;function W(M,F){let Z=d();return X(M,F,Z),Z}e.subtract=W;function X(M,F,Z){Z.r=M.r-F.r,Z.g=M.g-F.g,Z.b=M.b-F.b,Z.a=M.a-F.a}e.subtractToRef=X;function C(M,F){return o(M.r*F,M.g*F,M.b*F,M.a*F)}e.scale=C;function L(M,F,Z){Z.r=M.r*F,Z.g=M.g*F,Z.b=M.b*F,Z.a=M.a*F}e.scaleToRef=L;function A(M,F,Z){Z.r+=M.r*F,Z.g+=M.g*F,Z.b+=M.b*F,Z.a+=M.a*F}e.scaleAndAddToRef=A;function O(M,F=0,Z=1,y){y.r=Le.clamp(M.r,F,Z),y.g=Le.clamp(M.g,F,Z),y.b=Le.clamp(M.b,F,Z),y.a=Le.clamp(M.a,F,Z)}e.clampToRef=O;function G(M,F){return o(M.r*F.r,M.g*F.g,M.b*F.b,M.a*F.a)}e.multiply=G;function K(M,F,Z){Z.r=M.r*F.r,Z.g=M.g*F.g,Z.b=M.b*F.b,Z.a=M.a*F.a}e.multiplyToRef=K;function ie(M){return"{R: "+M.r+" G:"+M.g+" B:"+M.b+" A:"+M.a+"}"}e.toString=ie;function le(M){let F=M.r||0;return F=F*397^(M.g||0),F=F*397^(M.b||0),F=F*397^(M.a||0),F}e.getHashCode=le;function Ee(M){return o(M.r,M.g,M.b,M.a)}e.clone=Ee;function ye(M,F){F.r=M.r,F.g=M.g,F.b=M.b,F.a=M.a}e.copyFrom=ye;function Re(M,F,Z,y,R){R.r=M,R.g=F,R.b=Z,R.a=y}e.copyFromFloats=Re;function ke(M,F,Z,y,R){R.r=M,R.g=F,R.b=Z,R.a=y}e.set=ke;function Pe(M){let F=M.r*255|0,Z=M.g*255|0,y=M.b*255|0,R=M.a*255|0;return"#"+Le.toHex(F)+Le.toHex(Z)+Le.toHex(y)+Le.toHex(R)}e.toHexString=Pe;function Ue(M){let F=o();return We(M,F),F}e.toLinearSpace=Ue;function We(M,F){F.r=Math.pow(M.r,Jn),F.g=Math.pow(M.g,Jn),F.b=Math.pow(M.b,Jn),F.a=M.a}e.toLinearSpaceToRef=We;function xe(M){let F=o();return wt(M,F),F}e.toGammaSpace=xe;function wt(M,F){F.r=Math.pow(M.r,qn),F.g=Math.pow(M.g,qn),F.b=Math.pow(M.b,qn),F.a=M.a}e.toGammaSpaceToRef=wt})(Ne||(Ne={}));var Xo;(function(e){function o(y=0,R=0,U=0){return{r:y,g:R,b:U}}e.create=o;function c(y){if(y.substring(0,1)!=="#"||y.length!==7)return o(0,0,0);let R=parseInt(y.substring(1,3),16),U=parseInt(y.substring(3,5),16),j=parseInt(y.substring(5,7),16);return r(R,U,j)}e.fromHexString=c;function t(y,R=0){return o(y[R],y[R+1],y[R+2])}e.fromArray=t;function r(y,R,U){return o(y/255,R/255,U/255)}e.fromInts=r;function n(y,R,U){let j=o(0,0,0);return e.lerpToRef(y,R,U,j),j}e.lerp=n;function s(y,R,U,j){j.r=y.r+(R.r-y.r)*U,j.g=y.g+(R.g-y.g)*U,j.b=y.b+(R.b-y.b)*U}e.lerpToRef=s;function a(){return o(1,0,0)}e.Red=a;function i(){return o(0,1,0)}e.Green=i;function f(){return o(0,0,1)}e.Blue=f;function u(){return o(0,0,0)}e.Black=u;function b(){return o(1,1,1)}e.White=b;function m(){return o(.5,0,.5)}e.Purple=m;function g(){return o(1,0,1)}e.Magenta=g;function E(){return o(1,1,0)}e.Yellow=E;function d(){return o(.5,.5,.5)}e.Gray=d;function p(){return o(0,1,1)}e.Teal=p;function h(){return o(Math.random(),Math.random(),Math.random())}e.Random=h;function T(y){return"{R: "+y.r+" G:"+y.g+" B:"+y.b+"}"}e.toString=T;function I(y){let R=y.r||0;return R=R*397^(y.g||0),R=R*397^(y.b||0),R}e.getHashCode=I;function z(y,R,U=0){R[U]=y.r,R[U+1]=y.g,R[U+2]=y.b}e.toArray=z;function ne(y,R=1){return Ne.create(y.r,y.g,y.b,R)}e.toColor4=ne;function V(y){let R=new Array;return z(y,R,0),R}e.asArray=V;function W(y){return y.r*.3+y.g*.59+y.b*.11}e.toLuminance=W;function X(y,R){return o(y.r*R.r,y.g*R.g,y.b*R.b)}e.multiply=X;function C(y,R,U){U.r=y.r*R.r,U.g=y.g*R.g,U.b=y.b*R.b}e.multiplyToRef=C;function L(y,R){return R&&y.r===R.r&&y.g===R.g&&y.b===R.b}e.equals=L;function A(y,R,U,j){return y.r===R&&y.g===U&&y.b===j}e.equalsFloats=A;function O(y,R){return o(y.r*R,y.g*R,y.b*R)}e.scale=O;function G(y,R,U){U.r=y.r*R,U.g=y.g*R,U.b=y.b*R}e.scaleToRef=G;function K(y,R,U){U.r+=y.r*R,U.g+=y.g*R,U.b+=y.b*R}e.scaleAndAddToRef=K;function ie(y,R=0,U=1,j){j.r=Le.clamp(y.r,R,U),j.g=Le.clamp(y.g,R,U),j.b=Le.clamp(y.b,R,U)}e.clampToRef=ie;function le(y,R=0,U=1){let j=e.Black();return ie(y,R,U,j),j}e.clamp=le;function Ee(y,R){return o(y.r+R.r,y.g+R.g,y.b+R.b)}e.add=Ee;function ye(y,R,U){U.r=y.r+R.r,U.g=y.g+R.g,U.b=y.b+R.b}e.addToRef=ye;function Re(y,R){return o(y.r-R.r,y.g-R.g,y.b-R.b)}e.subtract=Re;function ke(y,R,U){U.r=y.r-R.r,U.g=y.g-R.g,U.b=y.b-R.b}e.subtractToRef=ke;function Pe(y){return o(y.r,y.g,y.b)}e.clone=Pe;function Ue(y,R){R.r=y.r,R.g=y.g,R.b=y.b}e.copyFrom=Ue;function We(y,R,U,j){y.r=R,y.g=U,y.b=j}e.set=We;function xe(y){let R=y.r*255|0,U=y.g*255|0,j=y.b*255|0;return"#"+Le.toHex(R)+Le.toHex(U)+Le.toHex(j)}e.toHexString=xe;function wt(y){let R=o();return M(y,R),R}e.toLinearSpace=wt;function M(y,R){R.r=Math.pow(y.r,Jn),R.g=Math.pow(y.g,Jn),R.b=Math.pow(y.b,Jn)}e.toLinearSpaceToRef=M;function F(y){let R=o();return Z(y,R),R}e.toGammaSpace=F;function Z(y,R){R.r=Math.pow(y.r,qn),R.g=Math.pow(y.g,qn),R.b=Math.pow(y.b,qn)}e.toGammaSpaceToRef=Z})(Xo||(Xo={}));var Co=Y(J());function KE(){return{states:[]}}var Zo;(function(e){function o(t,r=Co.default.Writer.create()){for(let n of t.states)Xa.encode(n,r.uint32(10).fork()).ldelim();return r}e.encode=o;function c(t,r){let n=t instanceof Co.default.Reader?t:Co.default.Reader.create(t),s=r===void 0?n.len:n.pos+r,a=KE();for(;n.pos<s;){let i=n.uint32();switch(i>>>3){case 1:if(i!==10)break;a.states.push(Xa.decode(n,n.uint32()));continue}if((i&7)===4||i===0)break;n.skipType(i&7)}return a}e.decode=c})(Zo||(Zo={}));function QE(){return{clip:"",playing:void 0,weight:void 0,speed:void 0,loop:void 0,shouldReset:void 0}}var Xa;(function(e){function o(t,r=Co.default.Writer.create()){return t.clip!==""&&r.uint32(18).string(t.clip),t.playing!==void 0&&r.uint32(24).bool(t.playing),t.weight!==void 0&&r.uint32(37).float(t.weight),t.speed!==void 0&&r.uint32(45).float(t.speed),t.loop!==void 0&&r.uint32(48).bool(t.loop),t.shouldReset!==void 0&&r.uint32(56).bool(t.shouldReset),r}e.encode=o;function c(t,r){let n=t instanceof Co.default.Reader?t:Co.default.Reader.create(t),s=r===void 0?n.len:n.pos+r,a=QE();for(;n.pos<s;){let i=n.uint32();switch(i>>>3){case 2:if(i!==18)break;a.clip=n.string();continue;case 3:if(i!==24)break;a.playing=n.bool();continue;case 4:if(i!==37)break;a.weight=n.float();continue;case 5:if(i!==45)break;a.speed=n.float();continue;case 6:if(i!==48)break;a.loop=n.bool();continue;case 7:if(i!==56)break;a.shouldReset=n.bool();continue}if((i&7)===4||i===0)break;n.skipType(i&7)}return a}e.decode=c})(Xa||(Xa={}));var Ul={COMPONENT_ID:1042,serialize(e,o){let c=Zo.encode(e),t=new Uint8Array(c.finish(),0,c.len);o.writeBuffer(t,!1)},deserialize(e){return Zo.decode(e.buffer(),e.remainingBytes())},create(){return Zo.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBAnimator"}};var Ka=Y(J());function ZE(){return{playing:void 0,volume:void 0,loop:void 0,pitch:void 0,audioClipUrl:""}}var er;(function(e){function o(t,r=Ka.default.Writer.create()){return t.playing!==void 0&&r.uint32(8).bool(t.playing),t.volume!==void 0&&r.uint32(21).float(t.volume),t.loop!==void 0&&r.uint32(24).bool(t.loop),t.pitch!==void 0&&r.uint32(37).float(t.pitch),t.audioClipUrl!==""&&r.uint32(42).string(t.audioClipUrl),r}e.encode=o;function c(t,r){let n=t instanceof Ka.default.Reader?t:Ka.default.Reader.create(t),s=r===void 0?n.len:n.pos+r,a=ZE();for(;n.pos<s;){let i=n.uint32();switch(i>>>3){case 1:if(i!==8)break;a.playing=n.bool();continue;case 2:if(i!==21)break;a.volume=n.float();continue;case 3:if(i!==24)break;a.loop=n.bool();continue;case 4:if(i!==37)break;a.pitch=n.float();continue;case 5:if(i!==42)break;a.audioClipUrl=n.string();continue}if((i&7)===4||i===0)break;n.skipType(i&7)}return a}e.decode=c})(er||(er={}));var Bl={COMPONENT_ID:1020,serialize(e,o){let c=er.encode(e),t=new Uint8Array(c.finish(),0,c.len);o.writeBuffer(t,!1)},deserialize(e){return er.decode(e.buffer(),e.remainingBytes())},create(){return er.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBAudioSource"}};var Qa=Y(J());function ey(){return{playing:void 0,volume:void 0,url:""}}var tr;(function(e){function o(t,r=Qa.default.Writer.create()){return t.playing!==void 0&&r.uint32(8).bool(t.playing),t.volume!==void 0&&r.uint32(21).float(t.volume),t.url!==""&&r.uint32(26).string(t.url),r}e.encode=o;function c(t,r){let n=t instanceof Qa.default.Reader?t:Qa.default.Reader.create(t),s=r===void 0?n.len:n.pos+r,a=ey();for(;n.pos<s;){let i=n.uint32();switch(i>>>3){case 1:if(i!==8)break;a.playing=n.bool();continue;case 2:if(i!==21)break;a.volume=n.float();continue;case 3:if(i!==26)break;a.url=n.string();continue}if((i&7)===4||i===0)break;n.skipType(i&7)}return a}e.decode=c})(tr||(tr={}));var Dl={COMPONENT_ID:1021,serialize(e,o){let c=tr.encode(e),t=new Uint8Array(c.finish(),0,c.len);o.writeBuffer(t,!1)},deserialize(e){return tr.decode(e.buffer(),e.remainingBytes())},create(){return tr.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBAudioStream"}};var Za=Y(J());var Ll;(function(e){e[e.AAPT_POSITION=0]="AAPT_POSITION",e[e.AAPT_NAME_TAG=1]="AAPT_NAME_TAG",e[e.AAPT_LEFT_HAND=2]="AAPT_LEFT_HAND",e[e.AAPT_RIGHT_HAND=3]="AAPT_RIGHT_HAND"})(Ll||(Ll={}));function ty(){return{avatarId:void 0,anchorPointId:0}}var nr;(function(e){function o(t,r=Za.default.Writer.create()){return t.avatarId!==void 0&&r.uint32(10).string(t.avatarId),t.anchorPointId!==0&&r.uint32(16).int32(t.anchorPointId),r}e.encode=o;function c(t,r){let n=t instanceof Za.default.Reader?t:Za.default.Reader.create(t),s=r===void 0?n.len:n.pos+r,a=ty();for(;n.pos<s;){let i=n.uint32();switch(i>>>3){case 1:if(i!==10)break;a.avatarId=n.string();continue;case 2:if(i!==16)break;a.anchorPointId=n.int32();continue}if((i&7)===4||i===0)break;n.skipType(i&7)}return a}e.decode=c})(nr||(nr={}));var zl={COMPONENT_ID:1073,serialize(e,o){let c=nr.encode(e),t=new Uint8Array(c.finish(),0,c.len);o.writeBuffer(t,!1)},deserialize(e){return nr.decode(e.buffer(),e.remainingBytes())},create(){return nr.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBAvatarAttach"}};var ec=Y(J());var zt=Y(J());function ny(){return{x:0,y:0,z:0}}var Fl;(function(e){function o(t,r=zt.default.Writer.create()){return t.x!==0&&r.uint32(13).float(t.x),t.y!==0&&r.uint32(21).float(t.y),t.z!==0&&r.uint32(29).float(t.z),r}e.encode=o;function c(t,r){let n=t instanceof zt.default.Reader?t:zt.default.Reader.create(t),s=r===void 0?n.len:n.pos+r,a=ny();for(;n.pos<s;){let i=n.uint32();switch(i>>>3){case 1:if(i!==13)break;a.x=n.float();continue;case 2:if(i!==21)break;a.y=n.float();continue;case 3:if(i!==29)break;a.z=n.float();continue}if((i&7)===4||i===0)break;n.skipType(i&7)}return a}e.decode=c})(Fl||(Fl={}));function oy(){return{x:0,y:0,z:0}}var Se;(function(e){function o(t,r=zt.default.Writer.create()){return t.x!==0&&r.uint32(13).float(t.x),t.y!==0&&r.uint32(21).float(t.y),t.z!==0&&r.uint32(29).float(t.z),r}e.encode=o;function c(t,r){let n=t instanceof zt.default.Reader?t:zt.default.Reader.create(t),s=r===void 0?n.len:n.pos+r,a=oy();for(;n.pos<s;){let i=n.uint32();switch(i>>>3){case 1:if(i!==13)break;a.x=n.float();continue;case 2:if(i!==21)break;a.y=n.float();continue;case 3:if(i!==29)break;a.z=n.float();continue}if((i&7)===4||i===0)break;n.skipType(i&7)}return a}e.decode=c})(Se||(Se={}));function ry(){return{x:0,y:0}}var Vl;(function(e){function o(t,r=zt.default.Writer.create()){return t.x!==0&&r.uint32(13).float(t.x),t.y!==0&&r.uint32(21).float(t.y),r}e.encode=o;function c(t,r){let n=t instanceof zt.default.Reader?t:zt.default.Reader.create(t),s=r===void 0?n.len:n.pos+r,a=ry();for(;n.pos<s;){let i=n.uint32();switch(i>>>3){case 1:if(i!==13)break;a.x=n.float();continue;case 2:if(i!==21)break;a.y=n.float();continue}if((i&7)===4||i===0)break;n.skipType(i&7)}return a}e.decode=c})(Vl||(Vl={}));function iy(){return{x:0,y:0,z:0,w:0}}var Mo;(function(e){function o(t,r=zt.default.Writer.create()){return t.x!==0&&r.uint32(13).float(t.x),t.y!==0&&r.uint32(21).float(t.y),t.z!==0&&r.uint32(29).float(t.z),t.w!==0&&r.uint32(37).float(t.w),r}e.encode=o;function c(t,r){let n=t instanceof zt.default.Reader?t:zt.default.Reader.create(t),s=r===void 0?n.len:n.pos+r,a=iy();for(;n.pos<s;){let i=n.uint32();switch(i>>>3){case 1:if(i!==13)break;a.x=n.float();continue;case 2:if(i!==21)break;a.y=n.float();continue;case 3:if(i!==29)break;a.z=n.float();continue;case 4:if(i!==37)break;a.w=n.float();continue}if((i&7)===4||i===0)break;n.skipType(i&7)}return a}e.decode=c})(Mo||(Mo={}));var Wl;(function(e){e[e.AMT_HIDE_AVATARS=0]="AMT_HIDE_AVATARS",e[e.AMT_DISABLE_PASSPORTS=1]="AMT_DISABLE_PASSPORTS"})(Wl||(Wl={}));function ay(){return{area:void 0,excludeIds:[],modifiers:[]}}var or;(function(e){function o(t,r=ec.default.Writer.create()){t.area!==void 0&&Se.encode(t.area,r.uint32(10).fork()).ldelim();for(let n of t.excludeIds)r.uint32(18).string(n);r.uint32(26).fork();for(let n of t.modifiers)r.int32(n);return r.ldelim(),r}e.encode=o;function c(t,r){let n=t instanceof ec.default.Reader?t:ec.default.Reader.create(t),s=r===void 0?n.len:n.pos+r,a=ay();for(;n.pos<s;){let i=n.uint32();switch(i>>>3){case 1:if(i!==10)break;a.area=Se.decode(n,n.uint32());continue;case 2:if(i!==18)break;a.excludeIds.push(n.string());continue;case 3:if(i===24){a.modifiers.push(n.int32());continue}if(i===26){let f=n.uint32()+n.pos;for(;n.pos<f;)a.modifiers.push(n.int32());continue}break}if((i&7)===4||i===0)break;n.skipType(i&7)}return a}e.decode=c})(or||(or={}));var Hl={COMPONENT_ID:1070,serialize(e,o){let c=or.encode(e),t=new Uint8Array(c.finish(),0,c.len);o.writeBuffer(t,!1)},deserialize(e){return or.decode(e.buffer(),e.remainingBytes())},create(){return or.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBAvatarModifierArea"}};var rn=null;try{rn=new WebAssembly.Instance(new WebAssembly.Module(new Uint8Array([0,97,115,109,1,0,0,0,1,13,2,96,0,1,127,96,4,127,127,127,127,1,127,3,7,6,0,1,1,1,1,1,6,6,1,127,1,65,0,11,7,50,6,3,109,117,108,0,1,5,100,105,118,95,115,0,2,5,100,105,118,95,117,0,3,5,114,101,109,95,115,0,4,5,114,101,109,95,117,0,5,8,103,101,116,95,104,105,103,104,0,0,10,191,1,6,4,0,35,0,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,126,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,127,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,128,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,129,34,4,66,32,135,167,36,0,32,4,167,11,36,1,1,126,32,0,173,32,1,173,66,32,134,132,32,2,173,32,3,173,66,32,134,132,130,34,4,66,32,135,167,36,0,32,4,167,11])),{}).exports}catch{}function He(e,o,c){this.low=e|0,this.high=o|0,this.unsigned=!!c}He.prototype.__isLong__;Object.defineProperty(He.prototype,"__isLong__",{value:!0});function _t(e){return(e&&e.__isLong__)===!0}function Gl(e){var o=Math.clz32(e&-e);return e?31-o:o}He.isLong=_t;var jl={},$l={};function vo(e,o){var c,t,r;return o?(e>>>=0,(r=0<=e&&e<256)&&(t=$l[e],t)?t:(c=we(e,0,!0),r&&($l[e]=c),c)):(e|=0,(r=-128<=e&&e<128)&&(t=jl[e],t)?t:(c=we(e,e<0?-1:0,!1),r&&(jl[e]=c),c))}He.fromInt=vo;function an(e,o){if(isNaN(e))return o?Pn:En;if(o){if(e<0)return Pn;if(e>=Xl)return Zl}else{if(e<=-ql)return vt;if(e+1>=ql)return Ql}return e<0?an(-e,o).neg():we(e%ir|0,e/ir|0,o)}He.fromNumber=an;function we(e,o,c){return new He(e,o,c)}He.fromBits=we;var tc=Math.pow;function fu(e,o,c){if(e.length===0)throw Error("empty string");if(typeof o=="number"?(c=o,o=!1):o=!!o,e==="NaN"||e==="Infinity"||e==="+Infinity"||e==="-Infinity")return o?Pn:En;if(c=c||10,c<2||36<c)throw RangeError("radix");var t;if((t=e.indexOf("-"))>0)throw Error("interior hyphen");if(t===0)return fu(e.substring(1),o,c).neg();for(var r=an(tc(c,8)),n=En,s=0;s<e.length;s+=8){var a=Math.min(8,e.length-s),i=parseInt(e.substring(s,s+a),c);if(a<8){var f=an(tc(c,a));n=n.mul(f).add(an(i))}else n=n.mul(r),n=n.add(an(i))}return n.unsigned=o,n}He.fromString=fu;function yn(e,o){return typeof e=="number"?an(e,o):typeof e=="string"?fu(e,o):we(e.low,e.high,typeof o=="boolean"?o:e.unsigned)}He.fromValue=yn;var Yl=65536,cy=1<<24,ir=Yl*Yl,Xl=ir*ir,ql=Xl/2,Jl=vo(cy),En=vo(0);He.ZERO=En;var Pn=vo(0,!0);He.UZERO=Pn;var rr=vo(1);He.ONE=rr;var Kl=vo(1,!0);He.UONE=Kl;var su=vo(-1);He.NEG_ONE=su;var Ql=we(-1,2147483647,!1);He.MAX_VALUE=Ql;var Zl=we(-1,-1,!0);He.MAX_UNSIGNED_VALUE=Zl;var vt=we(0,-2147483648,!1);He.MIN_VALUE=vt;var $=He.prototype;$.toInt=function(){return this.unsigned?this.low>>>0:this.low};$.toNumber=function(){return this.unsigned?(this.high>>>0)*ir+(this.low>>>0):this.high*ir+(this.low>>>0)};$.toString=function(o){if(o=o||10,o<2||36<o)throw RangeError("radix");if(this.isZero())return"0";if(this.isNegative())if(this.eq(vt)){var c=an(o),t=this.div(c),r=t.mul(c).sub(this);return t.toString(o)+r.toInt().toString(o)}else return"-"+this.neg().toString(o);for(var n=an(tc(o,6),this.unsigned),s=this,a="";;){var i=s.div(n),f=s.sub(i.mul(n)).toInt()>>>0,u=f.toString(o);if(s=i,s.isZero())return u+a;for(;u.length<6;)u="0"+u;a=""+u+a}};$.getHighBits=function(){return this.high};$.getHighBitsUnsigned=function(){return this.high>>>0};$.getLowBits=function(){return this.low};$.getLowBitsUnsigned=function(){return this.low>>>0};$.getNumBitsAbs=function(){if(this.isNegative())return this.eq(vt)?64:this.neg().getNumBitsAbs();for(var o=this.high!=0?this.high:this.low,c=31;c>0&&!(o&1<<c);c--);return this.high!=0?c+33:c+1};$.isZero=function(){return this.high===0&&this.low===0};$.eqz=$.isZero;$.isNegative=function(){return!this.unsigned&&this.high<0};$.isPositive=function(){return this.unsigned||this.high>=0};$.isOdd=function(){return(this.low&1)===1};$.isEven=function(){return(this.low&1)===0};$.equals=function(o){return _t(o)||(o=yn(o)),this.unsigned!==o.unsigned&&this.high>>>31===1&&o.high>>>31===1?!1:this.high===o.high&&this.low===o.low};$.eq=$.equals;$.notEquals=function(o){return!this.eq(o)};$.neq=$.notEquals;$.ne=$.notEquals;$.lessThan=function(o){return this.comp(o)<0};$.lt=$.lessThan;$.lessThanOrEqual=function(o){return this.comp(o)<=0};$.lte=$.lessThanOrEqual;$.le=$.lessThanOrEqual;$.greaterThan=function(o){return this.comp(o)>0};$.gt=$.greaterThan;$.greaterThanOrEqual=function(o){return this.comp(o)>=0};$.gte=$.greaterThanOrEqual;$.ge=$.greaterThanOrEqual;$.compare=function(o){if(_t(o)||(o=yn(o)),this.eq(o))return 0;var c=this.isNegative(),t=o.isNegative();return c&&!t?-1:!c&&t?1:this.unsigned?o.high>>>0>this.high>>>0||o.high===this.high&&o.low>>>0>this.low>>>0?-1:1:this.sub(o).isNegative()?-1:1};$.comp=$.compare;$.negate=function(){return!this.unsigned&&this.eq(vt)?vt:this.not().add(rr)};$.neg=$.negate;$.add=function(o){_t(o)||(o=yn(o));var c=this.high>>>16,t=this.high&65535,r=this.low>>>16,n=this.low&65535,s=o.high>>>16,a=o.high&65535,i=o.low>>>16,f=o.low&65535,u=0,b=0,m=0,g=0;return g+=n+f,m+=g>>>16,g&=65535,m+=r+i,b+=m>>>16,m&=65535,b+=t+a,u+=b>>>16,b&=65535,u+=c+s,u&=65535,we(m<<16|g,u<<16|b,this.unsigned)};$.subtract=function(o){return _t(o)||(o=yn(o)),this.add(o.neg())};$.sub=$.subtract;$.multiply=function(o){if(this.isZero())return this;if(_t(o)||(o=yn(o)),rn){var c=rn.mul(this.low,this.high,o.low,o.high);return we(c,rn.get_high(),this.unsigned)}if(o.isZero())return this.unsigned?Pn:En;if(this.eq(vt))return o.isOdd()?vt:En;if(o.eq(vt))return this.isOdd()?vt:En;if(this.isNegative())return o.isNegative()?this.neg().mul(o.neg()):this.neg().mul(o).neg();if(o.isNegative())return this.mul(o.neg()).neg();if(this.lt(Jl)&&o.lt(Jl))return an(this.toNumber()*o.toNumber(),this.unsigned);var t=this.high>>>16,r=this.high&65535,n=this.low>>>16,s=this.low&65535,a=o.high>>>16,i=o.high&65535,f=o.low>>>16,u=o.low&65535,b=0,m=0,g=0,E=0;return E+=s*u,g+=E>>>16,E&=65535,g+=n*u,m+=g>>>16,g&=65535,g+=s*f,m+=g>>>16,g&=65535,m+=r*u,b+=m>>>16,m&=65535,m+=n*f,b+=m>>>16,m&=65535,m+=s*i,b+=m>>>16,m&=65535,b+=t*u+r*f+n*i+s*a,b&=65535,we(g<<16|E,b<<16|m,this.unsigned)};$.mul=$.multiply;$.divide=function(o){if(_t(o)||(o=yn(o)),o.isZero())throw Error("division by zero");if(rn){if(!this.unsigned&&this.high===-2147483648&&o.low===-1&&o.high===-1)return this;var c=(this.unsigned?rn.div_u:rn.div_s)(this.low,this.high,o.low,o.high);return we(c,rn.get_high(),this.unsigned)}if(this.isZero())return this.unsigned?Pn:En;var t,r,n;if(this.unsigned){if(o.unsigned||(o=o.toUnsigned()),o.gt(this))return Pn;if(o.gt(this.shru(1)))return Kl;n=Pn}else{if(this.eq(vt)){if(o.eq(rr)||o.eq(su))return vt;if(o.eq(vt))return rr;var s=this.shr(1);return t=s.div(o).shl(1),t.eq(En)?o.isNegative()?rr:su:(r=this.sub(o.mul(t)),n=t.add(r.div(o)),n)}else if(o.eq(vt))return this.unsigned?Pn:En;if(this.isNegative())return o.isNegative()?this.neg().div(o.neg()):this.neg().div(o).neg();if(o.isNegative())return this.div(o.neg()).neg();n=En}for(r=this;r.gte(o);){t=Math.max(1,Math.floor(r.toNumber()/o.toNumber()));for(var a=Math.ceil(Math.log(t)/Math.LN2),i=a<=48?1:tc(2,a-48),f=an(t),u=f.mul(o);u.isNegative()||u.gt(r);)t-=i,f=an(t,this.unsigned),u=f.mul(o);f.isZero()&&(f=rr),n=n.add(f),r=r.sub(u)}return n};$.div=$.divide;$.modulo=function(o){if(_t(o)||(o=yn(o)),rn){var c=(this.unsigned?rn.rem_u:rn.rem_s)(this.low,this.high,o.low,o.high);return we(c,rn.get_high(),this.unsigned)}return this.sub(this.div(o).mul(o))};$.mod=$.modulo;$.rem=$.modulo;$.not=function(){return we(~this.low,~this.high,this.unsigned)};$.countLeadingZeros=function(){return this.high?Math.clz32(this.high):Math.clz32(this.low)+32};$.clz=$.countLeadingZeros;$.countTrailingZeros=function(){return this.low?Gl(this.low):Gl(this.high)+32};$.ctz=$.countTrailingZeros;$.and=function(o){return _t(o)||(o=yn(o)),we(this.low&o.low,this.high&o.high,this.unsigned)};$.or=function(o){return _t(o)||(o=yn(o)),we(this.low|o.low,this.high|o.high,this.unsigned)};$.xor=function(o){return _t(o)||(o=yn(o)),we(this.low^o.low,this.high^o.high,this.unsigned)};$.shiftLeft=function(o){return _t(o)&&(o=o.toInt()),(o&=63)===0?this:o<32?we(this.low<<o,this.high<<o|this.low>>>32-o,this.unsigned):we(0,this.low<<o-32,this.unsigned)};$.shl=$.shiftLeft;$.shiftRight=function(o){return _t(o)&&(o=o.toInt()),(o&=63)===0?this:o<32?we(this.low>>>o|this.high<<32-o,this.high>>o,this.unsigned):we(this.high>>o-32,this.high>=0?0:-1,this.unsigned)};$.shr=$.shiftRight;$.shiftRightUnsigned=function(o){return _t(o)&&(o=o.toInt()),(o&=63)===0?this:o<32?we(this.low>>>o|this.high<<32-o,this.high>>>o,this.unsigned):o===32?we(this.high,0,this.unsigned):we(this.high>>>o-32,0,this.unsigned)};$.shru=$.shiftRightUnsigned;$.shr_u=$.shiftRightUnsigned;$.rotateLeft=function(o){var c;return _t(o)&&(o=o.toInt()),(o&=63)===0?this:o===32?we(this.high,this.low,this.unsigned):o<32?(c=32-o,we(this.low<<o|this.high>>>c,this.high<<o|this.low>>>c,this.unsigned)):(o-=32,c=32-o,we(this.high<<o|this.low>>>c,this.low<<o|this.high>>>c,this.unsigned))};$.rotl=$.rotateLeft;$.rotateRight=function(o){var c;return _t(o)&&(o=o.toInt()),(o&=63)===0?this:o===32?we(this.high,this.low,this.unsigned):o<32?(c=32-o,we(this.high<<c|this.low>>>o,this.low<<c|this.high>>>o,this.unsigned)):(o-=32,c=32-o,we(this.low<<c|this.high>>>o,this.high<<c|this.low>>>o,this.unsigned))};$.rotr=$.rotateRight;$.toSigned=function(){return this.unsigned?we(this.low,this.high,!1):this};$.toUnsigned=function(){return this.unsigned?this:we(this.low,this.high,!0)};$.toBytes=function(o){return o?this.toBytesLE():this.toBytesBE()};$.toBytesLE=function(){var o=this.high,c=this.low;return[c&255,c>>>8&255,c>>>16&255,c>>>24,o&255,o>>>8&255,o>>>16&255,o>>>24]};$.toBytesBE=function(){var o=this.high,c=this.low;return[o>>>24,o>>>16&255,o>>>8&255,o&255,c>>>24,c>>>16&255,c>>>8&255,c&255]};He.fromBytes=function(o,c,t){return t?He.fromBytesLE(o,c):He.fromBytesBE(o,c)};He.fromBytesLE=function(o,c){return new He(o[0]|o[1]<<8|o[2]<<16|o[3]<<24,o[4]|o[5]<<8|o[6]<<16|o[7]<<24,c)};He.fromBytesBE=function(o,c){return new He(o[4]<<24|o[5]<<16|o[6]<<8|o[7],o[0]<<24|o[1]<<16|o[2]<<8|o[3],c)};var ar=He;var Uo=Y(J());var Po=Y(J());function sy(){return{r:0,g:0,b:0}}var Xe;(function(e){function o(t,r=Po.default.Writer.create()){return t.r!==0&&r.uint32(13).float(t.r),t.g!==0&&r.uint32(21).float(t.g),t.b!==0&&r.uint32(29).float(t.b),r}e.encode=o;function c(t,r){let n=t instanceof Po.default.Reader?t:Po.default.Reader.create(t),s=r===void 0?n.len:n.pos+r,a=sy();for(;n.pos<s;){let i=n.uint32();switch(i>>>3){case 1:if(i!==13)break;a.r=n.float();continue;case 2:if(i!==21)break;a.g=n.float();continue;case 3:if(i!==29)break;a.b=n.float();continue}if((i&7)===4||i===0)break;n.skipType(i&7)}return a}e.decode=c})(Xe||(Xe={}));function fy(){return{r:0,g:0,b:0,a:0}}var $e;(function(e){function o(t,r=Po.default.Writer.create()){return t.r!==0&&r.uint32(13).float(t.r),t.g!==0&&r.uint32(21).float(t.g),t.b!==0&&r.uint32(29).float(t.b),t.a!==0&&r.uint32(37).float(t.a),r}e.encode=o;function c(t,r){let n=t instanceof Po.default.Reader?t:Po.default.Reader.create(t),s=r===void 0?n.len:n.pos+r,a=fy();for(;n.pos<s;){let i=n.uint32();switch(i>>>3){case 1:if(i!==13)break;a.r=n.float();continue;case 2:if(i!==21)break;a.g=n.float();continue;case 3:if(i!==29)break;a.b=n.float();continue;case 4:if(i!==37)break;a.a=n.float();continue}if((i&7)===4||i===0)break;n.skipType(i&7)}return a}e.decode=c})($e||($e={}));function uy(){return{id:"",name:void 0,bodyShape:void 0,skinColor:void 0,hairColor:void 0,eyeColor:void 0,expressionTriggerId:void 0,expressionTriggerTimestamp:void 0,talking:void 0,wearables:[],emotes:[]}}var cr;(function(e){function o(t,r=Uo.default.Writer.create()){t.id!==""&&r.uint32(10).string(t.id),t.name!==void 0&&r.uint32(18).string(t.name),t.bodyShape!==void 0&&r.uint32(26).string(t.bodyShape),t.skinColor!==void 0&&Xe.encode(t.skinColor,r.uint32(34).fork()).ldelim(),t.hairColor!==void 0&&Xe.encode(t.hairColor,r.uint32(42).fork()).ldelim(),t.eyeColor!==void 0&&Xe.encode(t.eyeColor,r.uint32(50).fork()).ldelim(),t.expressionTriggerId!==void 0&&r.uint32(58).string(t.expressionTriggerId),t.expressionTriggerTimestamp!==void 0&&r.uint32(64).int64(t.expressionTriggerTimestamp),t.talking!==void 0&&r.uint32(72).bool(t.talking);for(let n of t.wearables)r.uint32(82).string(n);for(let n of t.emotes)r.uint32(90).string(n);return r}e.encode=o;function c(t,r){let n=t instanceof Uo.default.Reader?t:Uo.default.Reader.create(t),s=r===void 0?n.len:n.pos+r,a=uy();for(;n.pos<s;){let i=n.uint32();switch(i>>>3){case 1:if(i!==10)break;a.id=n.string();continue;case 2:if(i!==18)break;a.name=n.string();continue;case 3:if(i!==26)break;a.bodyShape=n.string();continue;case 4:if(i!==34)break;a.skinColor=Xe.decode(n,n.uint32());continue;case 5:if(i!==42)break;a.hairColor=Xe.decode(n,n.uint32());continue;case 6:if(i!==50)break;a.eyeColor=Xe.decode(n,n.uint32());continue;case 7:if(i!==58)break;a.expressionTriggerId=n.string();continue;case 8:if(i!==64)break;a.expressionTriggerTimestamp=ly(n.int64());continue;case 9:if(i!==72)break;a.talking=n.bool();continue;case 10:if(i!==82)break;a.wearables.push(n.string());continue;case 11:if(i!==90)break;a.emotes.push(n.string());continue}if((i&7)===4||i===0)break;n.skipType(i&7)}return a}e.decode=c})(cr||(cr={}));var dy=(()=>{if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof global<"u")return global;throw"Unable to locate global object"})();function ly(e){if(e.gt(Number.MAX_SAFE_INTEGER))throw new dy.Error("Value is larger than Number.MAX_SAFE_INTEGER");return e.toNumber()}Uo.default.util.Long!==ar&&(Uo.default.util.Long=ar,Uo.default.configure());var ep={COMPONENT_ID:1080,serialize(e,o){let c=cr.encode(e),t=new Uint8Array(c.finish(),0,c.len);o.writeBuffer(t,!1)},deserialize(e){return cr.decode(e.buffer(),e.remainingBytes())},create(){return cr.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBAvatarShape"}};var nc=Y(J());var tp;(function(e){e[e.BM_NONE=0]="BM_NONE",e[e.BM_X=1]="BM_X",e[e.BM_Y=2]="BM_Y",e[e.BM_Z=4]="BM_Z",e[e.BM_ALL=7]="BM_ALL"})(tp||(tp={}));function py(){return{billboardMode:void 0}}var sr;(function(e){function o(t,r=nc.default.Writer.create()){return t.billboardMode!==void 0&&r.uint32(8).int32(t.billboardMode),r}e.encode=o;function c(t,r){let n=t instanceof nc.default.Reader?t:nc.default.Reader.create(t),s=r===void 0?n.len:n.pos+r,a=py();for(;n.pos<s;){let i=n.uint32();switch(i>>>3){case 1:if(i!==8)break;a.billboardMode=n.int32();continue}if((i&7)===4||i===0)break;n.skipType(i&7)}return a}e.decode=c})(sr||(sr={}));var np={COMPONENT_ID:1090,serialize(e,o){let c=sr.encode(e),t=new Uint8Array(c.finish(),0,c.len);o.writeBuffer(t,!1)},deserialize(e){return sr.decode(e.buffer(),e.remainingBytes())},create(){return sr.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBBillboard"}};var oc=Y(J());function my(){return{mode:0}}var fr;(function(e){function o(t,r=oc.default.Writer.create()){return t.mode!==0&&r.uint32(8).int32(t.mode),r}e.encode=o;function c(t,r){let n=t instanceof oc.default.Reader?t:oc.default.Reader.create(t),s=r===void 0?n.len:n.pos+r,a=my();for(;n.pos<s;){let i=n.uint32();switch(i>>>3){case 1:if(i!==8)break;a.mode=n.int32();continue}if((i&7)===4||i===0)break;n.skipType(i&7)}return a}e.decode=c})(fr||(fr={}));var op={COMPONENT_ID:1072,serialize(e,o){let c=fr.encode(e),t=new Uint8Array(c.finish(),0,c.len);o.writeBuffer(t,!1)},deserialize(e){return fr.decode(e.buffer(),e.remainingBytes())},create(){return fr.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBCameraMode"}};var rc=Y(J());function hy(){return{area:void 0,mode:0}}var ur;(function(e){function o(t,r=rc.default.Writer.create()){return t.area!==void 0&&Se.encode(t.area,r.uint32(10).fork()).ldelim(),t.mode!==0&&r.uint32(16).int32(t.mode),r}e.encode=o;function c(t,r){let n=t instanceof rc.default.Reader?t:rc.default.Reader.create(t),s=r===void 0?n.len:n.pos+r,a=hy();for(;n.pos<s;){let i=n.uint32();switch(i>>>3){case 1:if(i!==10)break;a.area=Se.decode(n,n.uint32());continue;case 2:if(i!==16)break;a.mode=n.int32();continue}if((i&7)===4||i===0)break;n.skipType(i&7)}return a}e.decode=c})(ur||(ur={}));var rp={COMPONENT_ID:1071,serialize(e,o){let c=ur.encode(e),t=new Uint8Array(c.finish(),0,c.len);o.writeBuffer(t,!1)},deserialize(e){return ur.decode(e.buffer(),e.remainingBytes())},create(){return ur.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBCameraModeArea"}};var ic=Y(J());function Ey(){return{frameNumber:0,totalRuntime:0,tickNumber:0}}var dr;(function(e){function o(t,r=ic.default.Writer.create()){return t.frameNumber!==0&&r.uint32(8).uint32(t.frameNumber),t.totalRuntime!==0&&r.uint32(21).float(t.totalRuntime),t.tickNumber!==0&&r.uint32(24).uint32(t.tickNumber),r}e.encode=o;function c(t,r){let n=t instanceof ic.default.Reader?t:ic.default.Reader.create(t),s=r===void 0?n.len:n.pos+r,a=Ey();for(;n.pos<s;){let i=n.uint32();switch(i>>>3){case 1:if(i!==8)break;a.frameNumber=n.uint32();continue;case 2:if(i!==21)break;a.totalRuntime=n.float();continue;case 3:if(i!==24)break;a.tickNumber=n.uint32();continue}if((i&7)===4||i===0)break;n.skipType(i&7)}return a}e.decode=c})(dr||(dr={}));var ip={COMPONENT_ID:1048,serialize(e,o){let c=dr.encode(e),t=new Uint8Array(c.finish(),0,c.len);o.writeBuffer(t,!1)},deserialize(e){return dr.decode(e.buffer(),e.remainingBytes())},create(){return dr.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBEngineInfo"}};var ac=Y(J());function yy(){return{src:"",visibleMeshesCollisionMask:void 0,invisibleMeshesCollisionMask:void 0}}var lr;(function(e){function o(t,r=ac.default.Writer.create()){return t.src!==""&&r.uint32(10).string(t.src),t.visibleMeshesCollisionMask!==void 0&&r.uint32(32).uint32(t.visibleMeshesCollisionMask),t.invisibleMeshesCollisionMask!==void 0&&r.uint32(40).uint32(t.invisibleMeshesCollisionMask),r}e.encode=o;function c(t,r){let n=t instanceof ac.default.Reader?t:ac.default.Reader.create(t),s=r===void 0?n.len:n.pos+r,a=yy();for(;n.pos<s;){let i=n.uint32();switch(i>>>3){case 1:if(i!==10)break;a.src=n.string();continue;case 4:if(i!==32)break;a.visibleMeshesCollisionMask=n.uint32();continue;case 5:if(i!==40)break;a.invisibleMeshesCollisionMask=n.uint32();continue}if((i&7)===4||i===0)break;n.skipType(i&7)}return a}e.decode=c})(lr||(lr={}));var ap={COMPONENT_ID:1041,serialize(e,o){let c=lr.encode(e),t=new Uint8Array(c.finish(),0,c.len);o.writeBuffer(t,!1)},deserialize(e){return lr.decode(e.buffer(),e.remainingBytes())},create(){return lr.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBGltfContainer"}};var cc=Y(J());function by(){return{currentState:0}}var pr;(function(e){function o(t,r=cc.default.Writer.create()){return t.currentState!==0&&r.uint32(8).int32(t.currentState),r}e.encode=o;function c(t,r){let n=t instanceof cc.default.Reader?t:cc.default.Reader.create(t),s=r===void 0?n.len:n.pos+r,a=by();for(;n.pos<s;){let i=n.uint32();switch(i>>>3){case 1:if(i!==8)break;a.currentState=n.int32();continue}if((i&7)===4||i===0)break;n.skipType(i&7)}return a}e.decode=c})(pr||(pr={}));var cp={COMPONENT_ID:1049,serialize(e,o){let c=pr.encode(e),t=new Uint8Array(c.finish(),0,c.len);o.writeBuffer(t,!1)},deserialize(e){return pr.decode(e.buffer(),e.remainingBytes())},create(){return pr.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBGltfContainerLoadingState"}};var kn=Y(J());var Ft=Y(J());var sp;(function(e){e[e.TWM_REPEAT=0]="TWM_REPEAT",e[e.TWM_CLAMP=1]="TWM_CLAMP",e[e.TWM_MIRROR=2]="TWM_MIRROR"})(sp||(sp={}));var fp;(function(e){e[e.TFM_POINT=0]="TFM_POINT",e[e.TFM_BILINEAR=1]="TFM_BILINEAR",e[e.TFM_TRILINEAR=2]="TFM_TRILINEAR"})(fp||(fp={}));function Ty(){return{src:"",wrapMode:void 0,filterMode:void 0}}var sc;(function(e){function o(t,r=Ft.default.Writer.create()){return t.src!==""&&r.uint32(10).string(t.src),t.wrapMode!==void 0&&r.uint32(16).int32(t.wrapMode),t.filterMode!==void 0&&r.uint32(24).int32(t.filterMode),r}e.encode=o;function c(t,r){let n=t instanceof Ft.default.Reader?t:Ft.default.Reader.create(t),s=r===void 0?n.len:n.pos+r,a=Ty();for(;n.pos<s;){let i=n.uint32();switch(i>>>3){case 1:if(i!==10)break;a.src=n.string();continue;case 2:if(i!==16)break;a.wrapMode=n.int32();continue;case 3:if(i!==24)break;a.filterMode=n.int32();continue}if((i&7)===4||i===0)break;n.skipType(i&7)}return a}e.decode=c})(sc||(sc={}));function Sy(){return{userId:"",wrapMode:void 0,filterMode:void 0}}var fc;(function(e){function o(t,r=Ft.default.Writer.create()){return t.userId!==""&&r.uint32(10).string(t.userId),t.wrapMode!==void 0&&r.uint32(16).int32(t.wrapMode),t.filterMode!==void 0&&r.uint32(24).int32(t.filterMode),r}e.encode=o;function c(t,r){let n=t instanceof Ft.default.Reader?t:Ft.default.Reader.create(t),s=r===void 0?n.len:n.pos+r,a=Sy();for(;n.pos<s;){let i=n.uint32();switch(i>>>3){case 1:if(i!==10)break;a.userId=n.string();continue;case 2:if(i!==16)break;a.wrapMode=n.int32();continue;case 3:if(i!==24)break;a.filterMode=n.int32();continue}if((i&7)===4||i===0)break;n.skipType(i&7)}return a}e.decode=c})(fc||(fc={}));function _y(){return{videoPlayerEntity:0,wrapMode:void 0,filterMode:void 0}}var uc;(function(e){function o(t,r=Ft.default.Writer.create()){return t.videoPlayerEntity!==0&&r.uint32(8).uint32(t.videoPlayerEntity),t.wrapMode!==void 0&&r.uint32(16).int32(t.wrapMode),t.filterMode!==void 0&&r.uint32(24).int32(t.filterMode),r}e.encode=o;function c(t,r){let n=t instanceof Ft.default.Reader?t:Ft.default.Reader.create(t),s=r===void 0?n.len:n.pos+r,a=_y();for(;n.pos<s;){let i=n.uint32();switch(i>>>3){case 1:if(i!==8)break;a.videoPlayerEntity=n.uint32();continue;case 2:if(i!==16)break;a.wrapMode=n.int32();continue;case 3:if(i!==24)break;a.filterMode=n.int32();continue}if((i&7)===4||i===0)break;n.skipType(i&7)}return a}e.decode=c})(uc||(uc={}));function xy(){return{tex:void 0}}var xt;(function(e){function o(t,r=Ft.default.Writer.create()){switch(t.tex?.$case){case"texture":sc.encode(t.tex.texture,r.uint32(10).fork()).ldelim();break;case"avatarTexture":fc.encode(t.tex.avatarTexture,r.uint32(18).fork()).ldelim();break;case"videoTexture":uc.encode(t.tex.videoTexture,r.uint32(26).fork()).ldelim();break}return r}e.encode=o;function c(t,r){let n=t instanceof Ft.default.Reader?t:Ft.default.Reader.create(t),s=r===void 0?n.len:n.pos+r,a=xy();for(;n.pos<s;){let i=n.uint32();switch(i>>>3){case 1:if(i!==10)break;a.tex={$case:"texture",texture:sc.decode(n,n.uint32())};continue;case 2:if(i!==18)break;a.tex={$case:"avatarTexture",avatarTexture:fc.decode(n,n.uint32())};continue;case 3:if(i!==26)break;a.tex={$case:"videoTexture",videoTexture:uc.decode(n,n.uint32())};continue}if((i&7)===4||i===0)break;n.skipType(i&7)}return a}e.decode=c})(xt||(xt={}));var up;(function(e){e[e.MTM_OPAQUE=0]="MTM_OPAQUE",e[e.MTM_ALPHA_TEST=1]="MTM_ALPHA_TEST",e[e.MTM_ALPHA_BLEND=2]="MTM_ALPHA_BLEND",e[e.MTM_ALPHA_TEST_AND_ALPHA_BLEND=3]="MTM_ALPHA_TEST_AND_ALPHA_BLEND",e[e.MTM_AUTO=4]="MTM_AUTO"})(up||(up={}));function ky(){return{material:void 0}}var mr;(function(e){function o(t,r=kn.default.Writer.create()){switch(t.material?.$case){case"unlit":dc.encode(t.material.unlit,r.uint32(10).fork()).ldelim();break;case"pbr":lc.encode(t.material.pbr,r.uint32(18).fork()).ldelim();break}return r}e.encode=o;function c(t,r){let n=t instanceof kn.default.Reader?t:kn.default.Reader.create(t),s=r===void 0?n.len:n.pos+r,a=ky();for(;n.pos<s;){let i=n.uint32();switch(i>>>3){case 1:if(i!==10)break;a.material={$case:"unlit",unlit:dc.decode(n,n.uint32())};continue;case 2:if(i!==18)break;a.material={$case:"pbr",pbr:lc.decode(n,n.uint32())};continue}if((i&7)===4||i===0)break;n.skipType(i&7)}return a}e.decode=c})(mr||(mr={}));function Ry(){return{texture:void 0,alphaTest:void 0,castShadows:void 0,diffuseColor:void 0}}var dc;(function(e){function o(t,r=kn.default.Writer.create()){return t.texture!==void 0&&xt.encode(t.texture,r.uint32(10).fork()).ldelim(),t.alphaTest!==void 0&&r.uint32(21).float(t.alphaTest),t.castShadows!==void 0&&r.uint32(24).bool(t.castShadows),t.diffuseColor!==void 0&&$e.encode(t.diffuseColor,r.uint32(34).fork()).ldelim(),r}e.encode=o;function c(t,r){let n=t instanceof kn.default.Reader?t:kn.default.Reader.create(t),s=r===void 0?n.len:n.pos+r,a=Ry();for(;n.pos<s;){let i=n.uint32();switch(i>>>3){case 1:if(i!==10)break;a.texture=xt.decode(n,n.uint32());continue;case 2:if(i!==21)break;a.alphaTest=n.float();continue;case 3:if(i!==24)break;a.castShadows=n.bool();continue;case 4:if(i!==34)break;a.diffuseColor=$e.decode(n,n.uint32());continue}if((i&7)===4||i===0)break;n.skipType(i&7)}return a}e.decode=c})(dc||(dc={}));function Ay(){return{texture:void 0,alphaTest:void 0,castShadows:void 0,alphaTexture:void 0,emissiveTexture:void 0,bumpTexture:void 0,albedoColor:void 0,emissiveColor:void 0,reflectivityColor:void 0,transparencyMode:void 0,metallic:void 0,roughness:void 0,specularIntensity:void 0,emissiveIntensity:void 0,directIntensity:void 0}}var lc;(function(e){function o(t,r=kn.default.Writer.create()){return t.texture!==void 0&&xt.encode(t.texture,r.uint32(10).fork()).ldelim(),t.alphaTest!==void 0&&r.uint32(21).float(t.alphaTest),t.castShadows!==void 0&&r.uint32(24).bool(t.castShadows),t.alphaTexture!==void 0&&xt.encode(t.alphaTexture,r.uint32(34).fork()).ldelim(),t.emissiveTexture!==void 0&&xt.encode(t.emissiveTexture,r.uint32(42).fork()).ldelim(),t.bumpTexture!==void 0&&xt.encode(t.bumpTexture,r.uint32(50).fork()).ldelim(),t.albedoColor!==void 0&&$e.encode(t.albedoColor,r.uint32(58).fork()).ldelim(),t.emissiveColor!==void 0&&Xe.encode(t.emissiveColor,r.uint32(66).fork()).ldelim(),t.reflectivityColor!==void 0&&Xe.encode(t.reflectivityColor,r.uint32(74).fork()).ldelim(),t.transparencyMode!==void 0&&r.uint32(80).int32(t.transparencyMode),t.metallic!==void 0&&r.uint32(93).float(t.metallic),t.roughness!==void 0&&r.uint32(101).float(t.roughness),t.specularIntensity!==void 0&&r.uint32(117).float(t.specularIntensity),t.emissiveIntensity!==void 0&&r.uint32(125).float(t.emissiveIntensity),t.directIntensity!==void 0&&r.uint32(133).float(t.directIntensity),r}e.encode=o;function c(t,r){let n=t instanceof kn.default.Reader?t:kn.default.Reader.create(t),s=r===void 0?n.len:n.pos+r,a=Ay();for(;n.pos<s;){let i=n.uint32();switch(i>>>3){case 1:if(i!==10)break;a.texture=xt.decode(n,n.uint32());continue;case 2:if(i!==21)break;a.alphaTest=n.float();continue;case 3:if(i!==24)break;a.castShadows=n.bool();continue;case 4:if(i!==34)break;a.alphaTexture=xt.decode(n,n.uint32());continue;case 5:if(i!==42)break;a.emissiveTexture=xt.decode(n,n.uint32());continue;case 6:if(i!==50)break;a.bumpTexture=xt.decode(n,n.uint32());continue;case 7:if(i!==58)break;a.albedoColor=$e.decode(n,n.uint32());continue;case 8:if(i!==66)break;a.emissiveColor=Xe.decode(n,n.uint32());continue;case 9:if(i!==74)break;a.reflectivityColor=Xe.decode(n,n.uint32());continue;case 10:if(i!==80)break;a.transparencyMode=n.int32();continue;case 11:if(i!==93)break;a.metallic=n.float();continue;case 12:if(i!==101)break;a.roughness=n.float();continue;case 14:if(i!==117)break;a.specularIntensity=n.float();continue;case 15:if(i!==125)break;a.emissiveIntensity=n.float();continue;case 16:if(i!==133)break;a.directIntensity=n.float();continue}if((i&7)===4||i===0)break;n.skipType(i&7)}return a}e.decode=c})(lc||(lc={}));var dp={COMPONENT_ID:1017,serialize(e,o){let c=mr.encode(e),t=new Uint8Array(c.finish(),0,c.len);o.writeBuffer(t,!1)},deserialize(e){return mr.decode(e.buffer(),e.remainingBytes())},create(){return mr.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBMaterial"}};var kt=Y(J());var lp;(function(e){e[e.CL_NONE=0]="CL_NONE",e[e.CL_POINTER=1]="CL_POINTER",e[e.CL_PHYSICS=2]="CL_PHYSICS",e[e.CL_RESERVED1=4]="CL_RESERVED1",e[e.CL_RESERVED2=8]="CL_RESERVED2",e[e.CL_RESERVED3=16]="CL_RESERVED3",e[e.CL_RESERVED4=32]="CL_RESERVED4",e[e.CL_RESERVED5=64]="CL_RESERVED5",e[e.CL_RESERVED6=128]="CL_RESERVED6",e[e.CL_CUSTOM1=256]="CL_CUSTOM1",e[e.CL_CUSTOM2=512]="CL_CUSTOM2",e[e.CL_CUSTOM3=1024]="CL_CUSTOM3",e[e.CL_CUSTOM4=2048]="CL_CUSTOM4",e[e.CL_CUSTOM5=4096]="CL_CUSTOM5",e[e.CL_CUSTOM6=8192]="CL_CUSTOM6",e[e.CL_CUSTOM7=16384]="CL_CUSTOM7",e[e.CL_CUSTOM8=32768]="CL_CUSTOM8"})(lp||(lp={}));function Ny(){return{collisionMask:void 0,mesh:void 0}}var hr;(function(e){function o(t,r=kt.default.Writer.create()){switch(t.collisionMask!==void 0&&r.uint32(8).uint32(t.collisionMask),t.mesh?.$case){case"box":pc.encode(t.mesh.box,r.uint32(18).fork()).ldelim();break;case"sphere":Ec.encode(t.mesh.sphere,r.uint32(26).fork()).ldelim();break;case"cylinder":mc.encode(t.mesh.cylinder,r.uint32(34).fork()).ldelim();break;case"plane":hc.encode(t.mesh.plane,r.uint32(42).fork()).ldelim();break}return r}e.encode=o;function c(t,r){let n=t instanceof kt.default.Reader?t:kt.default.Reader.create(t),s=r===void 0?n.len:n.pos+r,a=Ny();for(;n.pos<s;){let i=n.uint32();switch(i>>>3){case 1:if(i!==8)break;a.collisionMask=n.uint32();continue;case 2:if(i!==18)break;a.mesh={$case:"box",box:pc.decode(n,n.uint32())};continue;case 3:if(i!==26)break;a.mesh={$case:"sphere",sphere:Ec.decode(n,n.uint32())};continue;case 4:if(i!==34)break;a.mesh={$case:"cylinder",cylinder:mc.decode(n,n.uint32())};continue;case 5:if(i!==42)break;a.mesh={$case:"plane",plane:hc.decode(n,n.uint32())};continue}if((i&7)===4||i===0)break;n.skipType(i&7)}return a}e.decode=c})(hr||(hr={}));function gy(){return{}}var pc;(function(e){function o(t,r=kt.default.Writer.create()){return r}e.encode=o;function c(t,r){let n=t instanceof kt.default.Reader?t:kt.default.Reader.create(t),s=r===void 0?n.len:n.pos+r,a=gy();for(;n.pos<s;){let i=n.uint32();switch(i>>>3){}if((i&7)===4||i===0)break;n.skipType(i&7)}return a}e.decode=c})(pc||(pc={}));function Oy(){return{radiusTop:void 0,radiusBottom:void 0}}var mc;(function(e){function o(t,r=kt.default.Writer.create()){return t.radiusTop!==void 0&&r.uint32(13).float(t.radiusTop),t.radiusBottom!==void 0&&r.uint32(21).float(t.radiusBottom),r}e.encode=o;function c(t,r){let n=t instanceof kt.default.Reader?t:kt.default.Reader.create(t),s=r===void 0?n.len:n.pos+r,a=Oy();for(;n.pos<s;){let i=n.uint32();switch(i>>>3){case 1:if(i!==13)break;a.radiusTop=n.float();continue;case 2:if(i!==21)break;a.radiusBottom=n.float();continue}if((i&7)===4||i===0)break;n.skipType(i&7)}return a}e.decode=c})(mc||(mc={}));function wy(){return{}}var hc;(function(e){function o(t,r=kt.default.Writer.create()){return r}e.encode=o;function c(t,r){let n=t instanceof kt.default.Reader?t:kt.default.Reader.create(t),s=r===void 0?n.len:n.pos+r,a=wy();for(;n.pos<s;){let i=n.uint32();switch(i>>>3){}if((i&7)===4||i===0)break;n.skipType(i&7)}return a}e.decode=c})(hc||(hc={}));function Iy(){return{}}var Ec;(function(e){function o(t,r=kt.default.Writer.create()){return r}e.encode=o;function c(t,r){let n=t instanceof kt.default.Reader?t:kt.default.Reader.create(t),s=r===void 0?n.len:n.pos+r,a=Iy();for(;n.pos<s;){let i=n.uint32();switch(i>>>3){}if((i&7)===4||i===0)break;n.skipType(i&7)}return a}e.decode=c})(Ec||(Ec={}));var pp={COMPONENT_ID:1019,serialize(e,o){let c=hr.encode(e),t=new Uint8Array(c.finish(),0,c.len);o.writeBuffer(t,!1)},deserialize(e){return hr.decode(e.buffer(),e.remainingBytes())},create(){return hr.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBMeshCollider"}};var Rt=Y(J());function Cy(){return{mesh:void 0}}var Er;(function(e){function o(t,r=Rt.default.Writer.create()){switch(t.mesh?.$case){case"box":yc.encode(t.mesh.box,r.uint32(10).fork()).ldelim();break;case"sphere":Sc.encode(t.mesh.sphere,r.uint32(18).fork()).ldelim();break;case"cylinder":bc.encode(t.mesh.cylinder,r.uint32(26).fork()).ldelim();break;case"plane":Tc.encode(t.mesh.plane,r.uint32(34).fork()).ldelim();break}return r}e.encode=o;function c(t,r){let n=t instanceof Rt.default.Reader?t:Rt.default.Reader.create(t),s=r===void 0?n.len:n.pos+r,a=Cy();for(;n.pos<s;){let i=n.uint32();switch(i>>>3){case 1:if(i!==10)break;a.mesh={$case:"box",box:yc.decode(n,n.uint32())};continue;case 2:if(i!==18)break;a.mesh={$case:"sphere",sphere:Sc.decode(n,n.uint32())};continue;case 3:if(i!==26)break;a.mesh={$case:"cylinder",cylinder:bc.decode(n,n.uint32())};continue;case 4:if(i!==34)break;a.mesh={$case:"plane",plane:Tc.decode(n,n.uint32())};continue}if((i&7)===4||i===0)break;n.skipType(i&7)}return a}e.decode=c})(Er||(Er={}));function My(){return{uvs:[]}}var yc;(function(e){function o(t,r=Rt.default.Writer.create()){r.uint32(10).fork();for(let n of t.uvs)r.float(n);return r.ldelim(),r}e.encode=o;function c(t,r){let n=t instanceof Rt.default.Reader?t:Rt.default.Reader.create(t),s=r===void 0?n.len:n.pos+r,a=My();for(;n.pos<s;){let i=n.uint32();switch(i>>>3){case 1:if(i===13){a.uvs.push(n.float());continue}if(i===10){let f=n.uint32()+n.pos;for(;n.pos<f;)a.uvs.push(n.float());continue}break}if((i&7)===4||i===0)break;n.skipType(i&7)}return a}e.decode=c})(yc||(yc={}));function vy(){return{radiusTop:void 0,radiusBottom:void 0}}var bc;(function(e){function o(t,r=Rt.default.Writer.create()){return t.radiusTop!==void 0&&r.uint32(13).float(t.radiusTop),t.radiusBottom!==void 0&&r.uint32(21).float(t.radiusBottom),r}e.encode=o;function c(t,r){let n=t instanceof Rt.default.Reader?t:Rt.default.Reader.create(t),s=r===void 0?n.len:n.pos+r,a=vy();for(;n.pos<s;){let i=n.uint32();switch(i>>>3){case 1:if(i!==13)break;a.radiusTop=n.float();continue;case 2:if(i!==21)break;a.radiusBottom=n.float();continue}if((i&7)===4||i===0)break;n.skipType(i&7)}return a}e.decode=c})(bc||(bc={}));function Py(){return{uvs:[]}}var Tc;(function(e){function o(t,r=Rt.default.Writer.create()){r.uint32(10).fork();for(let n of t.uvs)r.float(n);return r.ldelim(),r}e.encode=o;function c(t,r){let n=t instanceof Rt.default.Reader?t:Rt.default.Reader.create(t),s=r===void 0?n.len:n.pos+r,a=Py();for(;n.pos<s;){let i=n.uint32();switch(i>>>3){case 1:if(i===13){a.uvs.push(n.float());continue}if(i===10){let f=n.uint32()+n.pos;for(;n.pos<f;)a.uvs.push(n.float());continue}break}if((i&7)===4||i===0)break;n.skipType(i&7)}return a}e.decode=c})(Tc||(Tc={}));function Uy(){return{}}var Sc;(function(e){function o(t,r=Rt.default.Writer.create()){return r}e.encode=o;function c(t,r){let n=t instanceof Rt.default.Reader?t:Rt.default.Reader.create(t),s=r===void 0?n.len:n.pos+r,a=Uy();for(;n.pos<s;){let i=n.uint32();switch(i>>>3){}if((i&7)===4||i===0)break;n.skipType(i&7)}return a}e.decode=c})(Sc||(Sc={}));var mp={COMPONENT_ID:1018,serialize(e,o){let c=Er.encode(e),t=new Uint8Array(c.finish(),0,c.len);o.writeBuffer(t,!1)},deserialize(e){return Er.decode(e.buffer(),e.remainingBytes())},create(){return Er.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBMeshRenderer"}};var _c=Y(J());var hp;(function(e){e[e.NFT_CLASSIC=0]="NFT_CLASSIC",e[e.NFT_BAROQUE_ORNAMENT=1]="NFT_BAROQUE_ORNAMENT",e[e.NFT_DIAMOND_ORNAMENT=2]="NFT_DIAMOND_ORNAMENT",e[e.NFT_MINIMAL_WIDE=3]="NFT_MINIMAL_WIDE",e[e.NFT_MINIMAL_GREY=4]="NFT_MINIMAL_GREY",e[e.NFT_BLOCKY=5]="NFT_BLOCKY",e[e.NFT_GOLD_EDGES=6]="NFT_GOLD_EDGES",e[e.NFT_GOLD_CARVED=7]="NFT_GOLD_CARVED",e[e.NFT_GOLD_WIDE=8]="NFT_GOLD_WIDE",e[e.NFT_GOLD_ROUNDED=9]="NFT_GOLD_ROUNDED",e[e.NFT_METAL_MEDIUM=10]="NFT_METAL_MEDIUM",e[e.NFT_METAL_WIDE=11]="NFT_METAL_WIDE",e[e.NFT_METAL_SLIM=12]="NFT_METAL_SLIM",e[e.NFT_METAL_ROUNDED=13]="NFT_METAL_ROUNDED",e[e.NFT_PINS=14]="NFT_PINS",e[e.NFT_MINIMAL_BLACK=15]="NFT_MINIMAL_BLACK",e[e.NFT_MINIMAL_WHITE=16]="NFT_MINIMAL_WHITE",e[e.NFT_TAPE=17]="NFT_TAPE",e[e.NFT_WOOD_SLIM=18]="NFT_WOOD_SLIM",e[e.NFT_WOOD_WIDE=19]="NFT_WOOD_WIDE",e[e.NFT_WOOD_TWIGS=20]="NFT_WOOD_TWIGS",e[e.NFT_CANVAS=21]="NFT_CANVAS",e[e.NFT_NONE=22]="NFT_NONE"})(hp||(hp={}));function By(){return{urn:"",style:void 0,color:void 0}}var yr;(function(e){function o(t,r=_c.default.Writer.create()){return t.urn!==""&&r.uint32(10).string(t.urn),t.style!==void 0&&r.uint32(16).int32(t.style),t.color!==void 0&&Xe.encode(t.color,r.uint32(26).fork()).ldelim(),r}e.encode=o;function c(t,r){let n=t instanceof _c.default.Reader?t:_c.default.Reader.create(t),s=r===void 0?n.len:n.pos+r,a=By();for(;n.pos<s;){let i=n.uint32();switch(i>>>3){case 1:if(i!==10)break;a.urn=n.string();continue;case 2:if(i!==16)break;a.style=n.int32();continue;case 3:if(i!==26)break;a.color=Xe.decode(n,n.uint32());continue}if((i&7)===4||i===0)break;n.skipType(i&7)}return a}e.decode=c})(yr||(yr={}));var Ep={COMPONENT_ID:1040,serialize(e,o){let c=yr.encode(e),t=new Uint8Array(c.finish(),0,c.len);o.writeBuffer(t,!1)},deserialize(e){return yr.decode(e.buffer(),e.remainingBytes())},create(){return yr.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBNftShape"}};var Rn=Y(J());function Dy(){return{pointerEvents:[]}}var br;(function(e){function o(t,r=Rn.default.Writer.create()){for(let n of t.pointerEvents)kc.encode(n,r.uint32(10).fork()).ldelim();return r}e.encode=o;function c(t,r){let n=t instanceof Rn.default.Reader?t:Rn.default.Reader.create(t),s=r===void 0?n.len:n.pos+r,a=Dy();for(;n.pos<s;){let i=n.uint32();switch(i>>>3){case 1:if(i!==10)break;a.pointerEvents.push(kc.decode(n,n.uint32()));continue}if((i&7)===4||i===0)break;n.skipType(i&7)}return a}e.decode=c})(br||(br={}));function Ly(){return{button:void 0,hoverText:void 0,maxDistance:void 0,showFeedback:void 0}}var xc;(function(e){function o(t,r=Rn.default.Writer.create()){return t.button!==void 0&&r.uint32(8).int32(t.button),t.hoverText!==void 0&&r.uint32(18).string(t.hoverText),t.maxDistance!==void 0&&r.uint32(29).float(t.maxDistance),t.showFeedback!==void 0&&r.uint32(32).bool(t.showFeedback),r}e.encode=o;function c(t,r){let n=t instanceof Rn.default.Reader?t:Rn.default.Reader.create(t),s=r===void 0?n.len:n.pos+r,a=Ly();for(;n.pos<s;){let i=n.uint32();switch(i>>>3){case 1:if(i!==8)break;a.button=n.int32();continue;case 2:if(i!==18)break;a.hoverText=n.string();continue;case 3:if(i!==29)break;a.maxDistance=n.float();continue;case 4:if(i!==32)break;a.showFeedback=n.bool();continue}if((i&7)===4||i===0)break;n.skipType(i&7)}return a}e.decode=c})(xc||(xc={}));function zy(){return{eventType:0,eventInfo:void 0}}var kc;(function(e){function o(t,r=Rn.default.Writer.create()){return t.eventType!==0&&r.uint32(8).int32(t.eventType),t.eventInfo!==void 0&&xc.encode(t.eventInfo,r.uint32(18).fork()).ldelim(),r}e.encode=o;function c(t,r){let n=t instanceof Rn.default.Reader?t:Rn.default.Reader.create(t),s=r===void 0?n.len:n.pos+r,a=zy();for(;n.pos<s;){let i=n.uint32();switch(i>>>3){case 1:if(i!==8)break;a.eventType=n.int32();continue;case 2:if(i!==18)break;a.eventInfo=xc.decode(n,n.uint32());continue}if((i&7)===4||i===0)break;n.skipType(i&7)}return a}e.decode=c})(kc||(kc={}));var yp={COMPONENT_ID:1062,serialize(e,o){let c=br.encode(e),t=new Uint8Array(c.finish(),0,c.len);o.writeBuffer(t,!1)},deserialize(e){return br.decode(e.buffer(),e.remainingBytes())},create(){return br.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBPointerEvents"}};var Ac=Y(J());var Rc=Y(J());function Fy(){return{position:void 0,globalOrigin:void 0,direction:void 0,normalHit:void 0,length:0,meshName:void 0,entityId:void 0}}var Zn;(function(e){function o(t,r=Rc.default.Writer.create()){return t.position!==void 0&&Se.encode(t.position,r.uint32(10).fork()).ldelim(),t.globalOrigin!==void 0&&Se.encode(t.globalOrigin,r.uint32(18).fork()).ldelim(),t.direction!==void 0&&Se.encode(t.direction,r.uint32(26).fork()).ldelim(),t.normalHit!==void 0&&Se.encode(t.normalHit,r.uint32(34).fork()).ldelim(),t.length!==0&&r.uint32(45).float(t.length),t.meshName!==void 0&&r.uint32(50).string(t.meshName),t.entityId!==void 0&&r.uint32(56).uint32(t.entityId),r}e.encode=o;function c(t,r){let n=t instanceof Rc.default.Reader?t:Rc.default.Reader.create(t),s=r===void 0?n.len:n.pos+r,a=Fy();for(;n.pos<s;){let i=n.uint32();switch(i>>>3){case 1:if(i!==10)break;a.position=Se.decode(n,n.uint32());continue;case 2:if(i!==18)break;a.globalOrigin=Se.decode(n,n.uint32());continue;case 3:if(i!==26)break;a.direction=Se.decode(n,n.uint32());continue;case 4:if(i!==34)break;a.normalHit=Se.decode(n,n.uint32());continue;case 5:if(i!==45)break;a.length=n.float();continue;case 6:if(i!==50)break;a.meshName=n.string();continue;case 7:if(i!==56)break;a.entityId=n.uint32();continue}if((i&7)===4||i===0)break;n.skipType(i&7)}return a}e.decode=c})(Zn||(Zn={}));function Vy(){return{button:0,hit:void 0,state:0,timestamp:0,analog:void 0,tickNumber:0}}var Tr;(function(e){function o(t,r=Ac.default.Writer.create()){return t.button!==0&&r.uint32(8).int32(t.button),t.hit!==void 0&&Zn.encode(t.hit,r.uint32(18).fork()).ldelim(),t.state!==0&&r.uint32(32).int32(t.state),t.timestamp!==0&&r.uint32(40).uint32(t.timestamp),t.analog!==void 0&&r.uint32(53).float(t.analog),t.tickNumber!==0&&r.uint32(56).uint32(t.tickNumber),r}e.encode=o;function c(t,r){let n=t instanceof Ac.default.Reader?t:Ac.default.Reader.create(t),s=r===void 0?n.len:n.pos+r,a=Vy();for(;n.pos<s;){let i=n.uint32();switch(i>>>3){case 1:if(i!==8)break;a.button=n.int32();continue;case 2:if(i!==18)break;a.hit=Zn.decode(n,n.uint32());continue;case 4:if(i!==32)break;a.state=n.int32();continue;case 5:if(i!==40)break;a.timestamp=n.uint32();continue;case 6:if(i!==53)break;a.analog=n.float();continue;case 7:if(i!==56)break;a.tickNumber=n.uint32();continue}if((i&7)===4||i===0)break;n.skipType(i&7)}return a}e.decode=c})(Tr||(Tr={}));var bp={COMPONENT_ID:1063,serialize(e,o){let c=Tr.encode(e),t=new Uint8Array(c.finish(),0,c.len);o.writeBuffer(t,!1)},deserialize(e){return Tr.decode(e.buffer(),e.remainingBytes())},create(){return Tr.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBPointerEventsResult"}};var Nc=Y(J());function Wy(){return{isPointerLocked:!1}}var Sr;(function(e){function o(t,r=Nc.default.Writer.create()){return t.isPointerLocked===!0&&r.uint32(8).bool(t.isPointerLocked),r}e.encode=o;function c(t,r){let n=t instanceof Nc.default.Reader?t:Nc.default.Reader.create(t),s=r===void 0?n.len:n.pos+r,a=Wy();for(;n.pos<s;){let i=n.uint32();switch(i>>>3){case 1:if(i!==8)break;a.isPointerLocked=n.bool();continue}if((i&7)===4||i===0)break;n.skipType(i&7)}return a}e.decode=c})(Sr||(Sr={}));var Tp={COMPONENT_ID:1074,serialize(e,o){let c=Sr.encode(e),t=new Uint8Array(c.finish(),0,c.len);o.writeBuffer(t,!1)},deserialize(e){return Sr.decode(e.buffer(),e.remainingBytes())},create(){return Sr.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBPointerLock"}};var gc=Y(J());var Sp;(function(e){e[e.RQT_HIT_FIRST=0]="RQT_HIT_FIRST",e[e.RQT_QUERY_ALL=1]="RQT_QUERY_ALL",e[e.RQT_NONE=2]="RQT_NONE"})(Sp||(Sp={}));function Hy(){return{timestamp:void 0,originOffset:void 0,direction:void 0,maxDistance:0,queryType:0,continuous:void 0,collisionMask:void 0}}var _r;(function(e){function o(t,r=gc.default.Writer.create()){switch(t.timestamp!==void 0&&r.uint32(8).uint32(t.timestamp),t.originOffset!==void 0&&Se.encode(t.originOffset,r.uint32(18).fork()).ldelim(),t.direction?.$case){case"localDirection":Se.encode(t.direction.localDirection,r.uint32(50).fork()).ldelim();break;case"globalDirection":Se.encode(t.direction.globalDirection,r.uint32(26).fork()).ldelim();break;case"globalTarget":Se.encode(t.direction.globalTarget,r.uint32(58).fork()).ldelim();break;case"targetEntity":r.uint32(80).uint32(t.direction.targetEntity);break}return t.maxDistance!==0&&r.uint32(37).float(t.maxDistance),t.queryType!==0&&r.uint32(40).int32(t.queryType),t.continuous!==void 0&&r.uint32(64).bool(t.continuous),t.collisionMask!==void 0&&r.uint32(72).uint32(t.collisionMask),r}e.encode=o;function c(t,r){let n=t instanceof gc.default.Reader?t:gc.default.Reader.create(t),s=r===void 0?n.len:n.pos+r,a=Hy();for(;n.pos<s;){let i=n.uint32();switch(i>>>3){case 1:if(i!==8)break;a.timestamp=n.uint32();continue;case 2:if(i!==18)break;a.originOffset=Se.decode(n,n.uint32());continue;case 6:if(i!==50)break;a.direction={$case:"localDirection",localDirection:Se.decode(n,n.uint32())};continue;case 3:if(i!==26)break;a.direction={$case:"globalDirection",globalDirection:Se.decode(n,n.uint32())};continue;case 7:if(i!==58)break;a.direction={$case:"globalTarget",globalTarget:Se.decode(n,n.uint32())};continue;case 10:if(i!==80)break;a.direction={$case:"targetEntity",targetEntity:n.uint32()};continue;case 4:if(i!==37)break;a.maxDistance=n.float();continue;case 5:if(i!==40)break;a.queryType=n.int32();continue;case 8:if(i!==64)break;a.continuous=n.bool();continue;case 9:if(i!==72)break;a.collisionMask=n.uint32();continue}if((i&7)===4||i===0)break;n.skipType(i&7)}return a}e.decode=c})(_r||(_r={}));var _p={COMPONENT_ID:1067,serialize(e,o){let c=_r.encode(e),t=new Uint8Array(c.finish(),0,c.len);o.writeBuffer(t,!1)},deserialize(e){return _r.decode(e.buffer(),e.remainingBytes())},create(){return _r.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBRaycast"}};var Oc=Y(J());function Gy(){return{timestamp:void 0,globalOrigin:void 0,direction:void 0,hits:[],tickNumber:0}}var xr;(function(e){function o(t,r=Oc.default.Writer.create()){t.timestamp!==void 0&&r.uint32(8).uint32(t.timestamp),t.globalOrigin!==void 0&&Se.encode(t.globalOrigin,r.uint32(18).fork()).ldelim(),t.direction!==void 0&&Se.encode(t.direction,r.uint32(26).fork()).ldelim();for(let n of t.hits)Zn.encode(n,r.uint32(34).fork()).ldelim();return t.tickNumber!==0&&r.uint32(40).uint32(t.tickNumber),r}e.encode=o;function c(t,r){let n=t instanceof Oc.default.Reader?t:Oc.default.Reader.create(t),s=r===void 0?n.len:n.pos+r,a=Gy();for(;n.pos<s;){let i=n.uint32();switch(i>>>3){case 1:if(i!==8)break;a.timestamp=n.uint32();continue;case 2:if(i!==18)break;a.globalOrigin=Se.decode(n,n.uint32());continue;case 3:if(i!==26)break;a.direction=Se.decode(n,n.uint32());continue;case 4:if(i!==34)break;a.hits.push(Zn.decode(n,n.uint32()));continue;case 5:if(i!==40)break;a.tickNumber=n.uint32();continue}if((i&7)===4||i===0)break;n.skipType(i&7)}return a}e.decode=c})(xr||(xr={}));var xp={COMPONENT_ID:1068,serialize(e,o){let c=xr.encode(e),t=new Uint8Array(c.finish(),0,c.len);o.writeBuffer(t,!1)},deserialize(e){return xr.decode(e.buffer(),e.remainingBytes())},create(){return xr.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBRaycastResult"}};var wc=Y(J());function jy(){return{text:"",font:void 0,fontSize:void 0,fontAutoSize:void 0,textAlign:void 0,width:void 0,height:void 0,paddingTop:void 0,paddingRight:void 0,paddingBottom:void 0,paddingLeft:void 0,lineSpacing:void 0,lineCount:void 0,textWrapping:void 0,shadowBlur:void 0,shadowOffsetX:void 0,shadowOffsetY:void 0,outlineWidth:void 0,shadowColor:void 0,outlineColor:void 0,textColor:void 0}}var kr;(function(e){function o(t,r=wc.default.Writer.create()){return t.text!==""&&r.uint32(10).string(t.text),t.font!==void 0&&r.uint32(16).int32(t.font),t.fontSize!==void 0&&r.uint32(29).float(t.fontSize),t.fontAutoSize!==void 0&&r.uint32(32).bool(t.fontAutoSize),t.textAlign!==void 0&&r.uint32(40).int32(t.textAlign),t.width!==void 0&&r.uint32(53).float(t.width),t.height!==void 0&&r.uint32(61).float(t.height),t.paddingTop!==void 0&&r.uint32(69).float(t.paddingTop),t.paddingRight!==void 0&&r.uint32(77).float(t.paddingRight),t.paddingBottom!==void 0&&r.uint32(85).float(t.paddingBottom),t.paddingLeft!==void 0&&r.uint32(93).float(t.paddingLeft),t.lineSpacing!==void 0&&r.uint32(101).float(t.lineSpacing),t.lineCount!==void 0&&r.uint32(104).int32(t.lineCount),t.textWrapping!==void 0&&r.uint32(112).bool(t.textWrapping),t.shadowBlur!==void 0&&r.uint32(125).float(t.shadowBlur),t.shadowOffsetX!==void 0&&r.uint32(133).float(t.shadowOffsetX),t.shadowOffsetY!==void 0&&r.uint32(141).float(t.shadowOffsetY),t.outlineWidth!==void 0&&r.uint32(149).float(t.outlineWidth),t.shadowColor!==void 0&&Xe.encode(t.shadowColor,r.uint32(154).fork()).ldelim(),t.outlineColor!==void 0&&Xe.encode(t.outlineColor,r.uint32(162).fork()).ldelim(),t.textColor!==void 0&&$e.encode(t.textColor,r.uint32(170).fork()).ldelim(),r}e.encode=o;function c(t,r){let n=t instanceof wc.default.Reader?t:wc.default.Reader.create(t),s=r===void 0?n.len:n.pos+r,a=jy();for(;n.pos<s;){let i=n.uint32();switch(i>>>3){case 1:if(i!==10)break;a.text=n.string();continue;case 2:if(i!==16)break;a.font=n.int32();continue;case 3:if(i!==29)break;a.fontSize=n.float();continue;case 4:if(i!==32)break;a.fontAutoSize=n.bool();continue;case 5:if(i!==40)break;a.textAlign=n.int32();continue;case 6:if(i!==53)break;a.width=n.float();continue;case 7:if(i!==61)break;a.height=n.float();continue;case 8:if(i!==69)break;a.paddingTop=n.float();continue;case 9:if(i!==77)break;a.paddingRight=n.float();continue;case 10:if(i!==85)break;a.paddingBottom=n.float();continue;case 11:if(i!==93)break;a.paddingLeft=n.float();continue;case 12:if(i!==101)break;a.lineSpacing=n.float();continue;case 13:if(i!==104)break;a.lineCount=n.int32();continue;case 14:if(i!==112)break;a.textWrapping=n.bool();continue;case 15:if(i!==125)break;a.shadowBlur=n.float();continue;case 16:if(i!==133)break;a.shadowOffsetX=n.float();continue;case 17:if(i!==141)break;a.shadowOffsetY=n.float();continue;case 18:if(i!==149)break;a.outlineWidth=n.float();continue;case 19:if(i!==154)break;a.shadowColor=Xe.decode(n,n.uint32());continue;case 20:if(i!==162)break;a.outlineColor=Xe.decode(n,n.uint32());continue;case 21:if(i!==170)break;a.textColor=$e.decode(n,n.uint32());continue}if((i&7)===4||i===0)break;n.skipType(i&7)}return a}e.decode=c})(kr||(kr={}));var kp={COMPONENT_ID:1030,serialize(e,o){let c=kr.encode(e),t=new Uint8Array(c.finish(),0,c.len);o.writeBuffer(t,!1)},deserialize(e){return kr.decode(e.buffer(),e.remainingBytes())},create(){return kr.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBTextShape"}};var Vt=Y(J());var Rp;(function(e){e[e.EF_LINEAR=0]="EF_LINEAR",e[e.EF_EASEINQUAD=1]="EF_EASEINQUAD",e[e.EF_EASEOUTQUAD=2]="EF_EASEOUTQUAD",e[e.EF_EASEQUAD=3]="EF_EASEQUAD",e[e.EF_EASEINSINE=4]="EF_EASEINSINE",e[e.EF_EASEOUTSINE=5]="EF_EASEOUTSINE",e[e.EF_EASESINE=6]="EF_EASESINE",e[e.EF_EASEINEXPO=7]="EF_EASEINEXPO",e[e.EF_EASEOUTEXPO=8]="EF_EASEOUTEXPO",e[e.EF_EASEEXPO=9]="EF_EASEEXPO",e[e.EF_EASEINELASTIC=10]="EF_EASEINELASTIC",e[e.EF_EASEOUTELASTIC=11]="EF_EASEOUTELASTIC",e[e.EF_EASEELASTIC=12]="EF_EASEELASTIC",e[e.EF_EASEINBOUNCE=13]="EF_EASEINBOUNCE",e[e.EF_EASEOUTBOUNCE=14]="EF_EASEOUTBOUNCE",e[e.EF_EASEBOUNCE=15]="EF_EASEBOUNCE",e[e.EF_EASEINCUBIC=16]="EF_EASEINCUBIC",e[e.EF_EASEOUTCUBIC=17]="EF_EASEOUTCUBIC",e[e.EF_EASECUBIC=18]="EF_EASECUBIC",e[e.EF_EASEINQUART=19]="EF_EASEINQUART",e[e.EF_EASEOUTQUART=20]="EF_EASEOUTQUART",e[e.EF_EASEQUART=21]="EF_EASEQUART",e[e.EF_EASEINQUINT=22]="EF_EASEINQUINT",e[e.EF_EASEOUTQUINT=23]="EF_EASEOUTQUINT",e[e.EF_EASEQUINT=24]="EF_EASEQUINT",e[e.EF_EASEINCIRC=25]="EF_EASEINCIRC",e[e.EF_EASEOUTCIRC=26]="EF_EASEOUTCIRC",e[e.EF_EASECIRC=27]="EF_EASECIRC",e[e.EF_EASEINBACK=28]="EF_EASEINBACK",e[e.EF_EASEOUTBACK=29]="EF_EASEOUTBACK",e[e.EF_EASEBACK=30]="EF_EASEBACK"})(Rp||(Rp={}));function $y(){return{duration:0,easingFunction:0,mode:void 0,playing:void 0,currentTime:void 0}}var Un;(function(e){function o(t,r=Vt.default.Writer.create()){switch(t.duration!==0&&r.uint32(13).float(t.duration),t.easingFunction!==0&&r.uint32(16).int32(t.easingFunction),t.mode?.$case){case"move":Ic.encode(t.mode.move,r.uint32(26).fork()).ldelim();break;case"rotate":Cc.encode(t.mode.rotate,r.uint32(34).fork()).ldelim();break;case"scale":Mc.encode(t.mode.scale,r.uint32(42).fork()).ldelim();break}return t.playing!==void 0&&r.uint32(48).bool(t.playing),t.currentTime!==void 0&&r.uint32(61).float(t.currentTime),r}e.encode=o;function c(t,r){let n=t instanceof Vt.default.Reader?t:Vt.default.Reader.create(t),s=r===void 0?n.len:n.pos+r,a=$y();for(;n.pos<s;){let i=n.uint32();switch(i>>>3){case 1:if(i!==13)break;a.duration=n.float();continue;case 2:if(i!==16)break;a.easingFunction=n.int32();continue;case 3:if(i!==26)break;a.mode={$case:"move",move:Ic.decode(n,n.uint32())};continue;case 4:if(i!==34)break;a.mode={$case:"rotate",rotate:Cc.decode(n,n.uint32())};continue;case 5:if(i!==42)break;a.mode={$case:"scale",scale:Mc.decode(n,n.uint32())};continue;case 6:if(i!==48)break;a.playing=n.bool();continue;case 7:if(i!==61)break;a.currentTime=n.float();continue}if((i&7)===4||i===0)break;n.skipType(i&7)}return a}e.decode=c})(Un||(Un={}));function Yy(){return{start:void 0,end:void 0,faceDirection:void 0}}var Ic;(function(e){function o(t,r=Vt.default.Writer.create()){return t.start!==void 0&&Se.encode(t.start,r.uint32(10).fork()).ldelim(),t.end!==void 0&&Se.encode(t.end,r.uint32(18).fork()).ldelim(),t.faceDirection!==void 0&&r.uint32(24).bool(t.faceDirection),r}e.encode=o;function c(t,r){let n=t instanceof Vt.default.Reader?t:Vt.default.Reader.create(t),s=r===void 0?n.len:n.pos+r,a=Yy();for(;n.pos<s;){let i=n.uint32();switch(i>>>3){case 1:if(i!==10)break;a.start=Se.decode(n,n.uint32());continue;case 2:if(i!==18)break;a.end=Se.decode(n,n.uint32());continue;case 3:if(i!==24)break;a.faceDirection=n.bool();continue}if((i&7)===4||i===0)break;n.skipType(i&7)}return a}e.decode=c})(Ic||(Ic={}));function qy(){return{start:void 0,end:void 0}}var Cc;(function(e){function o(t,r=Vt.default.Writer.create()){return t.start!==void 0&&Mo.encode(t.start,r.uint32(10).fork()).ldelim(),t.end!==void 0&&Mo.encode(t.end,r.uint32(18).fork()).ldelim(),r}e.encode=o;function c(t,r){let n=t instanceof Vt.default.Reader?t:Vt.default.Reader.create(t),s=r===void 0?n.len:n.pos+r,a=qy();for(;n.pos<s;){let i=n.uint32();switch(i>>>3){case 1:if(i!==10)break;a.start=Mo.decode(n,n.uint32());continue;case 2:if(i!==18)break;a.end=Mo.decode(n,n.uint32());continue}if((i&7)===4||i===0)break;n.skipType(i&7)}return a}e.decode=c})(Cc||(Cc={}));function Jy(){return{start:void 0,end:void 0}}var Mc;(function(e){function o(t,r=Vt.default.Writer.create()){return t.start!==void 0&&Se.encode(t.start,r.uint32(10).fork()).ldelim(),t.end!==void 0&&Se.encode(t.end,r.uint32(18).fork()).ldelim(),r}e.encode=o;function c(t,r){let n=t instanceof Vt.default.Reader?t:Vt.default.Reader.create(t),s=r===void 0?n.len:n.pos+r,a=Jy();for(;n.pos<s;){let i=n.uint32();switch(i>>>3){case 1:if(i!==10)break;a.start=Se.decode(n,n.uint32());continue;case 2:if(i!==18)break;a.end=Se.decode(n,n.uint32());continue}if((i&7)===4||i===0)break;n.skipType(i&7)}return a}e.decode=c})(Mc||(Mc={}));var Ap={COMPONENT_ID:1102,serialize(e,o){let c=Un.encode(e),t=new Uint8Array(c.finish(),0,c.len);o.writeBuffer(t,!1)},deserialize(e){return Un.decode(e.buffer(),e.remainingBytes())},create(){return Un.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBTween"}};var vc=Y(J());var Np;(function(e){e[e.TL_RESTART=0]="TL_RESTART",e[e.TL_YOYO=1]="TL_YOYO"})(Np||(Np={}));function Xy(){return{sequence:[],loop:void 0}}var Rr;(function(e){function o(t,r=vc.default.Writer.create()){for(let n of t.sequence)Un.encode(n,r.uint32(10).fork()).ldelim();return t.loop!==void 0&&r.uint32(16).int32(t.loop),r}e.encode=o;function c(t,r){let n=t instanceof vc.default.Reader?t:vc.default.Reader.create(t),s=r===void 0?n.len:n.pos+r,a=Xy();for(;n.pos<s;){let i=n.uint32();switch(i>>>3){case 1:if(i!==10)break;a.sequence.push(Un.decode(n,n.uint32()));continue;case 2:if(i!==16)break;a.loop=n.int32();continue}if((i&7)===4||i===0)break;n.skipType(i&7)}return a}e.decode=c})(Rr||(Rr={}));var gp={COMPONENT_ID:1104,serialize(e,o){let c=Rr.encode(e),t=new Uint8Array(c.finish(),0,c.len);o.writeBuffer(t,!1)},deserialize(e){return Rr.decode(e.buffer(),e.remainingBytes())},create(){return Rr.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBTweenSequence"}};var Pc=Y(J());var Op;(function(e){e[e.TS_ACTIVE=0]="TS_ACTIVE",e[e.TS_COMPLETED=1]="TS_COMPLETED",e[e.TS_PAUSED=2]="TS_PAUSED"})(Op||(Op={}));function Ky(){return{state:0,currentTime:0}}var Ar;(function(e){function o(t,r=Pc.default.Writer.create()){return t.state!==0&&r.uint32(8).int32(t.state),t.currentTime!==0&&r.uint32(21).float(t.currentTime),r}e.encode=o;function c(t,r){let n=t instanceof Pc.default.Reader?t:Pc.default.Reader.create(t),s=r===void 0?n.len:n.pos+r,a=Ky();for(;n.pos<s;){let i=n.uint32();switch(i>>>3){case 1:if(i!==8)break;a.state=n.int32();continue;case 2:if(i!==21)break;a.currentTime=n.float();continue}if((i&7)===4||i===0)break;n.skipType(i&7)}return a}e.decode=c})(Ar||(Ar={}));var wp={COMPONENT_ID:1103,serialize(e,o){let c=Ar.encode(e),t=new Uint8Array(c.finish(),0,c.len);o.writeBuffer(t,!1)},deserialize(e){return Ar.decode(e.buffer(),e.remainingBytes())},create(){return Ar.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBTweenState"}};var Uc=Y(J());var Bo=Y(J());function Qy(){return{top:0,left:0,right:0,bottom:0}}var eo;(function(e){function o(t,r=Bo.default.Writer.create()){return t.top!==0&&r.uint32(13).float(t.top),t.left!==0&&r.uint32(21).float(t.left),t.right!==0&&r.uint32(29).float(t.right),t.bottom!==0&&r.uint32(37).float(t.bottom),r}e.encode=o;function c(t,r){let n=t instanceof Bo.default.Reader?t:Bo.default.Reader.create(t),s=r===void 0?n.len:n.pos+r,a=Qy();for(;n.pos<s;){let i=n.uint32();switch(i>>>3){case 1:if(i!==13)break;a.top=n.float();continue;case 2:if(i!==21)break;a.left=n.float();continue;case 3:if(i!==29)break;a.right=n.float();continue;case 4:if(i!==37)break;a.bottom=n.float();continue}if((i&7)===4||i===0)break;n.skipType(i&7)}return a}e.decode=c})(eo||(eo={}));function Zy(){return{x:0,y:0,width:0,height:0}}var Ip;(function(e){function o(t,r=Bo.default.Writer.create()){return t.x!==0&&r.uint32(13).float(t.x),t.y!==0&&r.uint32(21).float(t.y),t.width!==0&&r.uint32(29).float(t.width),t.height!==0&&r.uint32(37).float(t.height),r}e.encode=o;function c(t,r){let n=t instanceof Bo.default.Reader?t:Bo.default.Reader.create(t),s=r===void 0?n.len:n.pos+r,a=Zy();for(;n.pos<s;){let i=n.uint32();switch(i>>>3){case 1:if(i!==13)break;a.x=n.float();continue;case 2:if(i!==21)break;a.y=n.float();continue;case 3:if(i!==29)break;a.width=n.float();continue;case 4:if(i!==37)break;a.height=n.float();continue}if((i&7)===4||i===0)break;n.skipType(i&7)}return a}e.decode=c})(Ip||(Ip={}));var Cp;(function(e){e[e.NINE_SLICES=0]="NINE_SLICES",e[e.CENTER=1]="CENTER",e[e.STRETCH=2]="STRETCH"})(Cp||(Cp={}));function eb(){return{color:void 0,texture:void 0,textureMode:0,textureSlices:void 0,uvs:[]}}var Nr;(function(e){function o(t,r=Uc.default.Writer.create()){t.color!==void 0&&$e.encode(t.color,r.uint32(10).fork()).ldelim(),t.texture!==void 0&&xt.encode(t.texture,r.uint32(18).fork()).ldelim(),t.textureMode!==0&&r.uint32(24).int32(t.textureMode),t.textureSlices!==void 0&&eo.encode(t.textureSlices,r.uint32(34).fork()).ldelim(),r.uint32(42).fork();for(let n of t.uvs)r.float(n);return r.ldelim(),r}e.encode=o;function c(t,r){let n=t instanceof Uc.default.Reader?t:Uc.default.Reader.create(t),s=r===void 0?n.len:n.pos+r,a=eb();for(;n.pos<s;){let i=n.uint32();switch(i>>>3){case 1:if(i!==10)break;a.color=$e.decode(n,n.uint32());continue;case 2:if(i!==18)break;a.texture=xt.decode(n,n.uint32());continue;case 3:if(i!==24)break;a.textureMode=n.int32();continue;case 4:if(i!==34)break;a.textureSlices=eo.decode(n,n.uint32());continue;case 5:if(i===45){a.uvs.push(n.float());continue}if(i===42){let f=n.uint32()+n.pos;for(;n.pos<f;)a.uvs.push(n.float());continue}break}if((i&7)===4||i===0)break;n.skipType(i&7)}return a}e.decode=c})(Nr||(Nr={}));var Mp={COMPONENT_ID:1053,serialize(e,o){let c=Nr.encode(e),t=new Uint8Array(c.finish(),0,c.len);o.writeBuffer(t,!1)},deserialize(e){return Nr.decode(e.buffer(),e.remainingBytes())},create(){return Nr.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBUiBackground"}};var Bc=Y(J());function tb(){return{devicePixelRatio:0,width:0,height:0,interactableArea:void 0}}var gr;(function(e){function o(t,r=Bc.default.Writer.create()){return t.devicePixelRatio!==0&&r.uint32(13).float(t.devicePixelRatio),t.width!==0&&r.uint32(16).int32(t.width),t.height!==0&&r.uint32(24).int32(t.height),t.interactableArea!==void 0&&eo.encode(t.interactableArea,r.uint32(34).fork()).ldelim(),r}e.encode=o;function c(t,r){let n=t instanceof Bc.default.Reader?t:Bc.default.Reader.create(t),s=r===void 0?n.len:n.pos+r,a=tb();for(;n.pos<s;){let i=n.uint32();switch(i>>>3){case 1:if(i!==13)break;a.devicePixelRatio=n.float();continue;case 2:if(i!==16)break;a.width=n.int32();continue;case 3:if(i!==24)break;a.height=n.int32();continue;case 4:if(i!==34)break;a.interactableArea=eo.decode(n,n.uint32());continue}if((i&7)===4||i===0)break;n.skipType(i&7)}return a}e.decode=c})(gr||(gr={}));var vp={COMPONENT_ID:1054,serialize(e,o){let c=gr.encode(e),t=new Uint8Array(c.finish(),0,c.len);o.writeBuffer(t,!1)},deserialize(e){return gr.decode(e.buffer(),e.remainingBytes())},create(){return gr.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBUiCanvasInformation"}};var Dc=Y(J());function nb(){return{acceptEmpty:!1,emptyLabel:void 0,options:[],selectedIndex:void 0,disabled:!1,color:void 0,textAlign:void 0,font:void 0,fontSize:void 0}}var Or;(function(e){function o(t,r=Dc.default.Writer.create()){t.acceptEmpty===!0&&r.uint32(8).bool(t.acceptEmpty),t.emptyLabel!==void 0&&r.uint32(18).string(t.emptyLabel);for(let n of t.options)r.uint32(26).string(n);return t.selectedIndex!==void 0&&r.uint32(32).int32(t.selectedIndex),t.disabled===!0&&r.uint32(40).bool(t.disabled),t.color!==void 0&&$e.encode(t.color,r.uint32(50).fork()).ldelim(),t.textAlign!==void 0&&r.uint32(80).int32(t.textAlign),t.font!==void 0&&r.uint32(88).int32(t.font),t.fontSize!==void 0&&r.uint32(96).int32(t.fontSize),r}e.encode=o;function c(t,r){let n=t instanceof Dc.default.Reader?t:Dc.default.Reader.create(t),s=r===void 0?n.len:n.pos+r,a=nb();for(;n.pos<s;){let i=n.uint32();switch(i>>>3){case 1:if(i!==8)break;a.acceptEmpty=n.bool();continue;case 2:if(i!==18)break;a.emptyLabel=n.string();continue;case 3:if(i!==26)break;a.options.push(n.string());continue;case 4:if(i!==32)break;a.selectedIndex=n.int32();continue;case 5:if(i!==40)break;a.disabled=n.bool();continue;case 6:if(i!==50)break;a.color=$e.decode(n,n.uint32());continue;case 10:if(i!==80)break;a.textAlign=n.int32();continue;case 11:if(i!==88)break;a.font=n.int32();continue;case 12:if(i!==96)break;a.fontSize=n.int32();continue}if((i&7)===4||i===0)break;n.skipType(i&7)}return a}e.decode=c})(Or||(Or={}));var Pp={COMPONENT_ID:1094,serialize(e,o){let c=Or.encode(e),t=new Uint8Array(c.finish(),0,c.len);o.writeBuffer(t,!1)},deserialize(e){return Or.decode(e.buffer(),e.remainingBytes())},create(){return Or.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBUiDropdown"}};var Lc=Y(J());function ob(){return{value:0}}var wr;(function(e){function o(t,r=Lc.default.Writer.create()){return t.value!==0&&r.uint32(8).int32(t.value),r}e.encode=o;function c(t,r){let n=t instanceof Lc.default.Reader?t:Lc.default.Reader.create(t),s=r===void 0?n.len:n.pos+r,a=ob();for(;n.pos<s;){let i=n.uint32();switch(i>>>3){case 1:if(i!==8)break;a.value=n.int32();continue}if((i&7)===4||i===0)break;n.skipType(i&7)}return a}e.decode=c})(wr||(wr={}));var Up={COMPONENT_ID:1096,serialize(e,o){let c=wr.encode(e),t=new Uint8Array(c.finish(),0,c.len);o.writeBuffer(t,!1)},deserialize(e){return wr.decode(e.buffer(),e.remainingBytes())},create(){return wr.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBUiDropdownResult"}};var zc=Y(J());function rb(){return{placeholder:"",color:void 0,placeholderColor:void 0,disabled:!1,textAlign:void 0,font:void 0,fontSize:void 0,value:void 0}}var Ir;(function(e){function o(t,r=zc.default.Writer.create()){return t.placeholder!==""&&r.uint32(10).string(t.placeholder),t.color!==void 0&&$e.encode(t.color,r.uint32(18).fork()).ldelim(),t.placeholderColor!==void 0&&$e.encode(t.placeholderColor,r.uint32(26).fork()).ldelim(),t.disabled===!0&&r.uint32(32).bool(t.disabled),t.textAlign!==void 0&&r.uint32(80).int32(t.textAlign),t.font!==void 0&&r.uint32(88).int32(t.font),t.fontSize!==void 0&&r.uint32(96).int32(t.fontSize),t.value!==void 0&&r.uint32(106).string(t.value),r}e.encode=o;function c(t,r){let n=t instanceof zc.default.Reader?t:zc.default.Reader.create(t),s=r===void 0?n.len:n.pos+r,a=rb();for(;n.pos<s;){let i=n.uint32();switch(i>>>3){case 1:if(i!==10)break;a.placeholder=n.string();continue;case 2:if(i!==18)break;a.color=$e.decode(n,n.uint32());continue;case 3:if(i!==26)break;a.placeholderColor=$e.decode(n,n.uint32());continue;case 4:if(i!==32)break;a.disabled=n.bool();continue;case 10:if(i!==80)break;a.textAlign=n.int32();continue;case 11:if(i!==88)break;a.font=n.int32();continue;case 12:if(i!==96)break;a.fontSize=n.int32();continue;case 13:if(i!==106)break;a.value=n.string();continue}if((i&7)===4||i===0)break;n.skipType(i&7)}return a}e.decode=c})(Ir||(Ir={}));var Bp={COMPONENT_ID:1093,serialize(e,o){let c=Ir.encode(e),t=new Uint8Array(c.finish(),0,c.len);o.writeBuffer(t,!1)},deserialize(e){return Ir.decode(e.buffer(),e.remainingBytes())},create(){return Ir.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBUiInput"}};var Fc=Y(J());function ib(){return{value:""}}var Cr;(function(e){function o(t,r=Fc.default.Writer.create()){return t.value!==""&&r.uint32(10).string(t.value),r}e.encode=o;function c(t,r){let n=t instanceof Fc.default.Reader?t:Fc.default.Reader.create(t),s=r===void 0?n.len:n.pos+r,a=ib();for(;n.pos<s;){let i=n.uint32();switch(i>>>3){case 1:if(i!==10)break;a.value=n.string();continue}if((i&7)===4||i===0)break;n.skipType(i&7)}return a}e.decode=c})(Cr||(Cr={}));var Dp={COMPONENT_ID:1095,serialize(e,o){let c=Cr.encode(e),t=new Uint8Array(c.finish(),0,c.len);o.writeBuffer(t,!1)},deserialize(e){return Cr.decode(e.buffer(),e.remainingBytes())},create(){return Cr.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBUiInputResult"}};var Vc=Y(J());function ab(){return{value:"",color:void 0,textAlign:void 0,font:void 0,fontSize:void 0}}var Mr;(function(e){function o(t,r=Vc.default.Writer.create()){return t.value!==""&&r.uint32(10).string(t.value),t.color!==void 0&&$e.encode(t.color,r.uint32(18).fork()).ldelim(),t.textAlign!==void 0&&r.uint32(24).int32(t.textAlign),t.font!==void 0&&r.uint32(32).int32(t.font),t.fontSize!==void 0&&r.uint32(40).int32(t.fontSize),r}e.encode=o;function c(t,r){let n=t instanceof Vc.default.Reader?t:Vc.default.Reader.create(t),s=r===void 0?n.len:n.pos+r,a=ab();for(;n.pos<s;){let i=n.uint32();switch(i>>>3){case 1:if(i!==10)break;a.value=n.string();continue;case 2:if(i!==18)break;a.color=$e.decode(n,n.uint32());continue;case 3:if(i!==24)break;a.textAlign=n.int32();continue;case 4:if(i!==32)break;a.font=n.int32();continue;case 5:if(i!==40)break;a.fontSize=n.int32();continue}if((i&7)===4||i===0)break;n.skipType(i&7)}return a}e.decode=c})(Mr||(Mr={}));var Lp={COMPONENT_ID:1052,serialize(e,o){let c=Mr.encode(e),t=new Uint8Array(c.finish(),0,c.len);o.writeBuffer(t,!1)},deserialize(e){return Mr.decode(e.buffer(),e.remainingBytes())},create(){return Mr.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBUiText"}};var Wc=Y(J());var zp;(function(e){e[e.YGPT_RELATIVE=0]="YGPT_RELATIVE",e[e.YGPT_ABSOLUTE=1]="YGPT_ABSOLUTE"})(zp||(zp={}));var Fp;(function(e){e[e.YGA_AUTO=0]="YGA_AUTO",e[e.YGA_FLEX_START=1]="YGA_FLEX_START",e[e.YGA_CENTER=2]="YGA_CENTER",e[e.YGA_FLEX_END=3]="YGA_FLEX_END",e[e.YGA_STRETCH=4]="YGA_STRETCH",e[e.YGA_BASELINE=5]="YGA_BASELINE",e[e.YGA_SPACE_BETWEEN=6]="YGA_SPACE_BETWEEN",e[e.YGA_SPACE_AROUND=7]="YGA_SPACE_AROUND"})(Fp||(Fp={}));var Vp;(function(e){e[e.YGU_UNDEFINED=0]="YGU_UNDEFINED",e[e.YGU_POINT=1]="YGU_POINT",e[e.YGU_PERCENT=2]="YGU_PERCENT",e[e.YGU_AUTO=3]="YGU_AUTO"})(Vp||(Vp={}));var Wp;(function(e){e[e.YGFD_ROW=0]="YGFD_ROW",e[e.YGFD_COLUMN=1]="YGFD_COLUMN",e[e.YGFD_COLUMN_REVERSE=2]="YGFD_COLUMN_REVERSE",e[e.YGFD_ROW_REVERSE=3]="YGFD_ROW_REVERSE"})(Wp||(Wp={}));var Hp;(function(e){e[e.YGW_NO_WRAP=0]="YGW_NO_WRAP",e[e.YGW_WRAP=1]="YGW_WRAP",e[e.YGW_WRAP_REVERSE=2]="YGW_WRAP_REVERSE"})(Hp||(Hp={}));var Gp;(function(e){e[e.YGJ_FLEX_START=0]="YGJ_FLEX_START",e[e.YGJ_CENTER=1]="YGJ_CENTER",e[e.YGJ_FLEX_END=2]="YGJ_FLEX_END",e[e.YGJ_SPACE_BETWEEN=3]="YGJ_SPACE_BETWEEN",e[e.YGJ_SPACE_AROUND=4]="YGJ_SPACE_AROUND",e[e.YGJ_SPACE_EVENLY=5]="YGJ_SPACE_EVENLY"})(Gp||(Gp={}));var jp;(function(e){e[e.YGO_VISIBLE=0]="YGO_VISIBLE",e[e.YGO_HIDDEN=1]="YGO_HIDDEN",e[e.YGO_SCROLL=2]="YGO_SCROLL"})(jp||(jp={}));var $p;(function(e){e[e.YGD_FLEX=0]="YGD_FLEX",e[e.YGD_NONE=1]="YGD_NONE"})($p||($p={}));var Yp;(function(e){e[e.YGE_LEFT=0]="YGE_LEFT",e[e.YGE_TOP=1]="YGE_TOP",e[e.YGE_RIGHT=2]="YGE_RIGHT",e[e.YGE_BOTTOM=3]="YGE_BOTTOM",e[e.YGE_START=4]="YGE_START",e[e.YGE_END=5]="YGE_END",e[e.YGE_HORIZONTAL=6]="YGE_HORIZONTAL",e[e.YGE_VERTICAL=7]="YGE_VERTICAL",e[e.YGE_ALL=8]="YGE_ALL"})(Yp||(Yp={}));var qp;(function(e){e[e.PFM_NONE=0]="PFM_NONE",e[e.PFM_BLOCK=1]="PFM_BLOCK"})(qp||(qp={}));function cb(){return{parent:0,rightOf:0,alignContent:void 0,alignItems:void 0,flexWrap:void 0,flexShrink:void 0,positionType:0,alignSelf:0,flexDirection:0,justifyContent:0,overflow:0,display:0,flexBasisUnit:0,flexBasis:0,flexGrow:0,widthUnit:0,width:0,heightUnit:0,height:0,minWidthUnit:0,minWidth:0,minHeightUnit:0,minHeight:0,maxWidthUnit:0,maxWidth:0,maxHeightUnit:0,maxHeight:0,positionLeftUnit:0,positionLeft:0,positionTopUnit:0,positionTop:0,positionRightUnit:0,positionRight:0,positionBottomUnit:0,positionBottom:0,marginLeftUnit:0,marginLeft:0,marginTopUnit:0,marginTop:0,marginRightUnit:0,marginRight:0,marginBottomUnit:0,marginBottom:0,paddingLeftUnit:0,paddingLeft:0,paddingTopUnit:0,paddingTop:0,paddingRightUnit:0,paddingRight:0,paddingBottomUnit:0,paddingBottom:0,pointerFilter:void 0}}var vr;(function(e){function o(t,r=Wc.default.Writer.create()){return t.parent!==0&&r.uint32(8).int32(t.parent),t.rightOf!==0&&r.uint32(16).int32(t.rightOf),t.alignContent!==void 0&&r.uint32(24).int32(t.alignContent),t.alignItems!==void 0&&r.uint32(32).int32(t.alignItems),t.flexWrap!==void 0&&r.uint32(40).int32(t.flexWrap),t.flexShrink!==void 0&&r.uint32(53).float(t.flexShrink),t.positionType!==0&&r.uint32(56).int32(t.positionType),t.alignSelf!==0&&r.uint32(64).int32(t.alignSelf),t.flexDirection!==0&&r.uint32(72).int32(t.flexDirection),t.justifyContent!==0&&r.uint32(80).int32(t.justifyContent),t.overflow!==0&&r.uint32(88).int32(t.overflow),t.display!==0&&r.uint32(96).int32(t.display),t.flexBasisUnit!==0&&r.uint32(104).int32(t.flexBasisUnit),t.flexBasis!==0&&r.uint32(117).float(t.flexBasis),t.flexGrow!==0&&r.uint32(125).float(t.flexGrow),t.widthUnit!==0&&r.uint32(128).int32(t.widthUnit),t.width!==0&&r.uint32(141).float(t.width),t.heightUnit!==0&&r.uint32(144).int32(t.heightUnit),t.height!==0&&r.uint32(157).float(t.height),t.minWidthUnit!==0&&r.uint32(160).int32(t.minWidthUnit),t.minWidth!==0&&r.uint32(173).float(t.minWidth),t.minHeightUnit!==0&&r.uint32(176).int32(t.minHeightUnit),t.minHeight!==0&&r.uint32(189).float(t.minHeight),t.maxWidthUnit!==0&&r.uint32(192).int32(t.maxWidthUnit),t.maxWidth!==0&&r.uint32(205).float(t.maxWidth),t.maxHeightUnit!==0&&r.uint32(208).int32(t.maxHeightUnit),t.maxHeight!==0&&r.uint32(221).float(t.maxHeight),t.positionLeftUnit!==0&&r.uint32(224).int32(t.positionLeftUnit),t.positionLeft!==0&&r.uint32(237).float(t.positionLeft),t.positionTopUnit!==0&&r.uint32(240).int32(t.positionTopUnit),t.positionTop!==0&&r.uint32(253).float(t.positionTop),t.positionRightUnit!==0&&r.uint32(256).int32(t.positionRightUnit),t.positionRight!==0&&r.uint32(269).float(t.positionRight),t.positionBottomUnit!==0&&r.uint32(272).int32(t.positionBottomUnit),t.positionBottom!==0&&r.uint32(285).float(t.positionBottom),t.marginLeftUnit!==0&&r.uint32(288).int32(t.marginLeftUnit),t.marginLeft!==0&&r.uint32(301).float(t.marginLeft),t.marginTopUnit!==0&&r.uint32(304).int32(t.marginTopUnit),t.marginTop!==0&&r.uint32(317).float(t.marginTop),t.marginRightUnit!==0&&r.uint32(320).int32(t.marginRightUnit),t.marginRight!==0&&r.uint32(333).float(t.marginRight),t.marginBottomUnit!==0&&r.uint32(336).int32(t.marginBottomUnit),t.marginBottom!==0&&r.uint32(349).float(t.marginBottom),t.paddingLeftUnit!==0&&r.uint32(352).int32(t.paddingLeftUnit),t.paddingLeft!==0&&r.uint32(365).float(t.paddingLeft),t.paddingTopUnit!==0&&r.uint32(368).int32(t.paddingTopUnit),t.paddingTop!==0&&r.uint32(381).float(t.paddingTop),t.paddingRightUnit!==0&&r.uint32(384).int32(t.paddingRightUnit),t.paddingRight!==0&&r.uint32(397).float(t.paddingRight),t.paddingBottomUnit!==0&&r.uint32(400).int32(t.paddingBottomUnit),t.paddingBottom!==0&&r.uint32(413).float(t.paddingBottom),t.pointerFilter!==void 0&&r.uint32(416).int32(t.pointerFilter),r}e.encode=o;function c(t,r){let n=t instanceof Wc.default.Reader?t:Wc.default.Reader.create(t),s=r===void 0?n.len:n.pos+r,a=cb();for(;n.pos<s;){let i=n.uint32();switch(i>>>3){case 1:if(i!==8)break;a.parent=n.int32();continue;case 2:if(i!==16)break;a.rightOf=n.int32();continue;case 3:if(i!==24)break;a.alignContent=n.int32();continue;case 4:if(i!==32)break;a.alignItems=n.int32();continue;case 5:if(i!==40)break;a.flexWrap=n.int32();continue;case 6:if(i!==53)break;a.flexShrink=n.float();continue;case 7:if(i!==56)break;a.positionType=n.int32();continue;case 8:if(i!==64)break;a.alignSelf=n.int32();continue;case 9:if(i!==72)break;a.flexDirection=n.int32();continue;case 10:if(i!==80)break;a.justifyContent=n.int32();continue;case 11:if(i!==88)break;a.overflow=n.int32();continue;case 12:if(i!==96)break;a.display=n.int32();continue;case 13:if(i!==104)break;a.flexBasisUnit=n.int32();continue;case 14:if(i!==117)break;a.flexBasis=n.float();continue;case 15:if(i!==125)break;a.flexGrow=n.float();continue;case 16:if(i!==128)break;a.widthUnit=n.int32();continue;case 17:if(i!==141)break;a.width=n.float();continue;case 18:if(i!==144)break;a.heightUnit=n.int32();continue;case 19:if(i!==157)break;a.height=n.float();continue;case 20:if(i!==160)break;a.minWidthUnit=n.int32();continue;case 21:if(i!==173)break;a.minWidth=n.float();continue;case 22:if(i!==176)break;a.minHeightUnit=n.int32();continue;case 23:if(i!==189)break;a.minHeight=n.float();continue;case 24:if(i!==192)break;a.maxWidthUnit=n.int32();continue;case 25:if(i!==205)break;a.maxWidth=n.float();continue;case 26:if(i!==208)break;a.maxHeightUnit=n.int32();continue;case 27:if(i!==221)break;a.maxHeight=n.float();continue;case 28:if(i!==224)break;a.positionLeftUnit=n.int32();continue;case 29:if(i!==237)break;a.positionLeft=n.float();continue;case 30:if(i!==240)break;a.positionTopUnit=n.int32();continue;case 31:if(i!==253)break;a.positionTop=n.float();continue;case 32:if(i!==256)break;a.positionRightUnit=n.int32();continue;case 33:if(i!==269)break;a.positionRight=n.float();continue;case 34:if(i!==272)break;a.positionBottomUnit=n.int32();continue;case 35:if(i!==285)break;a.positionBottom=n.float();continue;case 36:if(i!==288)break;a.marginLeftUnit=n.int32();continue;case 37:if(i!==301)break;a.marginLeft=n.float();continue;case 38:if(i!==304)break;a.marginTopUnit=n.int32();continue;case 39:if(i!==317)break;a.marginTop=n.float();continue;case 40:if(i!==320)break;a.marginRightUnit=n.int32();continue;case 41:if(i!==333)break;a.marginRight=n.float();continue;case 42:if(i!==336)break;a.marginBottomUnit=n.int32();continue;case 43:if(i!==349)break;a.marginBottom=n.float();continue;case 44:if(i!==352)break;a.paddingLeftUnit=n.int32();continue;case 45:if(i!==365)break;a.paddingLeft=n.float();continue;case 46:if(i!==368)break;a.paddingTopUnit=n.int32();continue;case 47:if(i!==381)break;a.paddingTop=n.float();continue;case 48:if(i!==384)break;a.paddingRightUnit=n.int32();continue;case 49:if(i!==397)break;a.paddingRight=n.float();continue;case 50:if(i!==400)break;a.paddingBottomUnit=n.int32();continue;case 51:if(i!==413)break;a.paddingBottom=n.float();continue;case 52:if(i!==416)break;a.pointerFilter=n.int32();continue}if((i&7)===4||i===0)break;n.skipType(i&7)}return a}e.decode=c})(vr||(vr={}));var Jp={COMPONENT_ID:1050,serialize(e,o){let c=vr.encode(e),t=new Uint8Array(c.finish(),0,c.len);o.writeBuffer(t,!1)},deserialize(e){return vr.decode(e.buffer(),e.remainingBytes())},create(){return vr.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBUiTransform"}};var Hc=Y(J());var Xp;(function(e){e[e.VS_NONE=0]="VS_NONE",e[e.VS_ERROR=1]="VS_ERROR",e[e.VS_LOADING=2]="VS_LOADING",e[e.VS_READY=3]="VS_READY",e[e.VS_PLAYING=4]="VS_PLAYING",e[e.VS_BUFFERING=5]="VS_BUFFERING",e[e.VS_SEEKING=6]="VS_SEEKING",e[e.VS_PAUSED=7]="VS_PAUSED"})(Xp||(Xp={}));function sb(){return{timestamp:0,tickNumber:0,currentOffset:0,videoLength:0,state:0}}var Pr;(function(e){function o(t,r=Hc.default.Writer.create()){return t.timestamp!==0&&r.uint32(8).uint32(t.timestamp),t.tickNumber!==0&&r.uint32(16).uint32(t.tickNumber),t.currentOffset!==0&&r.uint32(29).float(t.currentOffset),t.videoLength!==0&&r.uint32(37).float(t.videoLength),t.state!==0&&r.uint32(40).int32(t.state),r}e.encode=o;function c(t,r){let n=t instanceof Hc.default.Reader?t:Hc.default.Reader.create(t),s=r===void 0?n.len:n.pos+r,a=sb();for(;n.pos<s;){let i=n.uint32();switch(i>>>3){case 1:if(i!==8)break;a.timestamp=n.uint32();continue;case 2:if(i!==16)break;a.tickNumber=n.uint32();continue;case 3:if(i!==29)break;a.currentOffset=n.float();continue;case 4:if(i!==37)break;a.videoLength=n.float();continue;case 5:if(i!==40)break;a.state=n.int32();continue}if((i&7)===4||i===0)break;n.skipType(i&7)}return a}e.decode=c})(Pr||(Pr={}));var Kp={COMPONENT_ID:1044,serialize(e,o){let c=Pr.encode(e),t=new Uint8Array(c.finish(),0,c.len);o.writeBuffer(t,!1)},deserialize(e){return Pr.decode(e.buffer(),e.remainingBytes())},create(){return Pr.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBVideoEvent"}};var Gc=Y(J());function fb(){return{src:"",playing:void 0,position:void 0,volume:void 0,playbackRate:void 0,loop:void 0}}var Ur;(function(e){function o(t,r=Gc.default.Writer.create()){return t.src!==""&&r.uint32(10).string(t.src),t.playing!==void 0&&r.uint32(16).bool(t.playing),t.position!==void 0&&r.uint32(29).float(t.position),t.volume!==void 0&&r.uint32(37).float(t.volume),t.playbackRate!==void 0&&r.uint32(45).float(t.playbackRate),t.loop!==void 0&&r.uint32(48).bool(t.loop),r}e.encode=o;function c(t,r){let n=t instanceof Gc.default.Reader?t:Gc.default.Reader.create(t),s=r===void 0?n.len:n.pos+r,a=fb();for(;n.pos<s;){let i=n.uint32();switch(i>>>3){case 1:if(i!==10)break;a.src=n.string();continue;case 2:if(i!==16)break;a.playing=n.bool();continue;case 3:if(i!==29)break;a.position=n.float();continue;case 4:if(i!==37)break;a.volume=n.float();continue;case 5:if(i!==45)break;a.playbackRate=n.float();continue;case 6:if(i!==48)break;a.loop=n.bool();continue}if((i&7)===4||i===0)break;n.skipType(i&7)}return a}e.decode=c})(Ur||(Ur={}));var Qp={COMPONENT_ID:1043,serialize(e,o){let c=Ur.encode(e),t=new Uint8Array(c.finish(),0,c.len);o.writeBuffer(t,!1)},deserialize(e){return Ur.decode(e.buffer(),e.remainingBytes())},create(){return Ur.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBVideoPlayer"}};var jc=Y(J());function ub(){return{visible:void 0}}var Br;(function(e){function o(t,r=jc.default.Writer.create()){return t.visible!==void 0&&r.uint32(8).bool(t.visible),r}e.encode=o;function c(t,r){let n=t instanceof jc.default.Reader?t:jc.default.Reader.create(t),s=r===void 0?n.len:n.pos+r,a=ub();for(;n.pos<s;){let i=n.uint32();switch(i>>>3){case 1:if(i!==8)break;a.visible=n.bool();continue}if((i&7)===4||i===0)break;n.skipType(i&7)}return a}e.decode=c})(Br||(Br={}));var Zp={COMPONENT_ID:1081,serialize(e,o){let c=Br.encode(e),t=new Uint8Array(c.finish(),0,c.len);o.writeBuffer(t,!1)},deserialize(e){return Br.decode(e.buffer(),e.remainingBytes())},create(){return Br.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBVisibilityComponent"}};var uu=e=>e.defineComponentFromSchema("core::Animator",Ul),du=e=>e.defineComponentFromSchema("core::AudioSource",Bl),em=e=>e.defineComponentFromSchema("core::AudioStream",Dl),lu=e=>e.defineComponentFromSchema("core::AvatarAttach",zl),tm=e=>e.defineComponentFromSchema("core::AvatarModifierArea",Hl),nm=e=>e.defineComponentFromSchema("core::AvatarShape",ep),pu=e=>e.defineComponentFromSchema("core::Billboard",np),om=e=>e.defineComponentFromSchema("core::CameraMode",op),rm=e=>e.defineComponentFromSchema("core::CameraModeArea",rp),mu=e=>e.defineComponentFromSchema("core::EngineInfo",ip),hu=e=>e.defineComponentFromSchema("core::GltfContainer",ap),Eu=e=>e.defineComponentFromSchema("core::GltfContainerLoadingState",cp),yu=e=>e.defineComponentFromSchema("core::Material",dp),bu=e=>e.defineComponentFromSchema("core::MeshCollider",pp),Tu=e=>e.defineComponentFromSchema("core::MeshRenderer",mp),im=e=>e.defineComponentFromSchema("core::NftShape",Ep),$c=e=>e.defineComponentFromSchema("core::PointerEvents",yp),Zi=e=>e.defineValueSetComponentFromSchema("core::PointerEventsResult",bp,{timestampFunction:o=>o.timestamp,maxElements:100}),am=e=>e.defineComponentFromSchema("core::PointerLock",Tp),Su=e=>e.defineComponentFromSchema("core::Raycast",_p),_u=e=>e.defineComponentFromSchema("core::RaycastResult",xp),xu=e=>e.defineComponentFromSchema("core::TextShape",kp),ku=e=>e.defineComponentFromSchema("core::Tween",Ap),Yc=e=>e.defineComponentFromSchema("core::TweenSequence",gp),qc=e=>e.defineComponentFromSchema("core::TweenState",wp),cm=e=>e.defineComponentFromSchema("core::UiBackground",Mp),sm=e=>e.defineComponentFromSchema("core::UiCanvasInformation",vp),fm=e=>e.defineComponentFromSchema("core::UiDropdown",Pp),um=e=>e.defineComponentFromSchema("core::UiDropdownResult",Up),dm=e=>e.defineComponentFromSchema("core::UiInput",Bp),lm=e=>e.defineComponentFromSchema("core::UiInputResult",Dp),pm=e=>e.defineComponentFromSchema("core::UiText",Lp),mm=e=>e.defineComponentFromSchema("core::UiTransform",Jp),Ru=e=>e.defineValueSetComponentFromSchema("core::VideoEvent",Kp,{timestampFunction:o=>o.timestamp,maxElements:100}),Au=e=>e.defineComponentFromSchema("core::VideoPlayer",Qp),Nu=e=>e.defineComponentFromSchema("core::VisibilityComponent",Zp),gu={"core::Animator":uu,"core::AudioSource":du,"core::AudioStream":em,"core::AvatarAttach":lu,"core::AvatarModifierArea":tm,"core::AvatarShape":nm,"core::Billboard":pu,"core::CameraMode":om,"core::CameraModeArea":rm,"core::EngineInfo":mu,"core::GltfContainer":hu,"core::GltfContainerLoadingState":Eu,"core::Material":yu,"core::MeshCollider":bu,"core::MeshRenderer":Tu,"core::NftShape":im,"core::PointerEvents":$c,"core::PointerEventsResult":Zi,"core::PointerLock":am,"core::Raycast":Su,"core::RaycastResult":_u,"core::TextShape":xu,"core::Tween":ku,"core::TweenSequence":Yc,"core::TweenState":qc,"core::UiBackground":cm,"core::UiCanvasInformation":sm,"core::UiDropdown":fm,"core::UiDropdownResult":um,"core::UiInput":dm,"core::UiInputResult":lm,"core::UiText":pm,"core::UiTransform":mm,"core::VideoEvent":Ru,"core::VideoPlayer":Au,"core::VisibilityComponent":Nu};function hm(e){let o=uu(e);function c(t,r){let n=o.getMutableOrNull(t);if(!n)return[null,null];let s=n.states.find(a=>a.clip===r);return s?[n,s]:[n,null]}return{...o,getClipOrNull(t,r){let[n,s]=c(t,r);return s},getClip(t,r){let[n,s]=c(t,r);if(!n)throw new Error(`There is no Animator found in the entity ${t}`);if(!s)throw new Error(`The Animator component of ${t} has no the state ${r}`);return s},playSingleAnimation(t,r,n=!0){let[s,a]=c(t,r);if(!s||!a)return!1;for(let i of s.states)i.playing=!1,i.shouldReset=!0;return a.playing=!0,a.shouldReset=n,!0},stopAllAnimations(t,r=!0){let n=o.getMutableOrNull(t);if(!n)return!1;for(let s of n.states)s.playing=!1,s.shouldReset=r;return!0}}}var lb={Common(e){return{tex:{$case:"texture",texture:e}}},Avatar(e){return{tex:{$case:"avatarTexture",avatarTexture:e}}},Video(e){return{tex:{$case:"videoTexture",videoTexture:e}}}};function Em(e){let o=yu(e);return{...o,Texture:lb,setBasicMaterial(c,t){o.createOrReplace(c,{material:{$case:"unlit",unlit:t}})},setPbrMaterial(c,t){o.createOrReplace(c,{material:{$case:"pbr",pbr:t}})}}}function ym(e){let o=bu(e);function c(t){if(Array.isArray(t))return t.map(r=>r).reduce((r,n)=>r|n,0);if(t)return t}return{...o,setBox(t,r){o.createOrReplace(t,{mesh:{$case:"box",box:{}},collisionMask:c(r)})},setPlane(t,r){o.createOrReplace(t,{mesh:{$case:"plane",plane:{}},collisionMask:c(r)})},setCylinder(t,r,n,s){o.createOrReplace(t,{mesh:{$case:"cylinder",cylinder:{radiusBottom:r,radiusTop:n}},collisionMask:c(s)})},setSphere(t,r){o.createOrReplace(t,{mesh:{$case:"sphere",sphere:{}},collisionMask:c(r)})}}}function bm(e){let o=Tu(e);return{...o,setBox(c,t){o.createOrReplace(c,{mesh:{$case:"box",box:{uvs:t||[]}}})},setPlane(c,t){o.createOrReplace(c,{mesh:{$case:"plane",plane:{uvs:t||[]}}})},setCylinder(c,t,r){o.createOrReplace(c,{mesh:{$case:"cylinder",cylinder:{radiusBottom:t,radiusTop:r}}})},setSphere(c){o.createOrReplace(c,{mesh:{$case:"sphere",sphere:{}}})}}}var pb={Move(e){return{$case:"move",move:e}},Rotate(e){return{$case:"rotate",rotate:e}},Scale(e){return{$case:"scale",scale:e}}};function Tm(e){return{...ku(e),Mode:pb}}var Jc=e=>({serialize(o,c){c.writeUint32(o.length);for(let t of o)e.serialize(t,c)},deserialize(o){let c=[],t=o.readUint32();for(let r=0;r<t;r++)c.push(e.deserialize(o));return c},create(){return[]},jsonSchema:{type:"array",items:e.jsonSchema,serializationType:"array"}});var ea={serialize(e,o){o.writeInt8(e?1:0)},deserialize(e){return e.readInt8()===1},create(){return!1},jsonSchema:{type:"boolean",serializationType:"boolean"}};var ta={serialize(e,o){o.writeInt64(BigInt(e))},deserialize(e){return Number(e.readInt64())},create(){return 0},jsonSchema:{type:"integer",serializationType:"int64"}},to={serialize(e,o){o.writeInt32(e)},deserialize(e){return e.readInt32()},create(){return 0},jsonSchema:{type:"integer",serializationType:"int32"}},na={serialize(e,o){o.writeInt16(e)},deserialize(e){return e.readInt16()},create(){return 0},jsonSchema:{type:"integer",serializationType:"int16"}},oa={serialize(e,o){o.writeInt8(e)},deserialize(e){return e.readInt8()},create(){return 0},jsonSchema:{type:"integer",serializationType:"int8"}};var Xc={serialize(e,o){o.writeUtf8String(e)},deserialize(e){return e.readUtf8String()},create(){return""},jsonSchema:{type:"string",serializationType:"utf8-string"}},ra=Xc;function mb(e){let t=0,r=0;for(let n in e){if(typeof e[n]=="number"){if(e[n]>2147483647||e[n]<-2147483648)throw new Error("Enum member values must be numbers within the range of -2147483648 to 2147483647.");t++}r++}if(r!==t*2)throw new Error("All enum member values must be of numeric type.")}function hb(e){for(let o in e)if(typeof e[o]!="string")throw new Error("All enum member values must be of string type.")}var Eb="enum-int",Kc=(e,o)=>(mb(e),{serialize(c,t){to.serialize(c,t)},deserialize(c){return to.deserialize(c)},create(){return o},jsonSchema:{type:"integer",enum:Object.values(e).filter(c=>Number.isInteger(c)),default:o,serializationType:Eb,enumObject:e}}),yb="enum-string",Qc=(e,o)=>(hb(e),{serialize(c,t){Xc.serialize(c,t)},deserialize(c){return Xc.deserialize(c)},create(){return o},jsonSchema:{type:"string",enum:Object.values(e),default:o,serializationType:yb,enumObject:e}});var Dr={serialize(e,o){o.writeFloat32(e)},deserialize(e){return e.readFloat32()},create(){return 0},jsonSchema:{type:"number",serializationType:"float32"}},ia={serialize(e,o){o.writeFloat64(e)},deserialize(e){return e.readFloat64()},create(){return 0},jsonSchema:{type:"number",serializationType:"float64"}};var aa={serialize(e,o){o.writeFloat32(e.r),o.writeFloat32(e.g),o.writeFloat32(e.b)},deserialize(e){return{r:e.readFloat32(),g:e.readFloat32(),b:e.readFloat32()}},create(){return{r:0,g:0,b:0}},jsonSchema:{type:"object",properties:{r:{type:"number"},g:{type:"number"},b:{type:"number"}},serializationType:"color3"}};var ca={serialize(e,o){o.writeFloat32(e.r),o.writeFloat32(e.g),o.writeFloat32(e.b),o.writeFloat32(e.a)},deserialize(e){return{r:e.readFloat32(),g:e.readFloat32(),b:e.readFloat32(),a:e.readFloat32()}},create(){return{r:0,g:0,b:0,a:0}},jsonSchema:{type:"object",properties:{r:{type:"number"},g:{type:"number"},b:{type:"number"},a:{type:"number"}},serializationType:"color4"}};var sa={serialize(e,o){o.writeInt32(e)},deserialize(e){return e.readInt32()},create(){return 0},jsonSchema:{type:"integer",serializationType:"entity"}};var fa={serialize(e,o){o.writeFloat32(e.x),o.writeFloat32(e.y),o.writeFloat32(e.z),o.writeFloat32(e.w)},deserialize(e){return{x:e.readFloat32(),y:e.readFloat32(),z:e.readFloat32(),w:e.readFloat32()}},create(){return{x:0,y:0,z:0,w:0}},jsonSchema:{type:"object",properties:{x:{type:"number"},y:{type:"number"},z:{type:"number"},w:{type:"number"}},serializationType:"quaternion"}};var ua={serialize(e,o){o.writeFloat32(e.x),o.writeFloat32(e.y),o.writeFloat32(e.z)},deserialize(e){return{x:e.readFloat32(),y:e.readFloat32(),z:e.readFloat32()}},create(){return{x:0,y:0,z:0}},jsonSchema:{type:"object",properties:{x:{type:"number"},y:{type:"number"},z:{type:"number"},w:{type:"number"}},serializationType:"vector3"}};var Zc=(e,o)=>{let c=Object.keys(e).reduce((t,r)=>(t[r]=e[r].jsonSchema,t),{});return{serialize(t,r){for(let n in e)e[n].serialize(t[n],r)},deserialize(t){let r={};for(let n in e)r[n]=e[n].deserialize(t);return r},create(){let t={};for(let r in e)t[r]=e[r].create();return{...t,...o}},extend:t=>{let r={};for(let n in e)r[n]=e[n].create();return{...r,...o,...t}},jsonSchema:{type:"object",properties:c,serializationType:"map"}}};var es=e=>({serialize(o,c){o?(c.writeInt8(1),e.serialize(o,c)):c.writeInt8(0)},deserialize(o){if(o.readInt8())return e.deserialize(o)},create(){},jsonSchema:{type:e.jsonSchema.type,serializationType:"optional",optionalJsonSchema:e.jsonSchema}});var ts=e=>{let o=Object.keys(e),c=o.reduce((r,n,s)=>(r[n]=s,r),{}),t=o.reduce((r,n)=>(r[n]=e[n].jsonSchema,r),{});return{serialize({$case:r,value:n},s){let a=c[r.toString()]+1;s.writeUint8(a),e[r].serialize(n,s)},deserialize(r){let n=o[r.readInt8()-1],s=e[n].deserialize(r);return{$case:n,value:s}},create(){return{}},jsonSchema:{type:"object",properties:t,serializationType:"one-of"}}};var Sm=(e,o)=>o.includes(e.serializationType),bb=e=>Sm(e,["one-of"]),Tb=()=>({type:{type:"object",serializationType:"unknown"},value:void 0}),ns=e=>Sm(e,["array","map"]),Ou=(e,o,c)=>{let t=e[c],r=o[c];if(bb(t)){let n=r;if(!n.$case)return Tb();let s=t.properties[n.$case];return ns(s)&&(o[c]={[n.$case]:n.value}),{type:s,value:n.value}}return{type:t,value:r}};var _m={[ea.jsonSchema.serializationType]:ea,[ra.jsonSchema.serializationType]:ra,[Dr.jsonSchema.serializationType]:Dr,[ia.jsonSchema.serializationType]:ia,[oa.jsonSchema.serializationType]:oa,[na.jsonSchema.serializationType]:na,[to.jsonSchema.serializationType]:to,[ta.jsonSchema.serializationType]:ta,[ua.jsonSchema.serializationType]:ua,[fa.jsonSchema.serializationType]:fa,[aa.jsonSchema.serializationType]:aa,[ca.jsonSchema.serializationType]:ca,[sa.jsonSchema.serializationType]:sa};function Lr(e){if(_m[e.serializationType])return _m[e.serializationType];if(e.serializationType==="map"){let o=e,c={};for(let t in o.properties)c[t]=Lr(o.properties[t]);return Zc(c)}if(e.serializationType==="optional")return es(Lr(e.optionalJsonSchema));if(e.serializationType==="array")return Jc(Lr(e.items));if(e.serializationType==="enum-int"){let o=e;return Kc(o.enumObject,o.default)}if(e.serializationType==="enum-string"){let o=e;return Qc(o.enumObject,o.default)}if(e.serializationType==="one-of"){let o=e,c={};for(let t in o.properties)c[t]=Lr(o.properties[t]);return ts(c)}throw new Error(`${e.serializationType} is not supported as reverse schema generation.`)}function os(e,o,c){if(e.serializationType==="map"){let{properties:t}=e,r=o;for(let n in t){let{type:s,value:a}=Ou(t,r,n);if(s.serializationType!=="unknown")if(ns(s))os(s,a,c);else{let i=c(a,s);i.changed&&(r[n]=i.value)}}}else if(e.serializationType==="array"){let{items:t}=e,r=o;for(let n=0,s=r.length;n<s;n++){let{type:a,value:i}=Ou({items:t},{items:r[n]},"items");if(ns(a))os(a,i,c);else{let f=c(i,a);f.changed&&(r[n]=f.value)}}}}var oe;(function(e){e.Boolean=ea,e.String=ra,e.Float=Dr,e.Double=ia,e.Byte=oa,e.Short=na,e.Int=to,e.Int64=ta,e.Number=Dr,e.Vector3=ua,e.Quaternion=fa,e.Color3=aa,e.Color4=ca,e.Entity=sa,e.EnumNumber=Kc,e.EnumString=Qc,e.Array=Jc,e.Map=Zc,e.Optional=es,e.OneOf=ts,e.fromJson=Lr,e.mutateNestedValues=os})(oe||(oe={}));function Sb(e){return e.defineComponent("core-schema::Name",{value:oe.String})}var xm=Sb;function _b(e){return e.defineComponent("core-schema::Sync-Components",{componentIds:oe.Array(oe.Int64)})}var km=_b;function xb(e){return e.defineComponent("core-schema::Entity-Network",{networkId:oe.Int64,entityId:oe.Entity})}var Rm=xb;function kb(e){return e.defineComponent("core-schema::Network-Parent",{networkId:oe.Int64,entityId:oe.Entity})}var Am=kb;var zr={serialize(e,o){let c=o.incrementWriteOffset(44);o.setFloat32(c,e.position.x),o.setFloat32(c+4,e.position.y),o.setFloat32(c+8,e.position.z),o.setFloat32(c+12,e.rotation.x),o.setFloat32(c+16,e.rotation.y),o.setFloat32(c+20,e.rotation.z),o.setFloat32(c+24,e.rotation.w),o.setFloat32(c+28,e.scale.x),o.setFloat32(c+32,e.scale.y),o.setFloat32(c+36,e.scale.z),o.setUint32(c+40,e.parent||0)},deserialize(e){let o=e.incrementReadOffset(44);return{position:{x:e.getFloat32(o),y:e.getFloat32(o+4),z:e.getFloat32(o+8)},rotation:{x:e.getFloat32(o+12),y:e.getFloat32(o+16),z:e.getFloat32(o+20),w:e.getFloat32(o+24)},scale:{x:e.getFloat32(o+28),y:e.getFloat32(o+32),z:e.getFloat32(o+36)},parent:e.getUint32(o+40)}},create(){return{position:{x:0,y:0,z:0},scale:{x:1,y:1,z:1},rotation:{x:0,y:0,z:0,w:1},parent:0}},extend(e){return{position:{x:0,y:0,z:0},scale:{x:1,y:1,z:1},rotation:{x:0,y:0,z:0,w:1},parent:0,...e}},jsonSchema:{type:"object",properties:{position:{type:"object",properties:{x:{type:"number"},y:{type:"number"},z:{type:"number"}}},scale:{type:"object",properties:{x:{type:"number"},y:{type:"number"},z:{type:"number"}}},rotation:{type:"object",properties:{x:{type:"number"},y:{type:"number"},z:{type:"number"},w:{type:"number"}}},parent:{type:"integer"}},serializationType:"transform"}};function Nm(e){let o=e.defineComponentFromSchema("core::Transform",zr);return{...o,create(c,t){return o.create(c,zr.extend(t))},createOrReplace(c,t){return o.createOrReplace(c,zr.extend(t))}}}var Bn=e=>Nm(e),gm=e=>Em(e),Om=e=>hm(e),wm=e=>bm(e),Im=e=>ym(e),wu=e=>Tm(e),rs=e=>xm(e),Cm=e=>km(e),is=e=>Rm(e),as=e=>Am(e);var Iu={"core::Transform":1,"core::Animator":1042,"core::AudioSource":1020,"core::AudioStream":1021,"core::AvatarAttach":1073,"core::AvatarBase":1087,"core::AvatarEmoteCommand":1088,"core::AvatarEquippedData":1091,"core::AvatarModifierArea":1070,"core::AvatarShape":1080,"core::Billboard":1090,"core::CameraMode":1072,"core::CameraModeArea":1071,"core::EngineInfo":1048,"core::GltfContainer":1041,"core::GltfContainerLoadingState":1049,"core::Material":1017,"core::MeshCollider":1019,"core::MeshRenderer":1018,"core::NftShape":1040,"core::PlayerIdentityData":1089,"core::PointerEvents":1062,"core::PointerEventsResult":1063,"core::PointerLock":1074,"core::Raycast":1067,"core::RaycastResult":1068,"core::TextShape":1030,"core::Tween":1102,"core::TweenSequence":1104,"core::TweenState":1103,"core::UiBackground":1053,"core::UiCanvasInformation":1054,"core::UiDropdown":1094,"core::UiDropdownResult":1096,"core::UiInput":1093,"core::UiInputResult":1095,"core::UiText":1052,"core::UiTransform":1050,"core::VideoEvent":1044,"core::VideoPlayer":1043,"core::VisibilityComponent":1081};var vm=Y(Qo());var Rb=new Int32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]);function Ab(e,o){let c=~~o^-1;for(let t=0;t<e.length;t++)c=Rb[(c^e[t])&255]^c>>>8;return c^-1}function Mm(e,o=0){return Ab(e,o)>>>0}var Cu=2048;function cn(e){if(Iu[e])return Iu[e];let o=new Uint8Array(128);return vm.write(e,o,0),(Mm(o)+Cu&4294967295)>>>0}var Mu=typeof process=="object"&&!1||!1;function da(e,o){if(Mu&&e&&typeof e=="object"&&typeof e.then=="function")throw new Error(o);return e}function Pm(){let e=new Map;return{addTo(o,c){if(c<0)return!1;let t=e.get(o);return t!==void 0&&t>=c||e.set(o,c),!0},has(o,c){let t=e.get(o);return t!==void 0&&t>=c},getMap(){return e}}}var Do=65535,Nb=4294901760,AN=Do+1,vu=Do,Fr=512,gb=vu,Wt;(function(e){function o(t){return[(t&Do)>>>0,((t&Nb)>>16&Do)>>>0]}e.fromEntityId=o;function c(t,r){return(t&Do|(r&Do)<<16)>>>0}e.toEntityId=c})(Wt||(Wt={}));var at;(function(e){e[e.Unknown=0]="Unknown",e[e.UsedEntity=1]="UsedEntity",e[e.Removed=2]="Removed",e[e.Reserved=3]="Reserved"})(at||(at={}));function Um(){let e=Fr,o,c,t=new Set,r=[],n=Pm(),s=gb;function a(d,p){s=d,c=p,o=p[0]}function i(d){if(e>vu-1)throw new Error(`It fails trying to generate an entity out of range ${vu}.`);if(d&&o>c[1])throw new Error(`Max amount of network entities reached ${c[1]} `);if(!d&&e>=s)throw new Error(`Max amount of local entities reached ${s}`);let p=d?o++:e++,h=n.getMap().has(p)?n.getMap().get(p)+1:0,T=Wt.toEntityId(p,h);return t.has(T)?i():(t.add(T),T)}function f(d){if(d&&!c)throw new Error("Network entities ranged not initialized. Connect to a CRDT Server");let p=(c&&[...t.values()].filter(T=>{let[I]=Wt.fromEntityId(T);return I>=c[0]&&I<=c[1]}).length)??0,h=t.size-p;if(!d&&h+Fr>=e||d&&p+c[0]>=o)return i(d);for(let[T,I]of n.getMap())if(I<Do){if(d&&(T<c[0]||T>c[1])||!d&&T>=s)continue;let z=Wt.toEntityId(T,I+1);if(!t.has(z)&&!r.includes(z))return t.add(z),z}return i(d)}function u(d){return d<Fr?!1:(t.has(d)?(t.delete(d),r.push(d)):m(d),!0)}function b(){let d=r;if(d.length){r=[];for(let p of d){let[h,T]=Wt.fromEntityId(p);n.addTo(h,T)}}return d}function m(d){let[p,h]=Wt.fromEntityId(d);n.addTo(p,h);for(let T=0;T<=h;T++)t.delete(Wt.toEntityId(p,T));return!0}function g(d){let[p,h]=Wt.fromEntityId(d);if(n.has(p,h))return!1;if(h>0){for(let T=0;T<=h-1;T++)t.delete(Wt.toEntityId(p,T));n.addTo(p,h-1)}return t.add(d),!0}function E(d){let[p,h]=Wt.fromEntityId(d);if(p<Fr)return at.Reserved;if(t.has(d))return at.UsedEntity;let T=n.getMap().get(p);return T!==void 0&&T>=h?at.Removed:at.Unknown}return{setNetworkEntitiesRange:a,generateEntity:f,removeEntity:u,getExistingEntities(){return new Set(t)},getEntityState:E,releaseRemovedEntities:b,updateRemovedEntity:m,updateUsedEntity:g}}var Vr=Y(Qo()),ze=function(e,o,c,t){if(c==="a"&&!t)throw new TypeError("Private accessor was defined without a getter");if(typeof o=="function"?e!==o||!t:!o.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return c==="m"?t:c==="a"?t.call(e):t?t.value:o.get(e)},Ie,Pt,Et;function Ob(e,o){let c=Math.max(e,o)+1024;return Math.ceil(c/1024)*1024}var wb=10240,Ce=class{constructor(o,c,t){Ie.add(this),this._buffer=o||new Uint8Array(wb),this.view=new DataView(this._buffer.buffer,this._buffer.byteOffset),this.woffset=t??(o?this._buffer.length:null)??0,this.roffset=c??0}buffer(){return this._buffer}bufferLength(){return this._buffer.length}resetBuffer(){this.roffset=0,this.woffset=0}currentReadOffset(){return this.roffset}currentWriteOffset(){return this.woffset}incrementReadOffset(o){return ze(this,Ie,"m",Et).call(this,o)}remainingBytes(){return this.woffset-this.roffset}readFloat32(){return this.view.getFloat32(ze(this,Ie,"m",Et).call(this,4),!0)}readFloat64(){return this.view.getFloat64(ze(this,Ie,"m",Et).call(this,8),!0)}readInt8(){return this.view.getInt8(ze(this,Ie,"m",Et).call(this,1))}readInt16(){return this.view.getInt16(ze(this,Ie,"m",Et).call(this,2),!0)}readInt32(){return this.view.getInt32(ze(this,Ie,"m",Et).call(this,4),!0)}readInt64(){return this.view.getBigInt64(ze(this,Ie,"m",Et).call(this,8),!0)}readUint8(){return this.view.getUint8(ze(this,Ie,"m",Et).call(this,1))}readUint16(){return this.view.getUint16(ze(this,Ie,"m",Et).call(this,2),!0)}readUint32(){return this.view.getUint32(ze(this,Ie,"m",Et).call(this,4),!0)}readUint64(){return this.view.getBigUint64(ze(this,Ie,"m",Et).call(this,8),!0)}readBuffer(){let o=this.view.getUint32(ze(this,Ie,"m",Et).call(this,4),!0);return this._buffer.subarray(ze(this,Ie,"m",Et).call(this,o),ze(this,Ie,"m",Et).call(this,0))}readUtf8String(){let o=this.view.getUint32(ze(this,Ie,"m",Et).call(this,4),!0);return Vr.read(this._buffer,ze(this,Ie,"m",Et).call(this,o),ze(this,Ie,"m",Et).call(this,0))}incrementWriteOffset(o){return ze(this,Ie,"m",Pt).call(this,o)}toBinary(){return this._buffer.subarray(0,this.woffset)}toCopiedBinary(){return new Uint8Array(this.toBinary())}writeBuffer(o,c=!0){c&&this.writeUint32(o.byteLength);let t=ze(this,Ie,"m",Pt).call(this,o.byteLength);this._buffer.set(o,t)}writeUtf8String(o,c=!0){let t=Vr.length(o);c&&this.writeUint32(t);let r=ze(this,Ie,"m",Pt).call(this,t);Vr.write(o,this._buffer,r)}writeFloat32(o){let c=ze(this,Ie,"m",Pt).call(this,4);this.view.setFloat32(c,o,!0)}writeFloat64(o){let c=ze(this,Ie,"m",Pt).call(this,8);this.view.setFloat64(c,o,!0)}writeInt8(o){let c=ze(this,Ie,"m",Pt).call(this,1);this.view.setInt8(c,o)}writeInt16(o){let c=ze(this,Ie,"m",Pt).call(this,2);this.view.setInt16(c,o,!0)}writeInt32(o){let c=ze(this,Ie,"m",Pt).call(this,4);this.view.setInt32(c,o,!0)}writeInt64(o){let c=ze(this,Ie,"m",Pt).call(this,8);this.view.setBigInt64(c,o,!0)}writeUint8(o){let c=ze(this,Ie,"m",Pt).call(this,1);this.view.setUint8(c,o)}writeUint16(o){let c=ze(this,Ie,"m",Pt).call(this,2);this.view.setUint16(c,o,!0)}writeUint32(o){let c=ze(this,Ie,"m",Pt).call(this,4);this.view.setUint32(c,o,!0)}writeUint64(o){let c=ze(this,Ie,"m",Pt).call(this,8);this.view.setBigUint64(c,o,!0)}getFloat32(o){return this.view.getFloat32(o,!0)}getFloat64(o){return this.view.getFloat64(o,!0)}getInt8(o){return this.view.getInt8(o)}getInt16(o){return this.view.getInt16(o,!0)}getInt32(o){return this.view.getInt32(o,!0)}getInt64(o){return this.view.getBigInt64(o,!0)}getUint8(o){return this.view.getUint8(o)}getUint16(o){return this.view.getUint16(o,!0)}getUint32(o){return this.view.getUint32(o,!0)}getUint64(o){return this.view.getBigUint64(o,!0)}setFloat32(o,c){this.view.setFloat32(o,c,!0)}setFloat64(o,c){this.view.setFloat64(o,c,!0)}setInt8(o,c){this.view.setInt8(o,c)}setInt16(o,c){this.view.setInt16(o,c,!0)}setInt32(o,c){this.view.setInt32(o,c,!0)}setInt64(o,c){this.view.setBigInt64(o,c,!0)}setUint8(o,c){this.view.setUint8(o,c)}setUint16(o,c){this.view.setUint16(o,c,!0)}setUint32(o,c){this.view.setUint32(o,c,!0)}setUint64(o,c){this.view.setBigUint64(o,c,!0)}};Ie=new WeakSet,Pt=function(o){if(this.woffset+o>this._buffer.byteLength){let c=Ob(this._buffer.byteLength,this.woffset+o),t=new Uint8Array(c);t.set(this._buffer);let r=this._buffer.byteOffset;this._buffer=t,this.view=new DataView(this._buffer.buffer,r)}return this.woffset+=o,this.woffset-o},Et=function(o){if(this.roffset+o>this.woffset)throw new Error("Outside of the bounds of writen data.");return this.roffset+=o,this.roffset-o};var q;(function(e){e[e.RESERVED=0]="RESERVED",e[e.PUT_COMPONENT=1]="PUT_COMPONENT",e[e.DELETE_COMPONENT=2]="DELETE_COMPONENT",e[e.DELETE_ENTITY=3]="DELETE_ENTITY",e[e.APPEND_VALUE=4]="APPEND_VALUE",e[e.PUT_COMPONENT_NETWORK=5]="PUT_COMPONENT_NETWORK",e[e.DELETE_COMPONENT_NETWORK=6]="DELETE_COMPONENT_NETWORK",e[e.DELETE_ENTITY_NETWORK=7]="DELETE_ENTITY_NETWORK",e[e.MAX_MESSAGE_TYPE=8]="MAX_MESSAGE_TYPE"})(q||(q={}));var ut=8,Ht;(function(e){e[e.StateUpdatedTimestamp=1]="StateUpdatedTimestamp",e[e.StateOutdatedTimestamp=2]="StateOutdatedTimestamp",e[e.NoChanges=3]="NoChanges",e[e.StateOutdatedData=4]="StateOutdatedData",e[e.StateUpdatedData=5]="StateUpdatedData",e[e.EntityWasDeleted=6]="EntityWasDeleted",e[e.EntityDeleted=7]="EntityDeleted"})(Ht||(Ht={}));var Ke;(function(e){function o(n){let s=n.remainingBytes();if(s<ut)return!1;let a=n.getUint32(n.currentReadOffset());return!(s<a)}e.validate=o;function c(n){return o(n)?{length:n.readUint32(),type:n.readUint32()}:null}e.readHeader=c;function t(n){if(!o(n))return null;let s=n.currentReadOffset();return{length:n.getUint32(s),type:n.getUint32(s+4)}}e.getHeader=t;function r(n){let s=t(n);return s?(n.incrementReadOffset(s.length),!0):!1}e.consumeMessage=r})(Ke||(Ke={}));var bn;(function(e){e.MESSAGE_HEADER_LENGTH=12;function o(t,r,n,s){let a=ut+e.MESSAGE_HEADER_LENGTH,i=s.incrementWriteOffset(a);s.setUint32(i,a),s.setUint32(i+4,q.DELETE_COMPONENT),s.setUint32(i+8,t),s.setUint32(i+12,r),s.setUint32(i+16,n)}e.write=o;function c(t){let r=Ke.readHeader(t);if(!r)return null;if(r.type!==q.DELETE_COMPONENT)throw new Error("DeleteComponentOperation tried to read another message type.");return{...r,entityId:t.readUint32(),componentId:t.readUint32(),timestamp:t.readUint32()}}e.read=c})(bn||(bn={}));var Ln;(function(e){e.MESSAGE_HEADER_LENGTH=16;function o(t,r,n,s,a){let i=a.incrementWriteOffset(ut+e.MESSAGE_HEADER_LENGTH);a.writeBuffer(s,!1);let f=a.currentWriteOffset()-i;a.setUint32(i,f),a.setUint32(i+4,q.APPEND_VALUE),a.setUint32(i+8,t),a.setUint32(i+12,n),a.setUint32(i+16,r);let u=f-e.MESSAGE_HEADER_LENGTH-ut;a.setUint32(i+20,u)}e.write=o;function c(t){let r=Ke.readHeader(t);if(!r)return null;if(r.type!==q.APPEND_VALUE)throw new Error("AppendValueOperation tried to read another message type.");return{...r,entityId:t.readUint32(),componentId:t.readUint32(),timestamp:t.readUint32(),data:t.readBuffer()}}e.read=c})(Ln||(Ln={}));var zn;(function(e){e.MESSAGE_HEADER_LENGTH=4;function o(t,r){r.writeUint32(ut+4),r.writeUint32(q.DELETE_ENTITY),r.writeUint32(t)}e.write=o;function c(t){let r=Ke.readHeader(t);if(!r)return null;if(r.type!==q.DELETE_ENTITY)throw new Error("DeleteEntity tried to read another message type.");return{...r,entityId:t.readUint32()}}e.read=c})(zn||(zn={}));var It;(function(e){e.MESSAGE_HEADER_LENGTH=16;function o(t,r,n,s,a){let i=a.incrementWriteOffset(ut+e.MESSAGE_HEADER_LENGTH);a.writeBuffer(s,!1);let f=a.currentWriteOffset()-i;a.setUint32(i,f),a.setUint32(i+4,q.PUT_COMPONENT),a.setUint32(i+8,t),a.setUint32(i+12,n),a.setUint32(i+16,r);let u=f-e.MESSAGE_HEADER_LENGTH-ut;a.setUint32(i+20,u)}e.write=o;function c(t){let r=Ke.readHeader(t);if(!r)return null;if(r.type!==q.PUT_COMPONENT)throw new Error("PutComponentOperation tried to read another message type.");return{...r,entityId:t.readUint32(),componentId:t.readUint32(),timestamp:t.readUint32(),data:t.readBuffer()}}e.read=c})(It||(It={}));var An;(function(e){e.MESSAGE_HEADER_LENGTH=20;function o(t,r,n,s,a,i){let f=i.incrementWriteOffset(ut+e.MESSAGE_HEADER_LENGTH);i.writeBuffer(a,!1);let u=i.currentWriteOffset()-f;i.setUint32(f,u),i.setUint32(f+4,q.PUT_COMPONENT_NETWORK),i.setUint32(f+8,t),i.setUint32(f+12,n),i.setUint32(f+16,r),i.setUint32(f+20,s);let b=u-e.MESSAGE_HEADER_LENGTH-ut;i.setUint32(f+24,b)}e.write=o;function c(t){let r=Ke.readHeader(t);if(!r)return null;if(r.type!==q.PUT_COMPONENT_NETWORK)throw new Error("PutComponentOperation tried to read another message type.");return{...r,entityId:t.readUint32(),componentId:t.readUint32(),timestamp:t.readUint32(),networkId:t.readUint32(),data:t.readBuffer()}}e.read=c})(An||(An={}));var no;(function(e){e.MESSAGE_HEADER_LENGTH=16;function o(t,r,n,s,a){let i=ut+e.MESSAGE_HEADER_LENGTH,f=a.incrementWriteOffset(i);a.setUint32(f,i),a.setUint32(f+4,q.DELETE_COMPONENT_NETWORK),a.setUint32(f+8,t),a.setUint32(f+12,r),a.setUint32(f+16,n),a.setUint32(f+20,s)}e.write=o;function c(t){let r=Ke.readHeader(t);if(!r)return null;if(r.type!==q.DELETE_COMPONENT_NETWORK)throw new Error("DeleteComponentOperation tried to read another message type.");return{...r,entityId:t.readUint32(),componentId:t.readUint32(),timestamp:t.readUint32(),networkId:t.readUint32()}}e.read=c})(no||(no={}));var oo;(function(e){e.MESSAGE_HEADER_LENGTH=8;function o(t,r,n){n.writeUint32(ut+4),n.writeUint32(q.DELETE_ENTITY_NETWORK),n.writeUint32(t),n.writeUint32(r)}e.write=o;function c(t){let r=Ke.readHeader(t);if(!r)return null;if(r.type!==q.DELETE_ENTITY_NETWORK)throw new Error("DeleteEntityNetwork tried to read another message type.");return{...r,entityId:t.readUint32(),networkId:t.readUint32()}}e.read=c})(oo||(oo={}));function cs(e){return[q.DELETE_COMPONENT_NETWORK,q.DELETE_ENTITY_NETWORK,q.PUT_COMPONENT_NETWORK].includes(e.type)}function Bm(e,o,c,t){let r=c.currentWriteOffset();e.type===q.PUT_COMPONENT_NETWORK?It.write(o,e.timestamp,e.componentId,e.data,c):e.type===q.DELETE_COMPONENT_NETWORK?bn.write(o,e.componentId,e.timestamp,c):e.type===q.DELETE_ENTITY_NETWORK&&zn.write(o,c),t.writeBuffer(c.buffer().subarray(r,c.currentWriteOffset()),!1)}function Dm(e,o,c,t){let r=c.currentWriteOffset();e.type===q.PUT_COMPONENT?An.write(o.entityId,e.timestamp,e.componentId,o.networkId,e.data,c):e.type===q.DELETE_COMPONENT?no.write(o.entityId,e.componentId,e.timestamp,o.networkId,c):e.type===q.DELETE_ENTITY&&oo.write(o.entityId,o.networkId,c),t.writeBuffer(c.buffer().subarray(r,c.currentWriteOffset()),!1)}function ss(e,o,c){let t=o,r=new Ce;if(!t&&"data"in e&&(r.writeBuffer(e.data),t=zr.deserialize(r),r.resetBuffer()),!t)throw new Error("Invalid parent transform");let n={...t,parent:c};return r.resetBuffer(),zr.serialize(n,r),r.toBinary()}function Lm(e,o){let c=[],t=is(e),r=as(e),n=Bn(e),s=[],a=[];function i(E){return function(p){let h=new Ce(p),T;for(;T=Ke.getHeader(h);){let I=h.currentReadOffset(),z;T.type===q.DELETE_COMPONENT?z=bn.read(h):T.type===q.DELETE_COMPONENT_NETWORK?z=no.read(h):T.type===q.PUT_COMPONENT?z=It.read(h):T.type===q.PUT_COMPONENT_NETWORK?z=An.read(h):T.type===q.DELETE_ENTITY?z=zn.read(h):T.type===q.DELETE_ENTITY_NETWORK?z=oo.read(h):T.type===q.APPEND_VALUE?z=Ln.read(h):h.incrementReadOffset(T.length),z&&s.push({...z,transportId:E,messageBuffer:h.buffer().subarray(I,h.currentReadOffset())})}}}function f(E){return E.splice(0,E.length)}function u(E){if("networkId"in E){for(let[p,h]of e.getEntitiesWith(t))if(h.networkId===E.networkId&&h.entityId===E.entityId)return{entityId:p,network:h}}return{entityId:E.entityId}}async function b(){let E=f(s),d=[];for(let p of E){let{entityId:h,network:T}=u(p);if(cs(p)&&!T&&(h=e.addEntity(),T={entityId:p.entityId,networkId:p.networkId},t.createOrReplace(h,T)),p.type===q.DELETE_ENTITY||p.type===q.DELETE_ENTITY_NETWORK)d.push(h),a.push(p);else{let I=e.entityContainer.getEntityState(h);if(I===at.Removed)continue;I===at.Unknown&&e.entityContainer.updateUsedEntity(h);let z=e.getComponentOrNull(p.componentId);if(z){p.type===q.PUT_COMPONENT&&z.componentId===n.componentId&&t.has(h)&&r.has(h)&&(p.data=ss(p));let[ne,V]=z.updateFromCrdt({...p,entityId:h});ne||(a.push(p),o&&o(p.entityId,p.type,z,V))}else a.push(p)}}for(let p of d){for(let h of e.componentsIter())h.entityDeleted(p,!0);e.entityContainer.updateRemovedEntity(p),o&&o(p,q.DELETE_ENTITY)}}async function m(E){let d=f(a),p=new Ce;for(let T of e.componentsIter())for(let I of T.getCrdtUpdates()){let z=p.currentWriteOffset();if(c.some(ne=>ne.filter(I))&&(I.type===q.PUT_COMPONENT?It.write(I.entityId,I.timestamp,I.componentId,I.data,p):I.type===q.DELETE_COMPONENT?bn.write(I.entityId,T.componentId,I.timestamp,p):I.type===q.APPEND_VALUE&&Ln.write(I.entityId,I.timestamp,I.componentId,I.data,p),d.push({...I,messageBuffer:p.buffer().subarray(z,p.currentWriteOffset())}),o)){let ne=I.type===q.PUT_COMPONENT||I.type===q.APPEND_VALUE?T.get(I.entityId):void 0;o(I.entityId,I.type,T,ne)}}for(let T of E){let I=p.currentWriteOffset();zn.write(T,p),d.push({type:q.DELETE_ENTITY,entityId:T,messageBuffer:p.buffer().subarray(I,p.currentWriteOffset())}),o&&o(T,q.DELETE_ENTITY)}let h=new Ce;for(let T in c){let I=Number(T),z=c[I],ne=z.type==="renderer",V=z.type==="network";h.resetBuffer();let W=new Ce;for(let C of d){if(C.transportId===I||!z.filter(C))continue;let{entityId:L}=u(C),A="componentId"in C&&C.componentId===n.componentId&&n.has(L)&&r.has(L)&&t.has(L);if(ne&&C.type===q.PUT_COMPONENT&&A){let O=u(r.get(L)),G=ss(C,n.get(L),O.entityId),K=W.currentWriteOffset();It.write(L,C.timestamp,C.componentId,G,W),h.writeBuffer(W.buffer().subarray(K,W.currentWriteOffset()),!1);continue}if(ne&&cs(C)){let O="data"in C?C.data:new Uint8Array;if(A){let G=u(r.get(L));O=ss(C,n.get(L),G.entityId)}Bm({...C,data:O},L,W,h);continue}if(V&&!cs(C)){let O=t.getOrNull(C.entityId);if(O){Dm(C,O,W,h);continue}}h.writeBuffer(C.messageBuffer,!1)}let X=h.currentWriteOffset()?h.toBinary():new Uint8Array([]);await z.send(X)}}function g(E){let d=c.push(E)-1;E.onmessage=i(d)}return{sendMessages:m,receiveMessages:b,addTransport:g}}var zm;(function(e){let o;(function(c){c[c.NETWORKED=0]="NETWORKED",c[c.RENDERER=1]="RENDERER"})(o=e.SynchronizedEntityType||(e.SynchronizedEntityType={}))})(zm||(zm={}));function la(e,o){if(e===o)return 0;if(e===null&&o!==null)return-1;if(e!==null&&o===null)return 1;if(e instanceof Uint8Array&&o instanceof Uint8Array){let c=e.byteLength-o.byteLength;if(c!==0)return c>0?1:-1;let t;for(let r=0,n=e.byteLength;r<n;r++)if(t=e[r]-o[r],t!==0)return t>0?1:-1;return 0}if(typeof e=="string"){let c=e.length-o.length;return c!==0?c>0?1:-1:e.localeCompare(o)}return e>o?1:-1}function Pu(e){return Object.freeze({...e})}function Cb(e,o){let c=(o.get(e)||0)+1;return o.set(e,c),c}function Mb(e,o,c,t){return function(n,s){for(let[a,i]of o)if(!(s&&!s(a)))if(t.has(a)){let f=t.get(a),u=new Ce;c.serialize(f,u),It.write(a,i,e,u.toBinary(),n)}else bn.write(a,e,i,n)}}function vb(e,o,c,t){function r(n){let{entityId:s,timestamp:a}=n,i=o.get(s);if(i===void 0||i<a)return Ht.StateUpdatedTimestamp;if(i>a)return Ht.StateOutdatedTimestamp;if(n.type===q.DELETE_COMPONENT&&!t.has(s))return Ht.NoChanges;let f=0;if(t.has(s)){let u=new Ce;c.serialize(t.get(s),u),f=la(u.toBinary(),n.data||null)}else f=la(null,n.data);return f===0?Ht.NoChanges:f>0?Ht.StateOutdatedData:Ht.StateUpdatedData}return n=>{if(n.type!==q.PUT_COMPONENT&&n.type!==q.DELETE_COMPONENT&&n.type!==q.PUT_COMPONENT_NETWORK)return[null,t.get(n.entityId)];let s=r(n),a=n.entityId;switch(s){case Ht.StateUpdatedData:case Ht.StateUpdatedTimestamp:{if(o.set(a,n.timestamp),n.type===q.PUT_COMPONENT||n.type===q.PUT_COMPONENT_NETWORK){let i=new Ce(n.data);t.set(a,c.deserialize(i))}else t.delete(a);return[null,t.get(a)]}case Ht.StateOutdatedTimestamp:case Ht.StateOutdatedData:if(t.has(a)){let i=new Ce;return c.serialize(t.get(a),i),[{type:q.PUT_COMPONENT,componentId:e,data:i.toBinary(),entityId:a,timestamp:o.get(a)},t.get(a)]}else return[{type:q.DELETE_COMPONENT,componentId:e,entityId:a,timestamp:o.get(a)},void 0]}return[null,t.get(a)]}}function Pb(e,o,c,t,r){return function*(){for(let n of c){let s=Cb(n,o);if(r.has(n)){let a=new Ce;t.serialize(r.get(n),a),yield{type:q.PUT_COMPONENT,componentId:e,entityId:n,data:a.toBinary(),timestamp:s}}else yield{type:q.DELETE_COMPONENT,componentId:e,entityId:n,timestamp:s}}c.clear()}}function Uu(e,o,c){let t=new Map,r=new Set,n=new Map;return{get componentId(){return o},get componentName(){return e},get componentType(){return 0},schema:c,has(s){return t.has(s)},deleteFrom(s,a=!0){let i=t.get(s);return t.delete(s)&&a&&r.add(s),i||null},entityDeleted(s,a){t.delete(s)&&a&&r.add(s)},getOrNull(s){let a=t.get(s);return a?Pu(a):null},get(s){let a=t.get(s);if(!a)throw new Error(`[getFrom] Component ${e} for entity #${s} not found`);return Pu(a)},create(s,a){if(t.get(s))throw new Error(`[create] Component ${e} for ${s} already exists`);let f=a===void 0?c.create():c.extend?c.extend(a):a;return t.set(s,f),r.add(s),f},createOrReplace(s,a){let i=a===void 0?c.create():c.extend?c.extend(a):a;return t.set(s,i),r.add(s),i},getMutableOrNull(s){let a=t.get(s);return a?(r.add(s),a):null},getOrCreateMutable(s,a){let i=t.get(s);return i?(r.add(s),i):this.create(s,a)},getMutable(s){let a=this.getMutableOrNull(s);if(a===null)throw new Error(`[mutable] Component ${e} for ${s} not found`);return a},*iterator(){for(let[s,a]of t)yield[s,a]},*dirtyIterator(){for(let s of r)yield s},getCrdtUpdates:Pb(o,n,r,c,t),updateFromCrdt:vb(o,n,c,t),dumpCrdtStateToBuffer:Mb(o,n,c,t)}}function Fm(){let e=[];function o(){e.sort((r,n)=>n.priority-r.priority)}function c(r,n,s){let a=s??r.name;if(e.find(i=>i.fn===r))throw new Error(`System ${JSON.stringify(a)} already added to the engine`);e.push({fn:r,priority:n,name:a}),o()}function t(r){let n=-1;return typeof r=="string"?n=e.findIndex(s=>s.name===r):n=e.findIndex(s=>s.fn===r),n===-1?!1:(e.splice(n,1),o(),!0)}return{add:c,remove:t,getSystems(){return e}}}var Bu=Wm(new Set);function Vm(){throw new Error("The set is frozen")}function Wm(e){return e.add=Vm,e.clear=Vm,e}function Ub(e,o){return e.timestamp>o.timestamp?1:-1}function Hm(e,o,c,t){let r=new Map,n=new Set,s=[];function a(b){let m=b.raw.length;return m>1&&b.raw[m-1].timestamp<=b.raw[m-2].timestamp}function i(b){let m=r.get(b);if(m){for(a(m)&&m.raw.sort(Ub);m.raw.length>t.maxElements;)m.raw.shift();let g=Wm(new Set(m?.raw.map(E=>E.value)));return m.frozenSet=g,g}else return Bu}function f(b,m){let g=r.get(b);g||(g={raw:[],frozenSet:Bu},r.set(b,g));let E=c.extend?c.extend(m):m,d=t.timestampFunction(E);return Mu&&Object.freeze(E),g.raw.push({value:E,timestamp:d}),{set:i(b),value:E}}return{get componentId(){return o},get componentName(){return e},get componentType(){return 1},schema:c,has(b){return r.has(b)},entityDeleted(b){r.delete(b)},get(b){let m=r.get(b);return m?m.frozenSet:Bu},addValue(b,m){let{set:g,value:E}=f(b,m);n.add(b);let d=new Ce;return c.serialize(E,d),s.push({componentId:o,data:d.toBinary(),entityId:b,timestamp:0,type:q.APPEND_VALUE}),g},*iterator(){for(let[b,m]of r)yield[b,m.frozenSet]},*dirtyIterator(){for(let b of n)yield b},getCrdtUpdates(){return n.clear(),s.splice(0,s.length)},updateFromCrdt(b){if(b.type===q.APPEND_VALUE){let m=new Ce(b.data);f(b.entityId,c.deserialize(m))}return[null,void 0]},dumpCrdtStateToBuffer:function(b,m){for(let[g,{raw:E}]of r)if(!(m&&!m(g)))for(let d of E){let p=new Ce;c.serialize(d.value,p),Ln.write(g,0,o,p.toBinary(),b)}}}}function*Gm(e,o){if(o.has(e)){o.delete(e);for(let[c,t]of o)t.parent===e&&(yield*Gm(c,o));yield e}}function Bb(e,o,c){let t=new Map(e.getEntitiesWith(c));return Gm(o,t)}function jm(e,o){let c=Bn(e);for(let t of Bb(e,o,c))e.removeEntity(t)}var $m=[0,1,2,4,5,6,7,8,9,10,11,12,13],Db=1<<20;function Ym(e){let o=Zi(e),c={previousFrameMaxTimestamp:0,currentFrameMaxTimestamp:0,buttonState:new Map,thisFrameCommands:[]};function t(d,p,h){let T=o.get(h);for(let I of Array.from(T).reverse())if(I.button===p&&I.state===d)return I}function*r(d,p){let h=o.get(p);for(let T of Array.from(h).reverse())T.button===d&&(yield T)}function n(){let d=c.currentFrameMaxTimestamp;c.previousFrameMaxTimestamp=d,c.thisFrameCommands.length&&(c.thisFrameCommands=[]);for(let[,p]of e.getEntitiesWith(o)){let h=Array.from(p);for(let T=h.length-1;T>=0;T--){let I=h[T];if(I.timestamp>d&&(d=I.timestamp),I.timestamp>c.previousFrameMaxTimestamp&&c.thisFrameCommands.push(I),I.state===0||I.state===1){let z=c.buttonState.get(I.button);if(!z||I.timestamp>z.timestamp)c.buttonState.set(I.button,I);else break}}}c.currentFrameMaxTimestamp=d}e.addSystem(n,Db,"@dcl/ecs#inputSystem");function s(d){return d>c.previousFrameMaxTimestamp&&d<=c.currentFrameMaxTimestamp}function a(d,p){if(d!==3)return i(d,p);for(let h of $m){let T=i(h,p);if(T)return T}return null}function i(d,p){let h=null,T=null;for(let I of r(d,p))if(T){if(!h&&I.state===1){h=I;break}}else if(I.state===0){T=I;continue}return!T||!h?null:h.timestamp<T.timestamp&&s(T.timestamp)?{up:T,down:h}:null}function f(d,p,h){if(d!==3)return b(d,p,h);for(let T of $m){let I=b(T,p,h);if(I)return I}return null}function u(d,p,h){if(h)return f(d,p,h);for(let T of c.thisFrameCommands)if((T.button===d||d===3)&&T.state===p)return T;return null}function b(d,p,h){let T=t(p,d,h);return T&&s(T.timestamp)?T:null}function m(d,p){return a(d,p)!==null}function g(d,p,h){if(h){let T=t(p,d,h);return T&&s(T.timestamp)||!1}else{for(let T of c.thisFrameCommands)if((T.button===d||d===3)&&T.state===p)return!0;return!1}}function E(d){return c.buttonState.get(d)?.state===1}return{isPressed:E,getClick:a,getInputCommand:u,isClicked:m,isTriggered:g}}var qm;(function(e){e[e.LastWriteWinElementSet=0]="LastWriteWinElementSet",e[e.GrowOnlyValueSet=1]="GrowOnlyValueSet"})(qm||(qm={}));function zb(){let e=Um(),o=new Map,c=Fm(),t,r=!1;function n(C,L=1e5,A){c.add(C,L,A)}function s(C){return c.remove(C)}function a(){if(!t)throw new Error("Network manager not initialized. Start CRDT Server");return t}function i(C,L){return e.setNetworkEntitiesRange(C,L),t={addEntity:()=>e.generateEntity(!0)},t}function f(){return e.generateEntity()}function u(C){for(let[,L]of o)L.entityDeleted(C,!0);return e.removeEntity(C)}function b(C){return jm({removeEntity:u,defineComponentFromSchema:g,getEntitiesWith:T},C)}function m(C,L){if(r)throw new Error("Engine is already sealed. No components can be added at this stage");let A=cn(C);if(o.get(A))throw new Error(`Component number ${A} was already registered.`);if(L.componentName!==C)throw new Error(`Component name doesn't match componentDefinition.componentName ${C} != ${L.componentName}`);if(L.componentId!==A)throw new Error(`Component number doesn't match componentDefinition.componentId ${A} != ${L.componentId}`);return o.set(A,L),L}function g(C,L){let A=cn(C),O=o.get(A);if(O)return O;if(r)throw new Error("Engine is already sealed. No components can be added at this stage");let G=Uu(C,A,L);return o.set(A,G),G}function E(C,L,A){let O=cn(C),G=o.get(O);if(G)return G;if(r)throw new Error("Engine is already sealed. No components can be added at this stage");let K=Hm(C,O,L,A);return o.set(O,K),K}function d(C,L,A){let O=cn(C),G=o.get(O);if(G)return G;if(r)throw new Error("Engine is already sealed. No components can be added at this stage");let K=oe.Map(L,A),ie=Uu(C,O,K),le={...ie,create(Ee,ye){return ie.create(Ee,ye)},createOrReplace(Ee,ye){return ie.createOrReplace(Ee,ye)}};return o.set(O,le),le}function p(C){let L=typeof C=="number"?C:cn(C),A=o.get(L);if(!A)throw new Error(`Component ${L} not found. You need to declare the components at the beginnig of the engine declaration`);return A}function h(C){let L=typeof C=="number"?C:cn(C);return o.get(L)??null}function*T(...C){for(let[L,...A]of z(...C))yield[L,...A.map(O=>O.get(L))]}function I(C){let L=rs({defineComponent:d});for(let[A,O]of T(L))if(O.value===C)return A;return null}function*z(...C){let[L,...A]=C;for(let[O]of L.iterator()){let G=!0;for(let K of A)if(!K.has(O)){G=!1;break}G&&(yield[O,...C])}}function ne(){return c.getSystems()}function V(){return o.values()}function W(C){if(r)throw new Error("Engine is already sealed. No components can be removed at this stage");let L=typeof C=="number"?C:cn(C);o.delete(L)}Bn({defineComponentFromSchema:g});function X(){r||(r=!0)}return{addEntity:f,removeEntity:u,removeEntityWithChildren:b,addSystem:n,getSystems:ne,removeSystem:s,defineComponent:d,defineComponentFromSchema:g,defineValueSetComponentFromSchema:E,getEntitiesWith:T,getComponent:p,getComponentOrNull:h,getEntityOrNullByName:I,removeComponentDefinition:W,registerComponentDefinition:m,entityContainer:e,componentsIter:V,seal:X,addNetworkManager:i,getNetworkManager:a}}function Jm(e){let o=zb(),c=Lm(o,e?.onChangeFunction||null);async function t(r){await c.receiveMessages();for(let s of o.getSystems()){let a=s.fn(r);da(a,`A system (${s.name||"anonymous"}) returned a thenable. Systems cannot be async functions. Documentation: https://dcl.gg/sdk/sync-systems`)}let n=o.entityContainer.releaseRemovedEntities();await c.sendMessages(n)}return{addEntity:o.addEntity,removeEntity:o.removeEntity,removeEntityWithChildren:o.removeEntityWithChildren,addSystem:o.addSystem,removeSystem:o.removeSystem,defineComponent:o.defineComponent,defineComponentFromSchema:o.defineComponentFromSchema,defineValueSetComponentFromSchema:o.defineValueSetComponentFromSchema,registerComponentDefinition:o.registerComponentDefinition,getEntitiesWith:o.getEntitiesWith,getComponent:o.getComponent,getComponentOrNull:o.getComponentOrNull,removeComponentDefinition:o.removeComponentDefinition,componentsIter:o.componentsIter,seal:o.seal,getEntityOrNullByName:o.getEntityOrNullByName,update:t,RootEntity:0,PlayerEntity:1,CameraEntity:2,getEntityState:o.entityContainer.getEntityState,addTransport:c.addTransport,entityContainer:o.entityContainer,addNetworkManager:o.addNetworkManager,getNetworkManager:o.getNetworkManager}}function Xm(e,o){let c=$c(e),t;(function(g){g[g.Click=0]="Click",g[g.Down=1]="Down",g[g.Up=2]="Up"})(t||(t={}));let r=(g={})=>({button:3,...g}),n=new Map;function s(g){return n.get(g)||n.set(g,new Map).get(g)}function a(g,E,d){(d.hoverText||d.showFeedback)&&(c.getMutableOrNull(g)||c.create(g)).pointerEvents.push({eventType:E,eventInfo:{button:d.button,showFeedback:d.showFeedback,hoverText:d.hoverText,maxDistance:d.maxDistance}})}function i(g,E,d){let p=c.getMutableOrNull(g);p&&(p.pointerEvents=p.pointerEvents.filter(h=>!(h.eventInfo?.button===d&&h.eventType===E)))}function f(g){return g===t.Up?0:1}function u(g,E){let d=s(g),p=d.get(E);p?.opts.hoverText&&i(g,f(E),p.opts.button),d.delete(E)}e.addSystem(function(){for(let[E,d]of n){if(e.getEntityState(E)===at.Removed){n.delete(E);continue}for(let[p,{cb:h,opts:T}]of d){if(p===t.Click){let I=o.getClick(T.button,E);I&&da(h(I.up),"Click event returned a thenable. Only synchronous functions are allowed")}if(p===t.Down||p===t.Up){let I=o.getInputCommand(T.button,f(p),E);I&&da(h(I),"Event handler returned a thenable. Only synchronous functions are allowed")}}}});let b=(...g)=>{let[E,d,p]=g;if(typeof E=="number")return b({entity:E,opts:p??{}},d);let{entity:h,opts:T}=E,I=r(T);u(h,t.Down),s(h).set(t.Down,{cb:d,opts:I}),a(h,1,I)},m=(...g)=>{let[E,d,p]=g;if(typeof E=="number")return m({entity:E,opts:p??{}},d);let{entity:h,opts:T}=E,I=r(T);u(h,t.Up),s(h).set(t.Up,{cb:d,opts:I}),a(h,0,I)};return{removeOnClick(g){u(g,t.Click)},removeOnPointerDown(g){u(g,t.Down)},removeOnPointerUp(g){u(g,t.Up)},onClick(g,E){let{entity:d}=g,p=r(g.opts);u(d,t.Click),s(d).set(t.Click,{cb:E,opts:p}),a(d,1,p)},onPointerDown:b,onPointerUp:m}}function Km(e){let o=wu(e),c=qc(e),t=Yc(e),r=new Map;function n(f){let u=c.getOrNull(f),b=o.getOrNull(f),m=r.get(f);return!u||!b?!1:!!((s(f)||u.state===1)&&!m?.completed&&(m?.frames??0)>2)}function s(f){let u=o.getOrNull(f),b=r.get(f)?.tween;if(u&&!b||!u&&b)return!0;let m=new Ce;return o.schema.serialize(u,m),la(m.toBinary(),b)}let a=[];e.addSystem(()=>{for(let f of a)f();a.length=0;for(let[f,u]of e.getEntitiesWith(o)){if(s(f)){let m=new Ce;o.schema.serialize(u,m),r.set(f,{tween:m.toBinary(),frames:0,completed:!1,changed:!0});continue}let b=r.get(f);if(b.frames+=1,b.changed=!1,n(f)){b.frames=0,b.completed=!0;let m=t.getOrNull(f);if(!m)continue;let{sequence:g}=m;if(g&&g.length){let[E,...d]=g;o.createOrReplace(f,E);let p=t.getMutable(f);p.sequence=d,m.loop===0&&p.sequence.push(u)}else m.loop===1?o.createOrReplace(f,i(u)):m.loop===0&&(o.deleteFrom(f),r.delete(f),a.push(()=>{o.createOrReplace(f,u)}))}}},Number.NEGATIVE_INFINITY);function i(f){if(f.mode?.$case==="move"&&f.mode.move)return{...f,mode:{...f.mode,move:{start:f.mode.move.end,end:f.mode.move.start}}};if(f.mode?.$case==="rotate"&&f.mode.rotate)return{...f,mode:{...f.mode,rotate:{start:f.mode.rotate.end,end:f.mode.rotate.start}}};if(f.mode?.$case==="scale"&&f.mode.scale)return{...f,mode:{...f.mode,scale:{start:f.mode.scale.end,end:f.mode.scale.start}}};throw new Error("Invalid tween")}return{tweenCompleted:n}}var re=Jm(),Fb=Ym(re),fs=Xm(re,Fb);var RO=Km(re);var Nn=du(re);var Qm=lu(re);var Zm=pu(re);var Du=mu(re),e0=hu(re),t0=Eu(re);var n0=Zi(re);var o0=xu(re);var r0=Nu(re);var i0;(function(e){e[e.CT_FIRST_PERSON=0]="CT_FIRST_PERSON",e[e.CT_THIRD_PERSON=1]="CT_THIRD_PERSON",e[e.CT_CINEMATIC=2]="CT_CINEMATIC"})(i0||(i0={}));var a0;(function(e){e[e.IA_POINTER=0]="IA_POINTER",e[e.IA_PRIMARY=1]="IA_PRIMARY",e[e.IA_SECONDARY=2]="IA_SECONDARY",e[e.IA_ANY=3]="IA_ANY",e[e.IA_FORWARD=4]="IA_FORWARD",e[e.IA_BACKWARD=5]="IA_BACKWARD",e[e.IA_RIGHT=6]="IA_RIGHT",e[e.IA_LEFT=7]="IA_LEFT",e[e.IA_JUMP=8]="IA_JUMP",e[e.IA_WALK=9]="IA_WALK",e[e.IA_ACTION_3=10]="IA_ACTION_3",e[e.IA_ACTION_4=11]="IA_ACTION_4",e[e.IA_ACTION_5=12]="IA_ACTION_5",e[e.IA_ACTION_6=13]="IA_ACTION_6"})(a0||(a0={}));var c0;(function(e){e[e.PET_UP=0]="PET_UP",e[e.PET_DOWN=1]="PET_DOWN",e[e.PET_HOVER_ENTER=2]="PET_HOVER_ENTER",e[e.PET_HOVER_LEAVE=3]="PET_HOVER_LEAVE"})(c0||(c0={}));var s0;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.LOADING=1]="LOADING",e[e.NOT_FOUND=2]="NOT_FOUND",e[e.FINISHED_WITH_ERROR=3]="FINISHED_WITH_ERROR",e[e.FINISHED=4]="FINISHED"})(s0||(s0={}));var f0;(function(e){e[e.TAM_TOP_LEFT=0]="TAM_TOP_LEFT",e[e.TAM_TOP_CENTER=1]="TAM_TOP_CENTER",e[e.TAM_TOP_RIGHT=2]="TAM_TOP_RIGHT",e[e.TAM_MIDDLE_LEFT=3]="TAM_MIDDLE_LEFT",e[e.TAM_MIDDLE_CENTER=4]="TAM_MIDDLE_CENTER",e[e.TAM_MIDDLE_RIGHT=5]="TAM_MIDDLE_RIGHT",e[e.TAM_BOTTOM_LEFT=6]="TAM_BOTTOM_LEFT",e[e.TAM_BOTTOM_CENTER=7]="TAM_BOTTOM_CENTER",e[e.TAM_BOTTOM_RIGHT=8]="TAM_BOTTOM_RIGHT"})(f0||(f0={}));var u0;(function(e){e[e.F_SANS_SERIF=0]="F_SANS_SERIF",e[e.F_SERIF=1]="F_SERIF",e[e.F_MONOSPACE=2]="F_MONOSPACE"})(u0||(u0={}));function Lu(e){let o=e.getComponentOrNull("composite::root");return o||e.defineComponent("composite::root",{src:oe.String,entities:oe.Array(oe.Map({src:oe.Entity,dest:oe.Entity}))})}var Vb="/";function Wb(e,o=!1){let c="",t=0,r=-1,n=0,s;for(let a=0;a<=e.length;++a){if(a<e.length)s=e.charCodeAt(a);else{if(s===47)break;s=47}if(s===47){if(!(r===a-1||n===1))if(r!==a-1&&n===2){if(c.length<2||t!==2||c.charCodeAt(c.length-1)!==46||c.charCodeAt(c.length-2)!==46){if(c.length>2){let i=c.lastIndexOf("/");if(i!==c.length-1){i===-1?(c="",t=0):(c=c.slice(0,i),t=c.length-1-c.lastIndexOf("/")),r=a,n=0;continue}}else if(c.length===2||c.length===1){c="",t=0,r=a,n=0;continue}}o&&(c.length>0?c+="/..":c="..",t=2)}else c.length>0?c+="/"+e.slice(r+1,a):c=e.slice(r+1,a),t=a-r-1;r=a,n=0}else s===46&&n!==-1?++n:n=-1}return c}function us(...e){let o="",c=!1,t;for(let r=e.length-1;r>=-1&&!c;r--){let n;r>=0?n=e[r]:(t===void 0&&(t=Vb),n=t),n.length!==0&&(o=n+"/"+o,c=n.charCodeAt(0)===47)}return o=Wb(o,!c),c?o.length>0?"/"+o:"/":o.length>0?o:"."}function d0(e){if(e.length===0)return".";let o=e.charCodeAt(0),c=o===47,t=-1,r=!0;for(let n=e.length-1;n>=1;--n)if(o=e.charCodeAt(n),o===47){if(!r){t=n;break}}else r=!1;return t===-1?c?"/":".":c&&t===1?"//":e.slice(0,t)}function ds(e,o){return(e.startsWith(".")?us(o,e):us(e)).substring(1)}var Wr;(function(e){e[e.EMM_NONE=0]="EMM_NONE",e[e.EMM_NEXT_AVAILABLE=1]="EMM_NEXT_AVAILABLE",e[e.EMM_DIRECT_MAPPING=2]="EMM_DIRECT_MAPPING"})(Wr||(Wr={}));function l0(e,o){return o.data?.$case==="json"?o.data.json:e.schema.deserialize(new Ce(o.data?.binary))}function Gb(e,o){let c=e.getComponentOrNull(o.name);if(c)return c;if(o.name.startsWith("core::")){if(o.name in gu)return gu[o.name](e);throw new Error(`The core component ${o.name} was not found.`)}else{if(o.jsonSchema)return e.defineComponentFromSchema(o.name,oe.fromJson(o.jsonSchema));throw new Error(`${o.name} is not defined and there is no schema to define it.`)}}function jb(e,o,c,{entityMapping:t}){let r=c.get(o);if(r)return r;if(t?.type===Wr.EMM_DIRECT_MAPPING){let s=t.getCompositeEntity(o);return c.set(o,s),s}let n=t?.type===Wr.EMM_NEXT_AVAILABLE?t.getNextAvailableEntity():e.addEntity();if(n===null)throw new Error("There is no more entities to allocate");return c.set(o,n),n}function zu(e,o,c,t){let{rootEntity:r,alreadyRequestedSrc:n,entityMapping:s}=t,a=n||new Set,i=d0(us(o.src)),f=cn("core::Transform"),u=Lu(e),b=new Map,m=p=>jb(e,p,b,t),g=r??m(0);r&&b.set(0,r);let E=o.composite.components.find(p=>p.name===u.componentName);if(E)for(let[p,h]of E.data){let T=l0(u,h),I=ds(T.src,i),z=c.getCompositeOrNull(I),ne=m(p);if(z){if(a.has(z.src)||z.src===o.src)throw new Error(`Composite ${o.src} has a recursive instanciation while try to instance ${z.src}. Previous instances: ${a.toString()}`);zu(e,z,c,{rootEntity:ne,alreadyRequestedSrc:new Set(a).add(z.src),entityMapping:s?.type===Wr.EMM_NEXT_AVAILABLE?s:void 0})}}for(let p of o.composite.components){if(p.name===u.componentName)continue;let h=Gb(e,p);for(let[T,I]of p.data){let z=l0(h,I),ne=m(T),V=h.create(ne,z);if(h.componentId===f){let W=V;W.parent?W.parent=m(W.parent):W.parent=m(0)}else oe.mutateNestedValues(h.schema.jsonSchema,V,(W,X)=>X.serializationType==="entity"?{changed:!0,value:m(W)}:{changed:!1})}}let d=u.getMutableOrNull(g)||u.create(g);for(let[p,h]of b)d.entities.push({src:p,dest:h});return d.src=o.src,g}var jt=Y(J());var Gt=Y(J());var p0;(function(e){e[e.NULL_VALUE=0]="NULL_VALUE"})(p0||(p0={}));function $b(e){switch(e){case 0:case"NULL_VALUE":return 0;default:throw new y0.Error("Unrecognized enum value "+e+" for enum NullValue")}}function Yb(e){switch(e){case 0:return"NULL_VALUE";default:throw new y0.Error("Unrecognized enum value "+e+" for enum NullValue")}}function m0(){return{fields:new Map}}var Hr;(function(e){function o(a,i=Gt.default.Writer.create()){return a.fields.forEach((f,u)=>{f!==void 0&&ls.encode({key:u,value:f},i.uint32(10).fork()).ldelim()}),i}e.encode=o;function c(a,i){let f=a instanceof Gt.default.Reader?a:Gt.default.Reader.create(a),u=i===void 0?f.len:f.pos+i,b=m0();for(;f.pos<u;){let m=f.uint32();switch(m>>>3){case 1:if(m!==10)break;let g=ls.decode(f,f.uint32());g.value!==void 0&&b.fields.set(g.key,g.value);continue}if((m&7)===4||m===0)break;f.skipType(m&7)}return b}e.decode=c;function t(a){return{fields:Jb(a.fields)?Object.entries(a.fields).reduce((i,[f,u])=>(i.set(f,u),i),new Map):new Map}}e.fromJSON=t;function r(a){let i={};return i.fields={},a.fields&&a.fields.forEach((f,u)=>{i.fields[u]=f}),i}e.toJSON=r;function n(a){let i=m0();return a!==void 0&&Object.keys(a).forEach(f=>{i.fields.set(f,a[f])}),i}e.wrap=n;function s(a){let i={};return[...a.fields.keys()].forEach(f=>{i[f]=a.fields.get(f)}),i}e.unwrap=s})(Hr||(Hr={}));function qb(){return{key:"",value:void 0}}var ls;(function(e){function o(n,s=Gt.default.Writer.create()){return n.key!==""&&s.uint32(10).string(n.key),n.value!==void 0&&dt.encode(dt.wrap(n.value),s.uint32(18).fork()).ldelim(),s}e.encode=o;function c(n,s){let a=n instanceof Gt.default.Reader?n:Gt.default.Reader.create(n),i=s===void 0?a.len:a.pos+s,f=qb();for(;a.pos<i;){let u=a.uint32();switch(u>>>3){case 1:if(u!==10)break;f.key=a.string();continue;case 2:if(u!==18)break;f.value=dt.unwrap(dt.decode(a,a.uint32()));continue}if((u&7)===4||u===0)break;a.skipType(u&7)}return f}e.decode=c;function t(n){return{key:ro(n.key)?String(n.key):"",value:ro(n?.value)?n.value:void 0}}e.fromJSON=t;function r(n){let s={};return n.key!==void 0&&(s.key=n.key),n.value!==void 0&&(s.value=n.value),s}e.toJSON=r})(ls||(ls={}));function h0(){return{kind:void 0}}var dt;(function(e){function o(a,i=Gt.default.Writer.create()){switch(a.kind?.$case){case"nullValue":i.uint32(8).int32(a.kind.nullValue);break;case"numberValue":i.uint32(17).double(a.kind.numberValue);break;case"stringValue":i.uint32(26).string(a.kind.stringValue);break;case"boolValue":i.uint32(32).bool(a.kind.boolValue);break;case"structValue":Hr.encode(Hr.wrap(a.kind.structValue),i.uint32(42).fork()).ldelim();break;case"listValue":Gr.encode(Gr.wrap(a.kind.listValue),i.uint32(50).fork()).ldelim();break}return i}e.encode=o;function c(a,i){let f=a instanceof Gt.default.Reader?a:Gt.default.Reader.create(a),u=i===void 0?f.len:f.pos+i,b=h0();for(;f.pos<u;){let m=f.uint32();switch(m>>>3){case 1:if(m!==8)break;b.kind={$case:"nullValue",nullValue:f.int32()};continue;case 2:if(m!==17)break;b.kind={$case:"numberValue",numberValue:f.double()};continue;case 3:if(m!==26)break;b.kind={$case:"stringValue",stringValue:f.string()};continue;case 4:if(m!==32)break;b.kind={$case:"boolValue",boolValue:f.bool()};continue;case 5:if(m!==42)break;b.kind={$case:"structValue",structValue:Hr.unwrap(Hr.decode(f,f.uint32()))};continue;case 6:if(m!==50)break;b.kind={$case:"listValue",listValue:Gr.unwrap(Gr.decode(f,f.uint32()))};continue}if((m&7)===4||m===0)break;f.skipType(m&7)}return b}e.decode=c;function t(a){return{kind:ro(a.nullValue)?{$case:"nullValue",nullValue:$b(a.nullValue)}:ro(a.numberValue)?{$case:"numberValue",numberValue:Number(a.numberValue)}:ro(a.stringValue)?{$case:"stringValue",stringValue:String(a.stringValue)}:ro(a.boolValue)?{$case:"boolValue",boolValue:!!a.boolValue}:ro(a.structValue)?{$case:"structValue",structValue:a.structValue}:ro(a.listValue)?{$case:"listValue",listValue:[...a.listValue]}:void 0}}e.fromJSON=t;function r(a){let i={};return a.kind?.$case==="nullValue"&&(i.nullValue=a.kind?.nullValue!==void 0?Yb(a.kind?.nullValue):void 0),a.kind?.$case==="numberValue"&&(i.numberValue=a.kind?.numberValue),a.kind?.$case==="stringValue"&&(i.stringValue=a.kind?.stringValue),a.kind?.$case==="boolValue"&&(i.boolValue=a.kind?.boolValue),a.kind?.$case==="structValue"&&(i.structValue=a.kind?.structValue),a.kind?.$case==="listValue"&&(i.listValue=a.kind?.listValue),i}e.toJSON=r;function n(a){let i=h0();if(a===null)i.kind={$case:"nullValue",nullValue:0};else if(typeof a=="boolean")i.kind={$case:"boolValue",boolValue:a};else if(typeof a=="number")i.kind={$case:"numberValue",numberValue:a};else if(typeof a=="string")i.kind={$case:"stringValue",stringValue:a};else if(Array.isArray(a))i.kind={$case:"listValue",listValue:a};else if(typeof a=="object")i.kind={$case:"structValue",structValue:a};else if(typeof a<"u")throw new Error("Unsupported any value type: "+typeof a);return i}e.wrap=n;function s(a){return a.kind?.$case==="nullValue"?null:a.kind?.$case==="numberValue"?a.kind?.numberValue:a.kind?.$case==="stringValue"?a.kind?.stringValue:a.kind?.$case==="boolValue"?a.kind?.boolValue:a.kind?.$case==="structValue"?a.kind?.structValue:a.kind?.$case==="listValue"?a.kind?.listValue:void 0}e.unwrap=s})(dt||(dt={}));function E0(){return{values:[]}}var Gr;(function(e){function o(a,i=Gt.default.Writer.create()){for(let f of a.values)dt.encode(dt.wrap(f),i.uint32(10).fork()).ldelim();return i}e.encode=o;function c(a,i){let f=a instanceof Gt.default.Reader?a:Gt.default.Reader.create(a),u=i===void 0?f.len:f.pos+i,b=E0();for(;f.pos<u;){let m=f.uint32();switch(m>>>3){case 1:if(m!==10)break;b.values.push(dt.unwrap(dt.decode(f,f.uint32())));continue}if((m&7)===4||m===0)break;f.skipType(m&7)}return b}e.decode=c;function t(a){return{values:Array.isArray(a?.values)?[...a.values]:[]}}e.fromJSON=t;function r(a){let i={};return a.values?i.values=a.values.map(f=>f):i.values=[],i}e.toJSON=r;function n(a){let i=E0();return i.values=a??[],i}e.wrap=n;function s(a){return a?.hasOwnProperty("values")&&Array.isArray(a.values)?a.values:a}e.unwrap=s})(Gr||(Gr={}));var y0=(()=>{if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof global<"u")return global;throw"Unable to locate global object"})();function Jb(e){return typeof e=="object"&&e!==null}function ro(e){return e!=null}function Xb(){return{data:void 0}}var io;(function(e){function o(n,s=jt.default.Writer.create()){switch(n.data?.$case){case"json":dt.encode(dt.wrap(n.data.json),s.uint32(10).fork()).ldelim();break;case"binary":s.uint32(18).bytes(n.data.binary);break}return s}e.encode=o;function c(n,s){let a=n instanceof jt.default.Reader?n:jt.default.Reader.create(n),i=s===void 0?a.len:a.pos+s,f=Xb();for(;a.pos<i;){let u=a.uint32();switch(u>>>3){case 1:if(u!==10)break;f.data={$case:"json",json:dt.unwrap(dt.decode(a,a.uint32()))};continue;case 2:if(u!==18)break;f.data={$case:"binary",binary:a.bytes()};continue}if((u&7)===4||u===0)break;a.skipType(u&7)}return f}e.decode=c;function t(n){return{data:zo(n.json)?{$case:"json",json:n.json}:zo(n.binary)?{$case:"binary",binary:e3(n.binary)}:void 0}}e.fromJSON=t;function r(n){let s={};return n.data?.$case==="json"&&(s.json=n.data?.json),n.data?.$case==="binary"&&(s.binary=n.data?.binary!==void 0?t3(n.data?.binary):void 0),s}e.toJSON=r})(io||(io={}));function Kb(){return{name:"",jsonSchema:void 0,data:new Map}}var jr;(function(e){function o(n,s=jt.default.Writer.create()){return n.name!==""&&s.uint32(10).string(n.name),n.jsonSchema!==void 0&&dt.encode(dt.wrap(n.jsonSchema),s.uint32(18).fork()).ldelim(),n.data.forEach((a,i)=>{ps.encode({key:i,value:a},s.uint32(26).fork()).ldelim()}),s}e.encode=o;function c(n,s){let a=n instanceof jt.default.Reader?n:jt.default.Reader.create(n),i=s===void 0?a.len:a.pos+s,f=Kb();for(;a.pos<i;){let u=a.uint32();switch(u>>>3){case 1:if(u!==10)break;f.name=a.string();continue;case 2:if(u!==18)break;f.jsonSchema=dt.unwrap(dt.decode(a,a.uint32()));continue;case 3:if(u!==26)break;let b=ps.decode(a,a.uint32());b.value!==void 0&&f.data.set(b.key,b.value);continue}if((u&7)===4||u===0)break;a.skipType(u&7)}return f}e.decode=c;function t(n){return{name:zo(n.name)?String(n.name):"",jsonSchema:zo(n?.jsonSchema)?n.jsonSchema:void 0,data:n3(n.data)?Object.entries(n.data).reduce((s,[a,i])=>(s.set(Number(a),io.fromJSON(i)),s),new Map):new Map}}e.fromJSON=t;function r(n){let s={};return n.name!==void 0&&(s.name=n.name),n.jsonSchema!==void 0&&(s.jsonSchema=n.jsonSchema),s.data={},n.data&&n.data.forEach((a,i)=>{s.data[i]=io.toJSON(a)}),s}e.toJSON=r})(jr||(jr={}));function Qb(){return{key:0,value:void 0}}var ps;(function(e){function o(n,s=jt.default.Writer.create()){return n.key!==0&&s.uint32(8).int32(n.key),n.value!==void 0&&io.encode(n.value,s.uint32(18).fork()).ldelim(),s}e.encode=o;function c(n,s){let a=n instanceof jt.default.Reader?n:jt.default.Reader.create(n),i=s===void 0?a.len:a.pos+s,f=Qb();for(;a.pos<i;){let u=a.uint32();switch(u>>>3){case 1:if(u!==8)break;f.key=a.int32();continue;case 2:if(u!==18)break;f.value=io.decode(a,a.uint32());continue}if((u&7)===4||u===0)break;a.skipType(u&7)}return f}e.decode=c;function t(n){return{key:zo(n.key)?Number(n.key):0,value:zo(n.value)?io.fromJSON(n.value):void 0}}e.fromJSON=t;function r(n){let s={};return n.key!==void 0&&(s.key=Math.round(n.key)),n.value!==void 0&&(s.value=n.value?io.toJSON(n.value):void 0),s}e.toJSON=r})(ps||(ps={}));function Zb(){return{version:0,components:[]}}var Lo;(function(e){function o(n,s=jt.default.Writer.create()){n.version!==0&&s.uint32(8).int32(n.version);for(let a of n.components)jr.encode(a,s.uint32(18).fork()).ldelim();return s}e.encode=o;function c(n,s){let a=n instanceof jt.default.Reader?n:jt.default.Reader.create(n),i=s===void 0?a.len:a.pos+s,f=Zb();for(;a.pos<i;){let u=a.uint32();switch(u>>>3){case 1:if(u!==8)break;f.version=a.int32();continue;case 2:if(u!==18)break;f.components.push(jr.decode(a,a.uint32()));continue}if((u&7)===4||u===0)break;a.skipType(u&7)}return f}e.decode=c;function t(n){return{version:zo(n.version)?Number(n.version):0,components:Array.isArray(n?.components)?n.components.map(s=>jr.fromJSON(s)):[]}}e.fromJSON=t;function r(n){let s={};return n.version!==void 0&&(s.version=Math.round(n.version)),n.components?s.components=n.components.map(a=>a?jr.toJSON(a):void 0):s.components=[],s}e.toJSON=r})(Lo||(Lo={}));var $r=(()=>{if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof global<"u")return global;throw"Unable to locate global object"})();function e3(e){if($r.Buffer)return Uint8Array.from($r.Buffer.from(e,"base64"));{let o=$r.atob(e),c=new Uint8Array(o.length);for(let t=0;t<o.length;++t)c[t]=o.charCodeAt(t);return c}}function t3(e){if($r.Buffer)return $r.Buffer.from(e).toString("base64");{let o=[];return e.forEach(c=>{o.push(String.fromCharCode(c))}),$r.btoa(o.join(""))}}function n3(e){return typeof e=="object"&&e!==null}function zo(e){return e!=null}var ao;(function(e){function o(a){return Lo.fromJSON(a)}e.fromJson=o;function c(a){return Lo.decode(a)}e.fromBinary=c;function t(a){return Lo.toJSON(a)}e.toJson=t;function r(a){return Lo.encode(a).finish()}e.toBinary=r;function n(a,i,f,u={}){zu(a,i,f,u)}e.instance=n;function s(a,i="/"){return ds(a,i)}e.resolveAndNormalizePath=s})(ao||(ao={}));var Oe=Bn(re),b0=Om(re),Ve=gm(re),Tn=wm(re),Fu=Im(re),pw=rs(re);var Yr=Cm(re),qr=is(re),T0=as(re);var Fo=Y(J());function o3(){return{states:[]}}var Jr;(function(e){function o(t,r=Fo.default.Writer.create()){for(let n of t.states)ms.encode(n,r.uint32(10).fork()).ldelim();return r}e.encode=o;function c(t,r){let n=t instanceof Fo.default.Reader?t:Fo.default.Reader.create(t),s=r===void 0?n.len:n.pos+r,a=o3();for(;n.pos<s;){let i=n.uint32();switch(i>>>3){case 1:if(i!==10)break;a.states.push(ms.decode(n,n.uint32()));continue}if((i&7)===4||i===0)break;n.skipType(i&7)}return a}e.decode=c})(Jr||(Jr={}));function r3(){return{clip:"",playing:void 0,weight:void 0,speed:void 0,loop:void 0,shouldReset:void 0}}var ms;(function(e){function o(t,r=Fo.default.Writer.create()){return t.clip!==""&&r.uint32(18).string(t.clip),t.playing!==void 0&&r.uint32(24).bool(t.playing),t.weight!==void 0&&r.uint32(37).float(t.weight),t.speed!==void 0&&r.uint32(45).float(t.speed),t.loop!==void 0&&r.uint32(48).bool(t.loop),t.shouldReset!==void 0&&r.uint32(56).bool(t.shouldReset),r}e.encode=o;function c(t,r){let n=t instanceof Fo.default.Reader?t:Fo.default.Reader.create(t),s=r===void 0?n.len:n.pos+r,a=r3();for(;n.pos<s;){let i=n.uint32();switch(i>>>3){case 2:if(i!==18)break;a.clip=n.string();continue;case 3:if(i!==24)break;a.playing=n.bool();continue;case 4:if(i!==37)break;a.weight=n.float();continue;case 5:if(i!==45)break;a.speed=n.float();continue;case 6:if(i!==48)break;a.loop=n.bool();continue;case 7:if(i!==56)break;a.shouldReset=n.bool();continue}if((i&7)===4||i===0)break;n.skipType(i&7)}return a}e.decode=c})(ms||(ms={}));var S0={COMPONENT_ID:1042,serialize(e,o){let c=Jr.encode(e),t=new Uint8Array(c.finish(),0,c.len);o.writeBuffer(t,!1)},deserialize(e){return Jr.decode(e.buffer(),e.remainingBytes())},create(){return Jr.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBAnimator"}};var hs=Y(J());function i3(){return{playing:void 0,volume:void 0,loop:void 0,pitch:void 0,audioClipUrl:""}}var Xr;(function(e){function o(t,r=hs.default.Writer.create()){return t.playing!==void 0&&r.uint32(8).bool(t.playing),t.volume!==void 0&&r.uint32(21).float(t.volume),t.loop!==void 0&&r.uint32(24).bool(t.loop),t.pitch!==void 0&&r.uint32(37).float(t.pitch),t.audioClipUrl!==""&&r.uint32(42).string(t.audioClipUrl),r}e.encode=o;function c(t,r){let n=t instanceof hs.default.Reader?t:hs.default.Reader.create(t),s=r===void 0?n.len:n.pos+r,a=i3();for(;n.pos<s;){let i=n.uint32();switch(i>>>3){case 1:if(i!==8)break;a.playing=n.bool();continue;case 2:if(i!==21)break;a.volume=n.float();continue;case 3:if(i!==24)break;a.loop=n.bool();continue;case 4:if(i!==37)break;a.pitch=n.float();continue;case 5:if(i!==42)break;a.audioClipUrl=n.string();continue}if((i&7)===4||i===0)break;n.skipType(i&7)}return a}e.decode=c})(Xr||(Xr={}));var _0={COMPONENT_ID:1020,serialize(e,o){let c=Xr.encode(e),t=new Uint8Array(c.finish(),0,c.len);o.writeBuffer(t,!1)},deserialize(e){return Xr.decode(e.buffer(),e.remainingBytes())},create(){return Xr.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBAudioSource"}};var Es=Y(J());function a3(){return{playing:void 0,volume:void 0,url:""}}var Kr;(function(e){function o(t,r=Es.default.Writer.create()){return t.playing!==void 0&&r.uint32(8).bool(t.playing),t.volume!==void 0&&r.uint32(21).float(t.volume),t.url!==""&&r.uint32(26).string(t.url),r}e.encode=o;function c(t,r){let n=t instanceof Es.default.Reader?t:Es.default.Reader.create(t),s=r===void 0?n.len:n.pos+r,a=a3();for(;n.pos<s;){let i=n.uint32();switch(i>>>3){case 1:if(i!==8)break;a.playing=n.bool();continue;case 2:if(i!==21)break;a.volume=n.float();continue;case 3:if(i!==26)break;a.url=n.string();continue}if((i&7)===4||i===0)break;n.skipType(i&7)}return a}e.decode=c})(Kr||(Kr={}));var x0={COMPONENT_ID:1021,serialize(e,o){let c=Kr.encode(e),t=new Uint8Array(c.finish(),0,c.len);o.writeBuffer(t,!1)},deserialize(e){return Kr.decode(e.buffer(),e.remainingBytes())},create(){return Kr.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBAudioStream"}};var ys=Y(J());var k0;(function(e){e[e.AAPT_POSITION=0]="AAPT_POSITION",e[e.AAPT_NAME_TAG=1]="AAPT_NAME_TAG",e[e.AAPT_LEFT_HAND=2]="AAPT_LEFT_HAND",e[e.AAPT_RIGHT_HAND=3]="AAPT_RIGHT_HAND"})(k0||(k0={}));function c3(){return{avatarId:void 0,anchorPointId:0}}var Qr;(function(e){function o(t,r=ys.default.Writer.create()){return t.avatarId!==void 0&&r.uint32(10).string(t.avatarId),t.anchorPointId!==0&&r.uint32(16).int32(t.anchorPointId),r}e.encode=o;function c(t,r){let n=t instanceof ys.default.Reader?t:ys.default.Reader.create(t),s=r===void 0?n.len:n.pos+r,a=c3();for(;n.pos<s;){let i=n.uint32();switch(i>>>3){case 1:if(i!==10)break;a.avatarId=n.string();continue;case 2:if(i!==16)break;a.anchorPointId=n.int32();continue}if((i&7)===4||i===0)break;n.skipType(i&7)}return a}e.decode=c})(Qr||(Qr={}));var R0={COMPONENT_ID:1073,serialize(e,o){let c=Qr.encode(e),t=new Uint8Array(c.finish(),0,c.len);o.writeBuffer(t,!1)},deserialize(e){return Qr.decode(e.buffer(),e.remainingBytes())},create(){return Qr.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBAvatarAttach"}};var bs=Y(J());var $t=Y(J());function s3(){return{x:0,y:0,z:0}}var A0;(function(e){function o(t,r=$t.default.Writer.create()){return t.x!==0&&r.uint32(13).float(t.x),t.y!==0&&r.uint32(21).float(t.y),t.z!==0&&r.uint32(29).float(t.z),r}e.encode=o;function c(t,r){let n=t instanceof $t.default.Reader?t:$t.default.Reader.create(t),s=r===void 0?n.len:n.pos+r,a=s3();for(;n.pos<s;){let i=n.uint32();switch(i>>>3){case 1:if(i!==13)break;a.x=n.float();continue;case 2:if(i!==21)break;a.y=n.float();continue;case 3:if(i!==29)break;a.z=n.float();continue}if((i&7)===4||i===0)break;n.skipType(i&7)}return a}e.decode=c})(A0||(A0={}));function f3(){return{x:0,y:0,z:0}}var _e;(function(e){function o(t,r=$t.default.Writer.create()){return t.x!==0&&r.uint32(13).float(t.x),t.y!==0&&r.uint32(21).float(t.y),t.z!==0&&r.uint32(29).float(t.z),r}e.encode=o;function c(t,r){let n=t instanceof $t.default.Reader?t:$t.default.Reader.create(t),s=r===void 0?n.len:n.pos+r,a=f3();for(;n.pos<s;){let i=n.uint32();switch(i>>>3){case 1:if(i!==13)break;a.x=n.float();continue;case 2:if(i!==21)break;a.y=n.float();continue;case 3:if(i!==29)break;a.z=n.float();continue}if((i&7)===4||i===0)break;n.skipType(i&7)}return a}e.decode=c})(_e||(_e={}));function u3(){return{x:0,y:0}}var N0;(function(e){function o(t,r=$t.default.Writer.create()){return t.x!==0&&r.uint32(13).float(t.x),t.y!==0&&r.uint32(21).float(t.y),r}e.encode=o;function c(t,r){let n=t instanceof $t.default.Reader?t:$t.default.Reader.create(t),s=r===void 0?n.len:n.pos+r,a=u3();for(;n.pos<s;){let i=n.uint32();switch(i>>>3){case 1:if(i!==13)break;a.x=n.float();continue;case 2:if(i!==21)break;a.y=n.float();continue}if((i&7)===4||i===0)break;n.skipType(i&7)}return a}e.decode=c})(N0||(N0={}));function d3(){return{x:0,y:0,z:0,w:0}}var Vo;(function(e){function o(t,r=$t.default.Writer.create()){return t.x!==0&&r.uint32(13).float(t.x),t.y!==0&&r.uint32(21).float(t.y),t.z!==0&&r.uint32(29).float(t.z),t.w!==0&&r.uint32(37).float(t.w),r}e.encode=o;function c(t,r){let n=t instanceof $t.default.Reader?t:$t.default.Reader.create(t),s=r===void 0?n.len:n.pos+r,a=d3();for(;n.pos<s;){let i=n.uint32();switch(i>>>3){case 1:if(i!==13)break;a.x=n.float();continue;case 2:if(i!==21)break;a.y=n.float();continue;case 3:if(i!==29)break;a.z=n.float();continue;case 4:if(i!==37)break;a.w=n.float();continue}if((i&7)===4||i===0)break;n.skipType(i&7)}return a}e.decode=c})(Vo||(Vo={}));var g0;(function(e){e[e.AMT_HIDE_AVATARS=0]="AMT_HIDE_AVATARS",e[e.AMT_DISABLE_PASSPORTS=1]="AMT_DISABLE_PASSPORTS"})(g0||(g0={}));function l3(){return{area:void 0,excludeIds:[],modifiers:[]}}var Zr;(function(e){function o(t,r=bs.default.Writer.create()){t.area!==void 0&&_e.encode(t.area,r.uint32(10).fork()).ldelim();for(let n of t.excludeIds)r.uint32(18).string(n);r.uint32(26).fork();for(let n of t.modifiers)r.int32(n);return r.ldelim(),r}e.encode=o;function c(t,r){let n=t instanceof bs.default.Reader?t:bs.default.Reader.create(t),s=r===void 0?n.len:n.pos+r,a=l3();for(;n.pos<s;){let i=n.uint32();switch(i>>>3){case 1:if(i!==10)break;a.area=_e.decode(n,n.uint32());continue;case 2:if(i!==18)break;a.excludeIds.push(n.string());continue;case 3:if(i===24){a.modifiers.push(n.int32());continue}if(i===26){let f=n.uint32()+n.pos;for(;n.pos<f;)a.modifiers.push(n.int32());continue}break}if((i&7)===4||i===0)break;n.skipType(i&7)}return a}e.decode=c})(Zr||(Zr={}));var O0={COMPONENT_ID:1070,serialize(e,o){let c=Zr.encode(e),t=new Uint8Array(c.finish(),0,c.len);o.writeBuffer(t,!1)},deserialize(e){return Zr.decode(e.buffer(),e.remainingBytes())},create(){return Zr.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBAvatarModifierArea"}};var Ho=Y(J());var Wo=Y(J());function p3(){return{r:0,g:0,b:0}}var Qe;(function(e){function o(t,r=Wo.default.Writer.create()){return t.r!==0&&r.uint32(13).float(t.r),t.g!==0&&r.uint32(21).float(t.g),t.b!==0&&r.uint32(29).float(t.b),r}e.encode=o;function c(t,r){let n=t instanceof Wo.default.Reader?t:Wo.default.Reader.create(t),s=r===void 0?n.len:n.pos+r,a=p3();for(;n.pos<s;){let i=n.uint32();switch(i>>>3){case 1:if(i!==13)break;a.r=n.float();continue;case 2:if(i!==21)break;a.g=n.float();continue;case 3:if(i!==29)break;a.b=n.float();continue}if((i&7)===4||i===0)break;n.skipType(i&7)}return a}e.decode=c})(Qe||(Qe={}));function m3(){return{r:0,g:0,b:0,a:0}}var Ye;(function(e){function o(t,r=Wo.default.Writer.create()){return t.r!==0&&r.uint32(13).float(t.r),t.g!==0&&r.uint32(21).float(t.g),t.b!==0&&r.uint32(29).float(t.b),t.a!==0&&r.uint32(37).float(t.a),r}e.encode=o;function c(t,r){let n=t instanceof Wo.default.Reader?t:Wo.default.Reader.create(t),s=r===void 0?n.len:n.pos+r,a=m3();for(;n.pos<s;){let i=n.uint32();switch(i>>>3){case 1:if(i!==13)break;a.r=n.float();continue;case 2:if(i!==21)break;a.g=n.float();continue;case 3:if(i!==29)break;a.b=n.float();continue;case 4:if(i!==37)break;a.a=n.float();continue}if((i&7)===4||i===0)break;n.skipType(i&7)}return a}e.decode=c})(Ye||(Ye={}));function h3(){return{id:"",name:void 0,bodyShape:void 0,skinColor:void 0,hairColor:void 0,eyeColor:void 0,expressionTriggerId:void 0,expressionTriggerTimestamp:void 0,talking:void 0,wearables:[],emotes:[]}}var ei;(function(e){function o(t,r=Ho.default.Writer.create()){t.id!==""&&r.uint32(10).string(t.id),t.name!==void 0&&r.uint32(18).string(t.name),t.bodyShape!==void 0&&r.uint32(26).string(t.bodyShape),t.skinColor!==void 0&&Qe.encode(t.skinColor,r.uint32(34).fork()).ldelim(),t.hairColor!==void 0&&Qe.encode(t.hairColor,r.uint32(42).fork()).ldelim(),t.eyeColor!==void 0&&Qe.encode(t.eyeColor,r.uint32(50).fork()).ldelim(),t.expressionTriggerId!==void 0&&r.uint32(58).string(t.expressionTriggerId),t.expressionTriggerTimestamp!==void 0&&r.uint32(64).int64(t.expressionTriggerTimestamp),t.talking!==void 0&&r.uint32(72).bool(t.talking);for(let n of t.wearables)r.uint32(82).string(n);for(let n of t.emotes)r.uint32(90).string(n);return r}e.encode=o;function c(t,r){let n=t instanceof Ho.default.Reader?t:Ho.default.Reader.create(t),s=r===void 0?n.len:n.pos+r,a=h3();for(;n.pos<s;){let i=n.uint32();switch(i>>>3){case 1:if(i!==10)break;a.id=n.string();continue;case 2:if(i!==18)break;a.name=n.string();continue;case 3:if(i!==26)break;a.bodyShape=n.string();continue;case 4:if(i!==34)break;a.skinColor=Qe.decode(n,n.uint32());continue;case 5:if(i!==42)break;a.hairColor=Qe.decode(n,n.uint32());continue;case 6:if(i!==50)break;a.eyeColor=Qe.decode(n,n.uint32());continue;case 7:if(i!==58)break;a.expressionTriggerId=n.string();continue;case 8:if(i!==64)break;a.expressionTriggerTimestamp=y3(n.int64());continue;case 9:if(i!==72)break;a.talking=n.bool();continue;case 10:if(i!==82)break;a.wearables.push(n.string());continue;case 11:if(i!==90)break;a.emotes.push(n.string());continue}if((i&7)===4||i===0)break;n.skipType(i&7)}return a}e.decode=c})(ei||(ei={}));var E3=(()=>{if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof global<"u")return global;throw"Unable to locate global object"})();function y3(e){if(e.gt(Number.MAX_SAFE_INTEGER))throw new E3.Error("Value is larger than Number.MAX_SAFE_INTEGER");return e.toNumber()}Ho.default.util.Long!==ar&&(Ho.default.util.Long=ar,Ho.default.configure());var w0={COMPONENT_ID:1080,serialize(e,o){let c=ei.encode(e),t=new Uint8Array(c.finish(),0,c.len);o.writeBuffer(t,!1)},deserialize(e){return ei.decode(e.buffer(),e.remainingBytes())},create(){return ei.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBAvatarShape"}};var Ts=Y(J());var I0;(function(e){e[e.BM_NONE=0]="BM_NONE",e[e.BM_X=1]="BM_X",e[e.BM_Y=2]="BM_Y",e[e.BM_Z=4]="BM_Z",e[e.BM_ALL=7]="BM_ALL"})(I0||(I0={}));function b3(){return{billboardMode:void 0}}var ti;(function(e){function o(t,r=Ts.default.Writer.create()){return t.billboardMode!==void 0&&r.uint32(8).int32(t.billboardMode),r}e.encode=o;function c(t,r){let n=t instanceof Ts.default.Reader?t:Ts.default.Reader.create(t),s=r===void 0?n.len:n.pos+r,a=b3();for(;n.pos<s;){let i=n.uint32();switch(i>>>3){case 1:if(i!==8)break;a.billboardMode=n.int32();continue}if((i&7)===4||i===0)break;n.skipType(i&7)}return a}e.decode=c})(ti||(ti={}));var C0={COMPONENT_ID:1090,serialize(e,o){let c=ti.encode(e),t=new Uint8Array(c.finish(),0,c.len);o.writeBuffer(t,!1)},deserialize(e){return ti.decode(e.buffer(),e.remainingBytes())},create(){return ti.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBBillboard"}};var Ss=Y(J());function T3(){return{mode:0}}var ni;(function(e){function o(t,r=Ss.default.Writer.create()){return t.mode!==0&&r.uint32(8).int32(t.mode),r}e.encode=o;function c(t,r){let n=t instanceof Ss.default.Reader?t:Ss.default.Reader.create(t),s=r===void 0?n.len:n.pos+r,a=T3();for(;n.pos<s;){let i=n.uint32();switch(i>>>3){case 1:if(i!==8)break;a.mode=n.int32();continue}if((i&7)===4||i===0)break;n.skipType(i&7)}return a}e.decode=c})(ni||(ni={}));var M0={COMPONENT_ID:1072,serialize(e,o){let c=ni.encode(e),t=new Uint8Array(c.finish(),0,c.len);o.writeBuffer(t,!1)},deserialize(e){return ni.decode(e.buffer(),e.remainingBytes())},create(){return ni.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBCameraMode"}};var _s=Y(J());function S3(){return{area:void 0,mode:0}}var oi;(function(e){function o(t,r=_s.default.Writer.create()){return t.area!==void 0&&_e.encode(t.area,r.uint32(10).fork()).ldelim(),t.mode!==0&&r.uint32(16).int32(t.mode),r}e.encode=o;function c(t,r){let n=t instanceof _s.default.Reader?t:_s.default.Reader.create(t),s=r===void 0?n.len:n.pos+r,a=S3();for(;n.pos<s;){let i=n.uint32();switch(i>>>3){case 1:if(i!==10)break;a.area=_e.decode(n,n.uint32());continue;case 2:if(i!==16)break;a.mode=n.int32();continue}if((i&7)===4||i===0)break;n.skipType(i&7)}return a}e.decode=c})(oi||(oi={}));var v0={COMPONENT_ID:1071,serialize(e,o){let c=oi.encode(e),t=new Uint8Array(c.finish(),0,c.len);o.writeBuffer(t,!1)},deserialize(e){return oi.decode(e.buffer(),e.remainingBytes())},create(){return oi.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBCameraModeArea"}};var xs=Y(J());function _3(){return{frameNumber:0,totalRuntime:0,tickNumber:0}}var ri;(function(e){function o(t,r=xs.default.Writer.create()){return t.frameNumber!==0&&r.uint32(8).uint32(t.frameNumber),t.totalRuntime!==0&&r.uint32(21).float(t.totalRuntime),t.tickNumber!==0&&r.uint32(24).uint32(t.tickNumber),r}e.encode=o;function c(t,r){let n=t instanceof xs.default.Reader?t:xs.default.Reader.create(t),s=r===void 0?n.len:n.pos+r,a=_3();for(;n.pos<s;){let i=n.uint32();switch(i>>>3){case 1:if(i!==8)break;a.frameNumber=n.uint32();continue;case 2:if(i!==21)break;a.totalRuntime=n.float();continue;case 3:if(i!==24)break;a.tickNumber=n.uint32();continue}if((i&7)===4||i===0)break;n.skipType(i&7)}return a}e.decode=c})(ri||(ri={}));var P0={COMPONENT_ID:1048,serialize(e,o){let c=ri.encode(e),t=new Uint8Array(c.finish(),0,c.len);o.writeBuffer(t,!1)},deserialize(e){return ri.decode(e.buffer(),e.remainingBytes())},create(){return ri.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBEngineInfo"}};var ks=Y(J());function x3(){return{src:"",visibleMeshesCollisionMask:void 0,invisibleMeshesCollisionMask:void 0}}var ii;(function(e){function o(t,r=ks.default.Writer.create()){return t.src!==""&&r.uint32(10).string(t.src),t.visibleMeshesCollisionMask!==void 0&&r.uint32(32).uint32(t.visibleMeshesCollisionMask),t.invisibleMeshesCollisionMask!==void 0&&r.uint32(40).uint32(t.invisibleMeshesCollisionMask),r}e.encode=o;function c(t,r){let n=t instanceof ks.default.Reader?t:ks.default.Reader.create(t),s=r===void 0?n.len:n.pos+r,a=x3();for(;n.pos<s;){let i=n.uint32();switch(i>>>3){case 1:if(i!==10)break;a.src=n.string();continue;case 4:if(i!==32)break;a.visibleMeshesCollisionMask=n.uint32();continue;case 5:if(i!==40)break;a.invisibleMeshesCollisionMask=n.uint32();continue}if((i&7)===4||i===0)break;n.skipType(i&7)}return a}e.decode=c})(ii||(ii={}));var U0={COMPONENT_ID:1041,serialize(e,o){let c=ii.encode(e),t=new Uint8Array(c.finish(),0,c.len);o.writeBuffer(t,!1)},deserialize(e){return ii.decode(e.buffer(),e.remainingBytes())},create(){return ii.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBGltfContainer"}};var Rs=Y(J());function k3(){return{currentState:0}}var ai;(function(e){function o(t,r=Rs.default.Writer.create()){return t.currentState!==0&&r.uint32(8).int32(t.currentState),r}e.encode=o;function c(t,r){let n=t instanceof Rs.default.Reader?t:Rs.default.Reader.create(t),s=r===void 0?n.len:n.pos+r,a=k3();for(;n.pos<s;){let i=n.uint32();switch(i>>>3){case 1:if(i!==8)break;a.currentState=n.int32();continue}if((i&7)===4||i===0)break;n.skipType(i&7)}return a}e.decode=c})(ai||(ai={}));var B0={COMPONENT_ID:1049,serialize(e,o){let c=ai.encode(e),t=new Uint8Array(c.finish(),0,c.len);o.writeBuffer(t,!1)},deserialize(e){return ai.decode(e.buffer(),e.remainingBytes())},create(){return ai.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBGltfContainerLoadingState"}};var gn=Y(J());var Yt=Y(J());var D0;(function(e){e[e.TWM_REPEAT=0]="TWM_REPEAT",e[e.TWM_CLAMP=1]="TWM_CLAMP",e[e.TWM_MIRROR=2]="TWM_MIRROR"})(D0||(D0={}));var L0;(function(e){e[e.TFM_POINT=0]="TFM_POINT",e[e.TFM_BILINEAR=1]="TFM_BILINEAR",e[e.TFM_TRILINEAR=2]="TFM_TRILINEAR"})(L0||(L0={}));function R3(){return{src:"",wrapMode:void 0,filterMode:void 0}}var As;(function(e){function o(t,r=Yt.default.Writer.create()){return t.src!==""&&r.uint32(10).string(t.src),t.wrapMode!==void 0&&r.uint32(16).int32(t.wrapMode),t.filterMode!==void 0&&r.uint32(24).int32(t.filterMode),r}e.encode=o;function c(t,r){let n=t instanceof Yt.default.Reader?t:Yt.default.Reader.create(t),s=r===void 0?n.len:n.pos+r,a=R3();for(;n.pos<s;){let i=n.uint32();switch(i>>>3){case 1:if(i!==10)break;a.src=n.string();continue;case 2:if(i!==16)break;a.wrapMode=n.int32();continue;case 3:if(i!==24)break;a.filterMode=n.int32();continue}if((i&7)===4||i===0)break;n.skipType(i&7)}return a}e.decode=c})(As||(As={}));function A3(){return{userId:"",wrapMode:void 0,filterMode:void 0}}var Ns;(function(e){function o(t,r=Yt.default.Writer.create()){return t.userId!==""&&r.uint32(10).string(t.userId),t.wrapMode!==void 0&&r.uint32(16).int32(t.wrapMode),t.filterMode!==void 0&&r.uint32(24).int32(t.filterMode),r}e.encode=o;function c(t,r){let n=t instanceof Yt.default.Reader?t:Yt.default.Reader.create(t),s=r===void 0?n.len:n.pos+r,a=A3();for(;n.pos<s;){let i=n.uint32();switch(i>>>3){case 1:if(i!==10)break;a.userId=n.string();continue;case 2:if(i!==16)break;a.wrapMode=n.int32();continue;case 3:if(i!==24)break;a.filterMode=n.int32();continue}if((i&7)===4||i===0)break;n.skipType(i&7)}return a}e.decode=c})(Ns||(Ns={}));function N3(){return{videoPlayerEntity:0,wrapMode:void 0,filterMode:void 0}}var gs;(function(e){function o(t,r=Yt.default.Writer.create()){return t.videoPlayerEntity!==0&&r.uint32(8).uint32(t.videoPlayerEntity),t.wrapMode!==void 0&&r.uint32(16).int32(t.wrapMode),t.filterMode!==void 0&&r.uint32(24).int32(t.filterMode),r}e.encode=o;function c(t,r){let n=t instanceof Yt.default.Reader?t:Yt.default.Reader.create(t),s=r===void 0?n.len:n.pos+r,a=N3();for(;n.pos<s;){let i=n.uint32();switch(i>>>3){case 1:if(i!==8)break;a.videoPlayerEntity=n.uint32();continue;case 2:if(i!==16)break;a.wrapMode=n.int32();continue;case 3:if(i!==24)break;a.filterMode=n.int32();continue}if((i&7)===4||i===0)break;n.skipType(i&7)}return a}e.decode=c})(gs||(gs={}));function g3(){return{tex:void 0}}var At;(function(e){function o(t,r=Yt.default.Writer.create()){switch(t.tex?.$case){case"texture":As.encode(t.tex.texture,r.uint32(10).fork()).ldelim();break;case"avatarTexture":Ns.encode(t.tex.avatarTexture,r.uint32(18).fork()).ldelim();break;case"videoTexture":gs.encode(t.tex.videoTexture,r.uint32(26).fork()).ldelim();break}return r}e.encode=o;function c(t,r){let n=t instanceof Yt.default.Reader?t:Yt.default.Reader.create(t),s=r===void 0?n.len:n.pos+r,a=g3();for(;n.pos<s;){let i=n.uint32();switch(i>>>3){case 1:if(i!==10)break;a.tex={$case:"texture",texture:As.decode(n,n.uint32())};continue;case 2:if(i!==18)break;a.tex={$case:"avatarTexture",avatarTexture:Ns.decode(n,n.uint32())};continue;case 3:if(i!==26)break;a.tex={$case:"videoTexture",videoTexture:gs.decode(n,n.uint32())};continue}if((i&7)===4||i===0)break;n.skipType(i&7)}return a}e.decode=c})(At||(At={}));var z0;(function(e){e[e.MTM_OPAQUE=0]="MTM_OPAQUE",e[e.MTM_ALPHA_TEST=1]="MTM_ALPHA_TEST",e[e.MTM_ALPHA_BLEND=2]="MTM_ALPHA_BLEND",e[e.MTM_ALPHA_TEST_AND_ALPHA_BLEND=3]="MTM_ALPHA_TEST_AND_ALPHA_BLEND",e[e.MTM_AUTO=4]="MTM_AUTO"})(z0||(z0={}));function O3(){return{material:void 0}}var ci;(function(e){function o(t,r=gn.default.Writer.create()){switch(t.material?.$case){case"unlit":Os.encode(t.material.unlit,r.uint32(10).fork()).ldelim();break;case"pbr":ws.encode(t.material.pbr,r.uint32(18).fork()).ldelim();break}return r}e.encode=o;function c(t,r){let n=t instanceof gn.default.Reader?t:gn.default.Reader.create(t),s=r===void 0?n.len:n.pos+r,a=O3();for(;n.pos<s;){let i=n.uint32();switch(i>>>3){case 1:if(i!==10)break;a.material={$case:"unlit",unlit:Os.decode(n,n.uint32())};continue;case 2:if(i!==18)break;a.material={$case:"pbr",pbr:ws.decode(n,n.uint32())};continue}if((i&7)===4||i===0)break;n.skipType(i&7)}return a}e.decode=c})(ci||(ci={}));function w3(){return{texture:void 0,alphaTest:void 0,castShadows:void 0,diffuseColor:void 0}}var Os;(function(e){function o(t,r=gn.default.Writer.create()){return t.texture!==void 0&&At.encode(t.texture,r.uint32(10).fork()).ldelim(),t.alphaTest!==void 0&&r.uint32(21).float(t.alphaTest),t.castShadows!==void 0&&r.uint32(24).bool(t.castShadows),t.diffuseColor!==void 0&&Ye.encode(t.diffuseColor,r.uint32(34).fork()).ldelim(),r}e.encode=o;function c(t,r){let n=t instanceof gn.default.Reader?t:gn.default.Reader.create(t),s=r===void 0?n.len:n.pos+r,a=w3();for(;n.pos<s;){let i=n.uint32();switch(i>>>3){case 1:if(i!==10)break;a.texture=At.decode(n,n.uint32());continue;case 2:if(i!==21)break;a.alphaTest=n.float();continue;case 3:if(i!==24)break;a.castShadows=n.bool();continue;case 4:if(i!==34)break;a.diffuseColor=Ye.decode(n,n.uint32());continue}if((i&7)===4||i===0)break;n.skipType(i&7)}return a}e.decode=c})(Os||(Os={}));function I3(){return{texture:void 0,alphaTest:void 0,castShadows:void 0,alphaTexture:void 0,emissiveTexture:void 0,bumpTexture:void 0,albedoColor:void 0,emissiveColor:void 0,reflectivityColor:void 0,transparencyMode:void 0,metallic:void 0,roughness:void 0,specularIntensity:void 0,emissiveIntensity:void 0,directIntensity:void 0}}var ws;(function(e){function o(t,r=gn.default.Writer.create()){return t.texture!==void 0&&At.encode(t.texture,r.uint32(10).fork()).ldelim(),t.alphaTest!==void 0&&r.uint32(21).float(t.alphaTest),t.castShadows!==void 0&&r.uint32(24).bool(t.castShadows),t.alphaTexture!==void 0&&At.encode(t.alphaTexture,r.uint32(34).fork()).ldelim(),t.emissiveTexture!==void 0&&At.encode(t.emissiveTexture,r.uint32(42).fork()).ldelim(),t.bumpTexture!==void 0&&At.encode(t.bumpTexture,r.uint32(50).fork()).ldelim(),t.albedoColor!==void 0&&Ye.encode(t.albedoColor,r.uint32(58).fork()).ldelim(),t.emissiveColor!==void 0&&Qe.encode(t.emissiveColor,r.uint32(66).fork()).ldelim(),t.reflectivityColor!==void 0&&Qe.encode(t.reflectivityColor,r.uint32(74).fork()).ldelim(),t.transparencyMode!==void 0&&r.uint32(80).int32(t.transparencyMode),t.metallic!==void 0&&r.uint32(93).float(t.metallic),t.roughness!==void 0&&r.uint32(101).float(t.roughness),t.specularIntensity!==void 0&&r.uint32(117).float(t.specularIntensity),t.emissiveIntensity!==void 0&&r.uint32(125).float(t.emissiveIntensity),t.directIntensity!==void 0&&r.uint32(133).float(t.directIntensity),r}e.encode=o;function c(t,r){let n=t instanceof gn.default.Reader?t:gn.default.Reader.create(t),s=r===void 0?n.len:n.pos+r,a=I3();for(;n.pos<s;){let i=n.uint32();switch(i>>>3){case 1:if(i!==10)break;a.texture=At.decode(n,n.uint32());continue;case 2:if(i!==21)break;a.alphaTest=n.float();continue;case 3:if(i!==24)break;a.castShadows=n.bool();continue;case 4:if(i!==34)break;a.alphaTexture=At.decode(n,n.uint32());continue;case 5:if(i!==42)break;a.emissiveTexture=At.decode(n,n.uint32());continue;case 6:if(i!==50)break;a.bumpTexture=At.decode(n,n.uint32());continue;case 7:if(i!==58)break;a.albedoColor=Ye.decode(n,n.uint32());continue;case 8:if(i!==66)break;a.emissiveColor=Qe.decode(n,n.uint32());continue;case 9:if(i!==74)break;a.reflectivityColor=Qe.decode(n,n.uint32());continue;case 10:if(i!==80)break;a.transparencyMode=n.int32();continue;case 11:if(i!==93)break;a.metallic=n.float();continue;case 12:if(i!==101)break;a.roughness=n.float();continue;case 14:if(i!==117)break;a.specularIntensity=n.float();continue;case 15:if(i!==125)break;a.emissiveIntensity=n.float();continue;case 16:if(i!==133)break;a.directIntensity=n.float();continue}if((i&7)===4||i===0)break;n.skipType(i&7)}return a}e.decode=c})(ws||(ws={}));var F0={COMPONENT_ID:1017,serialize(e,o){let c=ci.encode(e),t=new Uint8Array(c.finish(),0,c.len);o.writeBuffer(t,!1)},deserialize(e){return ci.decode(e.buffer(),e.remainingBytes())},create(){return ci.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBMaterial"}};var Nt=Y(J());var V0;(function(e){e[e.CL_NONE=0]="CL_NONE",e[e.CL_POINTER=1]="CL_POINTER",e[e.CL_PHYSICS=2]="CL_PHYSICS",e[e.CL_RESERVED1=4]="CL_RESERVED1",e[e.CL_RESERVED2=8]="CL_RESERVED2",e[e.CL_RESERVED3=16]="CL_RESERVED3",e[e.CL_RESERVED4=32]="CL_RESERVED4",e[e.CL_RESERVED5=64]="CL_RESERVED5",e[e.CL_RESERVED6=128]="CL_RESERVED6",e[e.CL_CUSTOM1=256]="CL_CUSTOM1",e[e.CL_CUSTOM2=512]="CL_CUSTOM2",e[e.CL_CUSTOM3=1024]="CL_CUSTOM3",e[e.CL_CUSTOM4=2048]="CL_CUSTOM4",e[e.CL_CUSTOM5=4096]="CL_CUSTOM5",e[e.CL_CUSTOM6=8192]="CL_CUSTOM6",e[e.CL_CUSTOM7=16384]="CL_CUSTOM7",e[e.CL_CUSTOM8=32768]="CL_CUSTOM8"})(V0||(V0={}));function C3(){return{collisionMask:void 0,mesh:void 0}}var si;(function(e){function o(t,r=Nt.default.Writer.create()){switch(t.collisionMask!==void 0&&r.uint32(8).uint32(t.collisionMask),t.mesh?.$case){case"box":Is.encode(t.mesh.box,r.uint32(18).fork()).ldelim();break;case"sphere":vs.encode(t.mesh.sphere,r.uint32(26).fork()).ldelim();break;case"cylinder":Cs.encode(t.mesh.cylinder,r.uint32(34).fork()).ldelim();break;case"plane":Ms.encode(t.mesh.plane,r.uint32(42).fork()).ldelim();break}return r}e.encode=o;function c(t,r){let n=t instanceof Nt.default.Reader?t:Nt.default.Reader.create(t),s=r===void 0?n.len:n.pos+r,a=C3();for(;n.pos<s;){let i=n.uint32();switch(i>>>3){case 1:if(i!==8)break;a.collisionMask=n.uint32();continue;case 2:if(i!==18)break;a.mesh={$case:"box",box:Is.decode(n,n.uint32())};continue;case 3:if(i!==26)break;a.mesh={$case:"sphere",sphere:vs.decode(n,n.uint32())};continue;case 4:if(i!==34)break;a.mesh={$case:"cylinder",cylinder:Cs.decode(n,n.uint32())};continue;case 5:if(i!==42)break;a.mesh={$case:"plane",plane:Ms.decode(n,n.uint32())};continue}if((i&7)===4||i===0)break;n.skipType(i&7)}return a}e.decode=c})(si||(si={}));function M3(){return{}}var Is;(function(e){function o(t,r=Nt.default.Writer.create()){return r}e.encode=o;function c(t,r){let n=t instanceof Nt.default.Reader?t:Nt.default.Reader.create(t),s=r===void 0?n.len:n.pos+r,a=M3();for(;n.pos<s;){let i=n.uint32();switch(i>>>3){}if((i&7)===4||i===0)break;n.skipType(i&7)}return a}e.decode=c})(Is||(Is={}));function v3(){return{radiusTop:void 0,radiusBottom:void 0}}var Cs;(function(e){function o(t,r=Nt.default.Writer.create()){return t.radiusTop!==void 0&&r.uint32(13).float(t.radiusTop),t.radiusBottom!==void 0&&r.uint32(21).float(t.radiusBottom),r}e.encode=o;function c(t,r){let n=t instanceof Nt.default.Reader?t:Nt.default.Reader.create(t),s=r===void 0?n.len:n.pos+r,a=v3();for(;n.pos<s;){let i=n.uint32();switch(i>>>3){case 1:if(i!==13)break;a.radiusTop=n.float();continue;case 2:if(i!==21)break;a.radiusBottom=n.float();continue}if((i&7)===4||i===0)break;n.skipType(i&7)}return a}e.decode=c})(Cs||(Cs={}));function P3(){return{}}var Ms;(function(e){function o(t,r=Nt.default.Writer.create()){return r}e.encode=o;function c(t,r){let n=t instanceof Nt.default.Reader?t:Nt.default.Reader.create(t),s=r===void 0?n.len:n.pos+r,a=P3();for(;n.pos<s;){let i=n.uint32();switch(i>>>3){}if((i&7)===4||i===0)break;n.skipType(i&7)}return a}e.decode=c})(Ms||(Ms={}));function U3(){return{}}var vs;(function(e){function o(t,r=Nt.default.Writer.create()){return r}e.encode=o;function c(t,r){let n=t instanceof Nt.default.Reader?t:Nt.default.Reader.create(t),s=r===void 0?n.len:n.pos+r,a=U3();for(;n.pos<s;){let i=n.uint32();switch(i>>>3){}if((i&7)===4||i===0)break;n.skipType(i&7)}return a}e.decode=c})(vs||(vs={}));var W0={COMPONENT_ID:1019,serialize(e,o){let c=si.encode(e),t=new Uint8Array(c.finish(),0,c.len);o.writeBuffer(t,!1)},deserialize(e){return si.decode(e.buffer(),e.remainingBytes())},create(){return si.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBMeshCollider"}};var gt=Y(J());function B3(){return{mesh:void 0}}var fi;(function(e){function o(t,r=gt.default.Writer.create()){switch(t.mesh?.$case){case"box":Ps.encode(t.mesh.box,r.uint32(10).fork()).ldelim();break;case"sphere":Ds.encode(t.mesh.sphere,r.uint32(18).fork()).ldelim();break;case"cylinder":Us.encode(t.mesh.cylinder,r.uint32(26).fork()).ldelim();break;case"plane":Bs.encode(t.mesh.plane,r.uint32(34).fork()).ldelim();break}return r}e.encode=o;function c(t,r){let n=t instanceof gt.default.Reader?t:gt.default.Reader.create(t),s=r===void 0?n.len:n.pos+r,a=B3();for(;n.pos<s;){let i=n.uint32();switch(i>>>3){case 1:if(i!==10)break;a.mesh={$case:"box",box:Ps.decode(n,n.uint32())};continue;case 2:if(i!==18)break;a.mesh={$case:"sphere",sphere:Ds.decode(n,n.uint32())};continue;case 3:if(i!==26)break;a.mesh={$case:"cylinder",cylinder:Us.decode(n,n.uint32())};continue;case 4:if(i!==34)break;a.mesh={$case:"plane",plane:Bs.decode(n,n.uint32())};continue}if((i&7)===4||i===0)break;n.skipType(i&7)}return a}e.decode=c})(fi||(fi={}));function D3(){return{uvs:[]}}var Ps;(function(e){function o(t,r=gt.default.Writer.create()){r.uint32(10).fork();for(let n of t.uvs)r.float(n);return r.ldelim(),r}e.encode=o;function c(t,r){let n=t instanceof gt.default.Reader?t:gt.default.Reader.create(t),s=r===void 0?n.len:n.pos+r,a=D3();for(;n.pos<s;){let i=n.uint32();switch(i>>>3){case 1:if(i===13){a.uvs.push(n.float());continue}if(i===10){let f=n.uint32()+n.pos;for(;n.pos<f;)a.uvs.push(n.float());continue}break}if((i&7)===4||i===0)break;n.skipType(i&7)}return a}e.decode=c})(Ps||(Ps={}));function L3(){return{radiusTop:void 0,radiusBottom:void 0}}var Us;(function(e){function o(t,r=gt.default.Writer.create()){return t.radiusTop!==void 0&&r.uint32(13).float(t.radiusTop),t.radiusBottom!==void 0&&r.uint32(21).float(t.radiusBottom),r}e.encode=o;function c(t,r){let n=t instanceof gt.default.Reader?t:gt.default.Reader.create(t),s=r===void 0?n.len:n.pos+r,a=L3();for(;n.pos<s;){let i=n.uint32();switch(i>>>3){case 1:if(i!==13)break;a.radiusTop=n.float();continue;case 2:if(i!==21)break;a.radiusBottom=n.float();continue}if((i&7)===4||i===0)break;n.skipType(i&7)}return a}e.decode=c})(Us||(Us={}));function z3(){return{uvs:[]}}var Bs;(function(e){function o(t,r=gt.default.Writer.create()){r.uint32(10).fork();for(let n of t.uvs)r.float(n);return r.ldelim(),r}e.encode=o;function c(t,r){let n=t instanceof gt.default.Reader?t:gt.default.Reader.create(t),s=r===void 0?n.len:n.pos+r,a=z3();for(;n.pos<s;){let i=n.uint32();switch(i>>>3){case 1:if(i===13){a.uvs.push(n.float());continue}if(i===10){let f=n.uint32()+n.pos;for(;n.pos<f;)a.uvs.push(n.float());continue}break}if((i&7)===4||i===0)break;n.skipType(i&7)}return a}e.decode=c})(Bs||(Bs={}));function F3(){return{}}var Ds;(function(e){function o(t,r=gt.default.Writer.create()){return r}e.encode=o;function c(t,r){let n=t instanceof gt.default.Reader?t:gt.default.Reader.create(t),s=r===void 0?n.len:n.pos+r,a=F3();for(;n.pos<s;){let i=n.uint32();switch(i>>>3){}if((i&7)===4||i===0)break;n.skipType(i&7)}return a}e.decode=c})(Ds||(Ds={}));var H0={COMPONENT_ID:1018,serialize(e,o){let c=fi.encode(e),t=new Uint8Array(c.finish(),0,c.len);o.writeBuffer(t,!1)},deserialize(e){return fi.decode(e.buffer(),e.remainingBytes())},create(){return fi.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBMeshRenderer"}};var Ls=Y(J());var G0;(function(e){e[e.NFT_CLASSIC=0]="NFT_CLASSIC",e[e.NFT_BAROQUE_ORNAMENT=1]="NFT_BAROQUE_ORNAMENT",e[e.NFT_DIAMOND_ORNAMENT=2]="NFT_DIAMOND_ORNAMENT",e[e.NFT_MINIMAL_WIDE=3]="NFT_MINIMAL_WIDE",e[e.NFT_MINIMAL_GREY=4]="NFT_MINIMAL_GREY",e[e.NFT_BLOCKY=5]="NFT_BLOCKY",e[e.NFT_GOLD_EDGES=6]="NFT_GOLD_EDGES",e[e.NFT_GOLD_CARVED=7]="NFT_GOLD_CARVED",e[e.NFT_GOLD_WIDE=8]="NFT_GOLD_WIDE",e[e.NFT_GOLD_ROUNDED=9]="NFT_GOLD_ROUNDED",e[e.NFT_METAL_MEDIUM=10]="NFT_METAL_MEDIUM",e[e.NFT_METAL_WIDE=11]="NFT_METAL_WIDE",e[e.NFT_METAL_SLIM=12]="NFT_METAL_SLIM",e[e.NFT_METAL_ROUNDED=13]="NFT_METAL_ROUNDED",e[e.NFT_PINS=14]="NFT_PINS",e[e.NFT_MINIMAL_BLACK=15]="NFT_MINIMAL_BLACK",e[e.NFT_MINIMAL_WHITE=16]="NFT_MINIMAL_WHITE",e[e.NFT_TAPE=17]="NFT_TAPE",e[e.NFT_WOOD_SLIM=18]="NFT_WOOD_SLIM",e[e.NFT_WOOD_WIDE=19]="NFT_WOOD_WIDE",e[e.NFT_WOOD_TWIGS=20]="NFT_WOOD_TWIGS",e[e.NFT_CANVAS=21]="NFT_CANVAS",e[e.NFT_NONE=22]="NFT_NONE"})(G0||(G0={}));function V3(){return{urn:"",style:void 0,color:void 0}}var ui;(function(e){function o(t,r=Ls.default.Writer.create()){return t.urn!==""&&r.uint32(10).string(t.urn),t.style!==void 0&&r.uint32(16).int32(t.style),t.color!==void 0&&Qe.encode(t.color,r.uint32(26).fork()).ldelim(),r}e.encode=o;function c(t,r){let n=t instanceof Ls.default.Reader?t:Ls.default.Reader.create(t),s=r===void 0?n.len:n.pos+r,a=V3();for(;n.pos<s;){let i=n.uint32();switch(i>>>3){case 1:if(i!==10)break;a.urn=n.string();continue;case 2:if(i!==16)break;a.style=n.int32();continue;case 3:if(i!==26)break;a.color=Qe.decode(n,n.uint32());continue}if((i&7)===4||i===0)break;n.skipType(i&7)}return a}e.decode=c})(ui||(ui={}));var j0={COMPONENT_ID:1040,serialize(e,o){let c=ui.encode(e),t=new Uint8Array(c.finish(),0,c.len);o.writeBuffer(t,!1)},deserialize(e){return ui.decode(e.buffer(),e.remainingBytes())},create(){return ui.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBNftShape"}};var On=Y(J());function W3(){return{pointerEvents:[]}}var di;(function(e){function o(t,r=On.default.Writer.create()){for(let n of t.pointerEvents)Fs.encode(n,r.uint32(10).fork()).ldelim();return r}e.encode=o;function c(t,r){let n=t instanceof On.default.Reader?t:On.default.Reader.create(t),s=r===void 0?n.len:n.pos+r,a=W3();for(;n.pos<s;){let i=n.uint32();switch(i>>>3){case 1:if(i!==10)break;a.pointerEvents.push(Fs.decode(n,n.uint32()));continue}if((i&7)===4||i===0)break;n.skipType(i&7)}return a}e.decode=c})(di||(di={}));function H3(){return{button:void 0,hoverText:void 0,maxDistance:void 0,showFeedback:void 0}}var zs;(function(e){function o(t,r=On.default.Writer.create()){return t.button!==void 0&&r.uint32(8).int32(t.button),t.hoverText!==void 0&&r.uint32(18).string(t.hoverText),t.maxDistance!==void 0&&r.uint32(29).float(t.maxDistance),t.showFeedback!==void 0&&r.uint32(32).bool(t.showFeedback),r}e.encode=o;function c(t,r){let n=t instanceof On.default.Reader?t:On.default.Reader.create(t),s=r===void 0?n.len:n.pos+r,a=H3();for(;n.pos<s;){let i=n.uint32();switch(i>>>3){case 1:if(i!==8)break;a.button=n.int32();continue;case 2:if(i!==18)break;a.hoverText=n.string();continue;case 3:if(i!==29)break;a.maxDistance=n.float();continue;case 4:if(i!==32)break;a.showFeedback=n.bool();continue}if((i&7)===4||i===0)break;n.skipType(i&7)}return a}e.decode=c})(zs||(zs={}));function G3(){return{eventType:0,eventInfo:void 0}}var Fs;(function(e){function o(t,r=On.default.Writer.create()){return t.eventType!==0&&r.uint32(8).int32(t.eventType),t.eventInfo!==void 0&&zs.encode(t.eventInfo,r.uint32(18).fork()).ldelim(),r}e.encode=o;function c(t,r){let n=t instanceof On.default.Reader?t:On.default.Reader.create(t),s=r===void 0?n.len:n.pos+r,a=G3();for(;n.pos<s;){let i=n.uint32();switch(i>>>3){case 1:if(i!==8)break;a.eventType=n.int32();continue;case 2:if(i!==18)break;a.eventInfo=zs.decode(n,n.uint32());continue}if((i&7)===4||i===0)break;n.skipType(i&7)}return a}e.decode=c})(Fs||(Fs={}));var $0={COMPONENT_ID:1062,serialize(e,o){let c=di.encode(e),t=new Uint8Array(c.finish(),0,c.len);o.writeBuffer(t,!1)},deserialize(e){return di.decode(e.buffer(),e.remainingBytes())},create(){return di.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBPointerEvents"}};var Ws=Y(J());var Vs=Y(J());function j3(){return{position:void 0,globalOrigin:void 0,direction:void 0,normalHit:void 0,length:0,meshName:void 0,entityId:void 0}}var co;(function(e){function o(t,r=Vs.default.Writer.create()){return t.position!==void 0&&_e.encode(t.position,r.uint32(10).fork()).ldelim(),t.globalOrigin!==void 0&&_e.encode(t.globalOrigin,r.uint32(18).fork()).ldelim(),t.direction!==void 0&&_e.encode(t.direction,r.uint32(26).fork()).ldelim(),t.normalHit!==void 0&&_e.encode(t.normalHit,r.uint32(34).fork()).ldelim(),t.length!==0&&r.uint32(45).float(t.length),t.meshName!==void 0&&r.uint32(50).string(t.meshName),t.entityId!==void 0&&r.uint32(56).uint32(t.entityId),r}e.encode=o;function c(t,r){let n=t instanceof Vs.default.Reader?t:Vs.default.Reader.create(t),s=r===void 0?n.len:n.pos+r,a=j3();for(;n.pos<s;){let i=n.uint32();switch(i>>>3){case 1:if(i!==10)break;a.position=_e.decode(n,n.uint32());continue;case 2:if(i!==18)break;a.globalOrigin=_e.decode(n,n.uint32());continue;case 3:if(i!==26)break;a.direction=_e.decode(n,n.uint32());continue;case 4:if(i!==34)break;a.normalHit=_e.decode(n,n.uint32());continue;case 5:if(i!==45)break;a.length=n.float();continue;case 6:if(i!==50)break;a.meshName=n.string();continue;case 7:if(i!==56)break;a.entityId=n.uint32();continue}if((i&7)===4||i===0)break;n.skipType(i&7)}return a}e.decode=c})(co||(co={}));function $3(){return{button:0,hit:void 0,state:0,timestamp:0,analog:void 0,tickNumber:0}}var li;(function(e){function o(t,r=Ws.default.Writer.create()){return t.button!==0&&r.uint32(8).int32(t.button),t.hit!==void 0&&co.encode(t.hit,r.uint32(18).fork()).ldelim(),t.state!==0&&r.uint32(32).int32(t.state),t.timestamp!==0&&r.uint32(40).uint32(t.timestamp),t.analog!==void 0&&r.uint32(53).float(t.analog),t.tickNumber!==0&&r.uint32(56).uint32(t.tickNumber),r}e.encode=o;function c(t,r){let n=t instanceof Ws.default.Reader?t:Ws.default.Reader.create(t),s=r===void 0?n.len:n.pos+r,a=$3();for(;n.pos<s;){let i=n.uint32();switch(i>>>3){case 1:if(i!==8)break;a.button=n.int32();continue;case 2:if(i!==18)break;a.hit=co.decode(n,n.uint32());continue;case 4:if(i!==32)break;a.state=n.int32();continue;case 5:if(i!==40)break;a.timestamp=n.uint32();continue;case 6:if(i!==53)break;a.analog=n.float();continue;case 7:if(i!==56)break;a.tickNumber=n.uint32();continue}if((i&7)===4||i===0)break;n.skipType(i&7)}return a}e.decode=c})(li||(li={}));var Y0={COMPONENT_ID:1063,serialize(e,o){let c=li.encode(e),t=new Uint8Array(c.finish(),0,c.len);o.writeBuffer(t,!1)},deserialize(e){return li.decode(e.buffer(),e.remainingBytes())},create(){return li.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBPointerEventsResult"}};var Hs=Y(J());function Y3(){return{isPointerLocked:!1}}var pi;(function(e){function o(t,r=Hs.default.Writer.create()){return t.isPointerLocked===!0&&r.uint32(8).bool(t.isPointerLocked),r}e.encode=o;function c(t,r){let n=t instanceof Hs.default.Reader?t:Hs.default.Reader.create(t),s=r===void 0?n.len:n.pos+r,a=Y3();for(;n.pos<s;){let i=n.uint32();switch(i>>>3){case 1:if(i!==8)break;a.isPointerLocked=n.bool();continue}if((i&7)===4||i===0)break;n.skipType(i&7)}return a}e.decode=c})(pi||(pi={}));var q0={COMPONENT_ID:1074,serialize(e,o){let c=pi.encode(e),t=new Uint8Array(c.finish(),0,c.len);o.writeBuffer(t,!1)},deserialize(e){return pi.decode(e.buffer(),e.remainingBytes())},create(){return pi.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBPointerLock"}};var Gs=Y(J());var J0;(function(e){e[e.RQT_HIT_FIRST=0]="RQT_HIT_FIRST",e[e.RQT_QUERY_ALL=1]="RQT_QUERY_ALL",e[e.RQT_NONE=2]="RQT_NONE"})(J0||(J0={}));function q3(){return{timestamp:void 0,originOffset:void 0,direction:void 0,maxDistance:0,queryType:0,continuous:void 0,collisionMask:void 0}}var mi;(function(e){function o(t,r=Gs.default.Writer.create()){switch(t.timestamp!==void 0&&r.uint32(8).uint32(t.timestamp),t.originOffset!==void 0&&_e.encode(t.originOffset,r.uint32(18).fork()).ldelim(),t.direction?.$case){case"localDirection":_e.encode(t.direction.localDirection,r.uint32(50).fork()).ldelim();break;case"globalDirection":_e.encode(t.direction.globalDirection,r.uint32(26).fork()).ldelim();break;case"globalTarget":_e.encode(t.direction.globalTarget,r.uint32(58).fork()).ldelim();break;case"targetEntity":r.uint32(80).uint32(t.direction.targetEntity);break}return t.maxDistance!==0&&r.uint32(37).float(t.maxDistance),t.queryType!==0&&r.uint32(40).int32(t.queryType),t.continuous!==void 0&&r.uint32(64).bool(t.continuous),t.collisionMask!==void 0&&r.uint32(72).uint32(t.collisionMask),r}e.encode=o;function c(t,r){let n=t instanceof Gs.default.Reader?t:Gs.default.Reader.create(t),s=r===void 0?n.len:n.pos+r,a=q3();for(;n.pos<s;){let i=n.uint32();switch(i>>>3){case 1:if(i!==8)break;a.timestamp=n.uint32();continue;case 2:if(i!==18)break;a.originOffset=_e.decode(n,n.uint32());continue;case 6:if(i!==50)break;a.direction={$case:"localDirection",localDirection:_e.decode(n,n.uint32())};continue;case 3:if(i!==26)break;a.direction={$case:"globalDirection",globalDirection:_e.decode(n,n.uint32())};continue;case 7:if(i!==58)break;a.direction={$case:"globalTarget",globalTarget:_e.decode(n,n.uint32())};continue;case 10:if(i!==80)break;a.direction={$case:"targetEntity",targetEntity:n.uint32()};continue;case 4:if(i!==37)break;a.maxDistance=n.float();continue;case 5:if(i!==40)break;a.queryType=n.int32();continue;case 8:if(i!==64)break;a.continuous=n.bool();continue;case 9:if(i!==72)break;a.collisionMask=n.uint32();continue}if((i&7)===4||i===0)break;n.skipType(i&7)}return a}e.decode=c})(mi||(mi={}));var X0={COMPONENT_ID:1067,serialize(e,o){let c=mi.encode(e),t=new Uint8Array(c.finish(),0,c.len);o.writeBuffer(t,!1)},deserialize(e){return mi.decode(e.buffer(),e.remainingBytes())},create(){return mi.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBRaycast"}};var js=Y(J());function J3(){return{timestamp:void 0,globalOrigin:void 0,direction:void 0,hits:[],tickNumber:0}}var hi;(function(e){function o(t,r=js.default.Writer.create()){t.timestamp!==void 0&&r.uint32(8).uint32(t.timestamp),t.globalOrigin!==void 0&&_e.encode(t.globalOrigin,r.uint32(18).fork()).ldelim(),t.direction!==void 0&&_e.encode(t.direction,r.uint32(26).fork()).ldelim();for(let n of t.hits)co.encode(n,r.uint32(34).fork()).ldelim();return t.tickNumber!==0&&r.uint32(40).uint32(t.tickNumber),r}e.encode=o;function c(t,r){let n=t instanceof js.default.Reader?t:js.default.Reader.create(t),s=r===void 0?n.len:n.pos+r,a=J3();for(;n.pos<s;){let i=n.uint32();switch(i>>>3){case 1:if(i!==8)break;a.timestamp=n.uint32();continue;case 2:if(i!==18)break;a.globalOrigin=_e.decode(n,n.uint32());continue;case 3:if(i!==26)break;a.direction=_e.decode(n,n.uint32());continue;case 4:if(i!==34)break;a.hits.push(co.decode(n,n.uint32()));continue;case 5:if(i!==40)break;a.tickNumber=n.uint32();continue}if((i&7)===4||i===0)break;n.skipType(i&7)}return a}e.decode=c})(hi||(hi={}));var K0={COMPONENT_ID:1068,serialize(e,o){let c=hi.encode(e),t=new Uint8Array(c.finish(),0,c.len);o.writeBuffer(t,!1)},deserialize(e){return hi.decode(e.buffer(),e.remainingBytes())},create(){return hi.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBRaycastResult"}};var $s=Y(J());function X3(){return{text:"",font:void 0,fontSize:void 0,fontAutoSize:void 0,textAlign:void 0,width:void 0,height:void 0,paddingTop:void 0,paddingRight:void 0,paddingBottom:void 0,paddingLeft:void 0,lineSpacing:void 0,lineCount:void 0,textWrapping:void 0,shadowBlur:void 0,shadowOffsetX:void 0,shadowOffsetY:void 0,outlineWidth:void 0,shadowColor:void 0,outlineColor:void 0,textColor:void 0}}var Ei;(function(e){function o(t,r=$s.default.Writer.create()){return t.text!==""&&r.uint32(10).string(t.text),t.font!==void 0&&r.uint32(16).int32(t.font),t.fontSize!==void 0&&r.uint32(29).float(t.fontSize),t.fontAutoSize!==void 0&&r.uint32(32).bool(t.fontAutoSize),t.textAlign!==void 0&&r.uint32(40).int32(t.textAlign),t.width!==void 0&&r.uint32(53).float(t.width),t.height!==void 0&&r.uint32(61).float(t.height),t.paddingTop!==void 0&&r.uint32(69).float(t.paddingTop),t.paddingRight!==void 0&&r.uint32(77).float(t.paddingRight),t.paddingBottom!==void 0&&r.uint32(85).float(t.paddingBottom),t.paddingLeft!==void 0&&r.uint32(93).float(t.paddingLeft),t.lineSpacing!==void 0&&r.uint32(101).float(t.lineSpacing),t.lineCount!==void 0&&r.uint32(104).int32(t.lineCount),t.textWrapping!==void 0&&r.uint32(112).bool(t.textWrapping),t.shadowBlur!==void 0&&r.uint32(125).float(t.shadowBlur),t.shadowOffsetX!==void 0&&r.uint32(133).float(t.shadowOffsetX),t.shadowOffsetY!==void 0&&r.uint32(141).float(t.shadowOffsetY),t.outlineWidth!==void 0&&r.uint32(149).float(t.outlineWidth),t.shadowColor!==void 0&&Qe.encode(t.shadowColor,r.uint32(154).fork()).ldelim(),t.outlineColor!==void 0&&Qe.encode(t.outlineColor,r.uint32(162).fork()).ldelim(),t.textColor!==void 0&&Ye.encode(t.textColor,r.uint32(170).fork()).ldelim(),r}e.encode=o;function c(t,r){let n=t instanceof $s.default.Reader?t:$s.default.Reader.create(t),s=r===void 0?n.len:n.pos+r,a=X3();for(;n.pos<s;){let i=n.uint32();switch(i>>>3){case 1:if(i!==10)break;a.text=n.string();continue;case 2:if(i!==16)break;a.font=n.int32();continue;case 3:if(i!==29)break;a.fontSize=n.float();continue;case 4:if(i!==32)break;a.fontAutoSize=n.bool();continue;case 5:if(i!==40)break;a.textAlign=n.int32();continue;case 6:if(i!==53)break;a.width=n.float();continue;case 7:if(i!==61)break;a.height=n.float();continue;case 8:if(i!==69)break;a.paddingTop=n.float();continue;case 9:if(i!==77)break;a.paddingRight=n.float();continue;case 10:if(i!==85)break;a.paddingBottom=n.float();continue;case 11:if(i!==93)break;a.paddingLeft=n.float();continue;case 12:if(i!==101)break;a.lineSpacing=n.float();continue;case 13:if(i!==104)break;a.lineCount=n.int32();continue;case 14:if(i!==112)break;a.textWrapping=n.bool();continue;case 15:if(i!==125)break;a.shadowBlur=n.float();continue;case 16:if(i!==133)break;a.shadowOffsetX=n.float();continue;case 17:if(i!==141)break;a.shadowOffsetY=n.float();continue;case 18:if(i!==149)break;a.outlineWidth=n.float();continue;case 19:if(i!==154)break;a.shadowColor=Qe.decode(n,n.uint32());continue;case 20:if(i!==162)break;a.outlineColor=Qe.decode(n,n.uint32());continue;case 21:if(i!==170)break;a.textColor=Ye.decode(n,n.uint32());continue}if((i&7)===4||i===0)break;n.skipType(i&7)}return a}e.decode=c})(Ei||(Ei={}));var Q0={COMPONENT_ID:1030,serialize(e,o){let c=Ei.encode(e),t=new Uint8Array(c.finish(),0,c.len);o.writeBuffer(t,!1)},deserialize(e){return Ei.decode(e.buffer(),e.remainingBytes())},create(){return Ei.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBTextShape"}};var qt=Y(J());var Z0;(function(e){e[e.EF_LINEAR=0]="EF_LINEAR",e[e.EF_EASEINQUAD=1]="EF_EASEINQUAD",e[e.EF_EASEOUTQUAD=2]="EF_EASEOUTQUAD",e[e.EF_EASEQUAD=3]="EF_EASEQUAD",e[e.EF_EASEINSINE=4]="EF_EASEINSINE",e[e.EF_EASEOUTSINE=5]="EF_EASEOUTSINE",e[e.EF_EASESINE=6]="EF_EASESINE",e[e.EF_EASEINEXPO=7]="EF_EASEINEXPO",e[e.EF_EASEOUTEXPO=8]="EF_EASEOUTEXPO",e[e.EF_EASEEXPO=9]="EF_EASEEXPO",e[e.EF_EASEINELASTIC=10]="EF_EASEINELASTIC",e[e.EF_EASEOUTELASTIC=11]="EF_EASEOUTELASTIC",e[e.EF_EASEELASTIC=12]="EF_EASEELASTIC",e[e.EF_EASEINBOUNCE=13]="EF_EASEINBOUNCE",e[e.EF_EASEOUTBOUNCE=14]="EF_EASEOUTBOUNCE",e[e.EF_EASEBOUNCE=15]="EF_EASEBOUNCE",e[e.EF_EASEINCUBIC=16]="EF_EASEINCUBIC",e[e.EF_EASEOUTCUBIC=17]="EF_EASEOUTCUBIC",e[e.EF_EASECUBIC=18]="EF_EASECUBIC",e[e.EF_EASEINQUART=19]="EF_EASEINQUART",e[e.EF_EASEOUTQUART=20]="EF_EASEOUTQUART",e[e.EF_EASEQUART=21]="EF_EASEQUART",e[e.EF_EASEINQUINT=22]="EF_EASEINQUINT",e[e.EF_EASEOUTQUINT=23]="EF_EASEOUTQUINT",e[e.EF_EASEQUINT=24]="EF_EASEQUINT",e[e.EF_EASEINCIRC=25]="EF_EASEINCIRC",e[e.EF_EASEOUTCIRC=26]="EF_EASEOUTCIRC",e[e.EF_EASECIRC=27]="EF_EASECIRC",e[e.EF_EASEINBACK=28]="EF_EASEINBACK",e[e.EF_EASEOUTBACK=29]="EF_EASEOUTBACK",e[e.EF_EASEBACK=30]="EF_EASEBACK"})(Z0||(Z0={}));function K3(){return{duration:0,easingFunction:0,mode:void 0,playing:void 0,currentTime:void 0}}var Fn;(function(e){function o(t,r=qt.default.Writer.create()){switch(t.duration!==0&&r.uint32(13).float(t.duration),t.easingFunction!==0&&r.uint32(16).int32(t.easingFunction),t.mode?.$case){case"move":Ys.encode(t.mode.move,r.uint32(26).fork()).ldelim();break;case"rotate":qs.encode(t.mode.rotate,r.uint32(34).fork()).ldelim();break;case"scale":Js.encode(t.mode.scale,r.uint32(42).fork()).ldelim();break}return t.playing!==void 0&&r.uint32(48).bool(t.playing),t.currentTime!==void 0&&r.uint32(61).float(t.currentTime),r}e.encode=o;function c(t,r){let n=t instanceof qt.default.Reader?t:qt.default.Reader.create(t),s=r===void 0?n.len:n.pos+r,a=K3();for(;n.pos<s;){let i=n.uint32();switch(i>>>3){case 1:if(i!==13)break;a.duration=n.float();continue;case 2:if(i!==16)break;a.easingFunction=n.int32();continue;case 3:if(i!==26)break;a.mode={$case:"move",move:Ys.decode(n,n.uint32())};continue;case 4:if(i!==34)break;a.mode={$case:"rotate",rotate:qs.decode(n,n.uint32())};continue;case 5:if(i!==42)break;a.mode={$case:"scale",scale:Js.decode(n,n.uint32())};continue;case 6:if(i!==48)break;a.playing=n.bool();continue;case 7:if(i!==61)break;a.currentTime=n.float();continue}if((i&7)===4||i===0)break;n.skipType(i&7)}return a}e.decode=c})(Fn||(Fn={}));function Q3(){return{start:void 0,end:void 0,faceDirection:void 0}}var Ys;(function(e){function o(t,r=qt.default.Writer.create()){return t.start!==void 0&&_e.encode(t.start,r.uint32(10).fork()).ldelim(),t.end!==void 0&&_e.encode(t.end,r.uint32(18).fork()).ldelim(),t.faceDirection!==void 0&&r.uint32(24).bool(t.faceDirection),r}e.encode=o;function c(t,r){let n=t instanceof qt.default.Reader?t:qt.default.Reader.create(t),s=r===void 0?n.len:n.pos+r,a=Q3();for(;n.pos<s;){let i=n.uint32();switch(i>>>3){case 1:if(i!==10)break;a.start=_e.decode(n,n.uint32());continue;case 2:if(i!==18)break;a.end=_e.decode(n,n.uint32());continue;case 3:if(i!==24)break;a.faceDirection=n.bool();continue}if((i&7)===4||i===0)break;n.skipType(i&7)}return a}e.decode=c})(Ys||(Ys={}));function Z3(){return{start:void 0,end:void 0}}var qs;(function(e){function o(t,r=qt.default.Writer.create()){return t.start!==void 0&&Vo.encode(t.start,r.uint32(10).fork()).ldelim(),t.end!==void 0&&Vo.encode(t.end,r.uint32(18).fork()).ldelim(),r}e.encode=o;function c(t,r){let n=t instanceof qt.default.Reader?t:qt.default.Reader.create(t),s=r===void 0?n.len:n.pos+r,a=Z3();for(;n.pos<s;){let i=n.uint32();switch(i>>>3){case 1:if(i!==10)break;a.start=Vo.decode(n,n.uint32());continue;case 2:if(i!==18)break;a.end=Vo.decode(n,n.uint32());continue}if((i&7)===4||i===0)break;n.skipType(i&7)}return a}e.decode=c})(qs||(qs={}));function e1(){return{start:void 0,end:void 0}}var Js;(function(e){function o(t,r=qt.default.Writer.create()){return t.start!==void 0&&_e.encode(t.start,r.uint32(10).fork()).ldelim(),t.end!==void 0&&_e.encode(t.end,r.uint32(18).fork()).ldelim(),r}e.encode=o;function c(t,r){let n=t instanceof qt.default.Reader?t:qt.default.Reader.create(t),s=r===void 0?n.len:n.pos+r,a=e1();for(;n.pos<s;){let i=n.uint32();switch(i>>>3){case 1:if(i!==10)break;a.start=_e.decode(n,n.uint32());continue;case 2:if(i!==18)break;a.end=_e.decode(n,n.uint32());continue}if((i&7)===4||i===0)break;n.skipType(i&7)}return a}e.decode=c})(Js||(Js={}));var eh={COMPONENT_ID:1102,serialize(e,o){let c=Fn.encode(e),t=new Uint8Array(c.finish(),0,c.len);o.writeBuffer(t,!1)},deserialize(e){return Fn.decode(e.buffer(),e.remainingBytes())},create(){return Fn.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBTween"}};var Xs=Y(J());var th;(function(e){e[e.TL_RESTART=0]="TL_RESTART",e[e.TL_YOYO=1]="TL_YOYO"})(th||(th={}));function t1(){return{sequence:[],loop:void 0}}var yi;(function(e){function o(t,r=Xs.default.Writer.create()){for(let n of t.sequence)Fn.encode(n,r.uint32(10).fork()).ldelim();return t.loop!==void 0&&r.uint32(16).int32(t.loop),r}e.encode=o;function c(t,r){let n=t instanceof Xs.default.Reader?t:Xs.default.Reader.create(t),s=r===void 0?n.len:n.pos+r,a=t1();for(;n.pos<s;){let i=n.uint32();switch(i>>>3){case 1:if(i!==10)break;a.sequence.push(Fn.decode(n,n.uint32()));continue;case 2:if(i!==16)break;a.loop=n.int32();continue}if((i&7)===4||i===0)break;n.skipType(i&7)}return a}e.decode=c})(yi||(yi={}));var nh={COMPONENT_ID:1104,serialize(e,o){let c=yi.encode(e),t=new Uint8Array(c.finish(),0,c.len);o.writeBuffer(t,!1)},deserialize(e){return yi.decode(e.buffer(),e.remainingBytes())},create(){return yi.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBTweenSequence"}};var Ks=Y(J());var oh;(function(e){e[e.TS_ACTIVE=0]="TS_ACTIVE",e[e.TS_COMPLETED=1]="TS_COMPLETED",e[e.TS_PAUSED=2]="TS_PAUSED"})(oh||(oh={}));function n1(){return{state:0,currentTime:0}}var bi;(function(e){function o(t,r=Ks.default.Writer.create()){return t.state!==0&&r.uint32(8).int32(t.state),t.currentTime!==0&&r.uint32(21).float(t.currentTime),r}e.encode=o;function c(t,r){let n=t instanceof Ks.default.Reader?t:Ks.default.Reader.create(t),s=r===void 0?n.len:n.pos+r,a=n1();for(;n.pos<s;){let i=n.uint32();switch(i>>>3){case 1:if(i!==8)break;a.state=n.int32();continue;case 2:if(i!==21)break;a.currentTime=n.float();continue}if((i&7)===4||i===0)break;n.skipType(i&7)}return a}e.decode=c})(bi||(bi={}));var rh={COMPONENT_ID:1103,serialize(e,o){let c=bi.encode(e),t=new Uint8Array(c.finish(),0,c.len);o.writeBuffer(t,!1)},deserialize(e){return bi.decode(e.buffer(),e.remainingBytes())},create(){return bi.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBTweenState"}};var Qs=Y(J());var Go=Y(J());function o1(){return{top:0,left:0,right:0,bottom:0}}var so;(function(e){function o(t,r=Go.default.Writer.create()){return t.top!==0&&r.uint32(13).float(t.top),t.left!==0&&r.uint32(21).float(t.left),t.right!==0&&r.uint32(29).float(t.right),t.bottom!==0&&r.uint32(37).float(t.bottom),r}e.encode=o;function c(t,r){let n=t instanceof Go.default.Reader?t:Go.default.Reader.create(t),s=r===void 0?n.len:n.pos+r,a=o1();for(;n.pos<s;){let i=n.uint32();switch(i>>>3){case 1:if(i!==13)break;a.top=n.float();continue;case 2:if(i!==21)break;a.left=n.float();continue;case 3:if(i!==29)break;a.right=n.float();continue;case 4:if(i!==37)break;a.bottom=n.float();continue}if((i&7)===4||i===0)break;n.skipType(i&7)}return a}e.decode=c})(so||(so={}));function r1(){return{x:0,y:0,width:0,height:0}}var ih;(function(e){function o(t,r=Go.default.Writer.create()){return t.x!==0&&r.uint32(13).float(t.x),t.y!==0&&r.uint32(21).float(t.y),t.width!==0&&r.uint32(29).float(t.width),t.height!==0&&r.uint32(37).float(t.height),r}e.encode=o;function c(t,r){let n=t instanceof Go.default.Reader?t:Go.default.Reader.create(t),s=r===void 0?n.len:n.pos+r,a=r1();for(;n.pos<s;){let i=n.uint32();switch(i>>>3){case 1:if(i!==13)break;a.x=n.float();continue;case 2:if(i!==21)break;a.y=n.float();continue;case 3:if(i!==29)break;a.width=n.float();continue;case 4:if(i!==37)break;a.height=n.float();continue}if((i&7)===4||i===0)break;n.skipType(i&7)}return a}e.decode=c})(ih||(ih={}));var ah;(function(e){e[e.NINE_SLICES=0]="NINE_SLICES",e[e.CENTER=1]="CENTER",e[e.STRETCH=2]="STRETCH"})(ah||(ah={}));function i1(){return{color:void 0,texture:void 0,textureMode:0,textureSlices:void 0,uvs:[]}}var Ti;(function(e){function o(t,r=Qs.default.Writer.create()){t.color!==void 0&&Ye.encode(t.color,r.uint32(10).fork()).ldelim(),t.texture!==void 0&&At.encode(t.texture,r.uint32(18).fork()).ldelim(),t.textureMode!==0&&r.uint32(24).int32(t.textureMode),t.textureSlices!==void 0&&so.encode(t.textureSlices,r.uint32(34).fork()).ldelim(),r.uint32(42).fork();for(let n of t.uvs)r.float(n);return r.ldelim(),r}e.encode=o;function c(t,r){let n=t instanceof Qs.default.Reader?t:Qs.default.Reader.create(t),s=r===void 0?n.len:n.pos+r,a=i1();for(;n.pos<s;){let i=n.uint32();switch(i>>>3){case 1:if(i!==10)break;a.color=Ye.decode(n,n.uint32());continue;case 2:if(i!==18)break;a.texture=At.decode(n,n.uint32());continue;case 3:if(i!==24)break;a.textureMode=n.int32();continue;case 4:if(i!==34)break;a.textureSlices=so.decode(n,n.uint32());continue;case 5:if(i===45){a.uvs.push(n.float());continue}if(i===42){let f=n.uint32()+n.pos;for(;n.pos<f;)a.uvs.push(n.float());continue}break}if((i&7)===4||i===0)break;n.skipType(i&7)}return a}e.decode=c})(Ti||(Ti={}));var ch={COMPONENT_ID:1053,serialize(e,o){let c=Ti.encode(e),t=new Uint8Array(c.finish(),0,c.len);o.writeBuffer(t,!1)},deserialize(e){return Ti.decode(e.buffer(),e.remainingBytes())},create(){return Ti.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBUiBackground"}};var Zs=Y(J());function a1(){return{devicePixelRatio:0,width:0,height:0,interactableArea:void 0}}var Si;(function(e){function o(t,r=Zs.default.Writer.create()){return t.devicePixelRatio!==0&&r.uint32(13).float(t.devicePixelRatio),t.width!==0&&r.uint32(16).int32(t.width),t.height!==0&&r.uint32(24).int32(t.height),t.interactableArea!==void 0&&so.encode(t.interactableArea,r.uint32(34).fork()).ldelim(),r}e.encode=o;function c(t,r){let n=t instanceof Zs.default.Reader?t:Zs.default.Reader.create(t),s=r===void 0?n.len:n.pos+r,a=a1();for(;n.pos<s;){let i=n.uint32();switch(i>>>3){case 1:if(i!==13)break;a.devicePixelRatio=n.float();continue;case 2:if(i!==16)break;a.width=n.int32();continue;case 3:if(i!==24)break;a.height=n.int32();continue;case 4:if(i!==34)break;a.interactableArea=so.decode(n,n.uint32());continue}if((i&7)===4||i===0)break;n.skipType(i&7)}return a}e.decode=c})(Si||(Si={}));var sh={COMPONENT_ID:1054,serialize(e,o){let c=Si.encode(e),t=new Uint8Array(c.finish(),0,c.len);o.writeBuffer(t,!1)},deserialize(e){return Si.decode(e.buffer(),e.remainingBytes())},create(){return Si.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBUiCanvasInformation"}};var ef=Y(J());function c1(){return{acceptEmpty:!1,emptyLabel:void 0,options:[],selectedIndex:void 0,disabled:!1,color:void 0,textAlign:void 0,font:void 0,fontSize:void 0}}var _i;(function(e){function o(t,r=ef.default.Writer.create()){t.acceptEmpty===!0&&r.uint32(8).bool(t.acceptEmpty),t.emptyLabel!==void 0&&r.uint32(18).string(t.emptyLabel);for(let n of t.options)r.uint32(26).string(n);return t.selectedIndex!==void 0&&r.uint32(32).int32(t.selectedIndex),t.disabled===!0&&r.uint32(40).bool(t.disabled),t.color!==void 0&&Ye.encode(t.color,r.uint32(50).fork()).ldelim(),t.textAlign!==void 0&&r.uint32(80).int32(t.textAlign),t.font!==void 0&&r.uint32(88).int32(t.font),t.fontSize!==void 0&&r.uint32(96).int32(t.fontSize),r}e.encode=o;function c(t,r){let n=t instanceof ef.default.Reader?t:ef.default.Reader.create(t),s=r===void 0?n.len:n.pos+r,a=c1();for(;n.pos<s;){let i=n.uint32();switch(i>>>3){case 1:if(i!==8)break;a.acceptEmpty=n.bool();continue;case 2:if(i!==18)break;a.emptyLabel=n.string();continue;case 3:if(i!==26)break;a.options.push(n.string());continue;case 4:if(i!==32)break;a.selectedIndex=n.int32();continue;case 5:if(i!==40)break;a.disabled=n.bool();continue;case 6:if(i!==50)break;a.color=Ye.decode(n,n.uint32());continue;case 10:if(i!==80)break;a.textAlign=n.int32();continue;case 11:if(i!==88)break;a.font=n.int32();continue;case 12:if(i!==96)break;a.fontSize=n.int32();continue}if((i&7)===4||i===0)break;n.skipType(i&7)}return a}e.decode=c})(_i||(_i={}));var fh={COMPONENT_ID:1094,serialize(e,o){let c=_i.encode(e),t=new Uint8Array(c.finish(),0,c.len);o.writeBuffer(t,!1)},deserialize(e){return _i.decode(e.buffer(),e.remainingBytes())},create(){return _i.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBUiDropdown"}};var tf=Y(J());function s1(){return{value:0}}var xi;(function(e){function o(t,r=tf.default.Writer.create()){return t.value!==0&&r.uint32(8).int32(t.value),r}e.encode=o;function c(t,r){let n=t instanceof tf.default.Reader?t:tf.default.Reader.create(t),s=r===void 0?n.len:n.pos+r,a=s1();for(;n.pos<s;){let i=n.uint32();switch(i>>>3){case 1:if(i!==8)break;a.value=n.int32();continue}if((i&7)===4||i===0)break;n.skipType(i&7)}return a}e.decode=c})(xi||(xi={}));var uh={COMPONENT_ID:1096,serialize(e,o){let c=xi.encode(e),t=new Uint8Array(c.finish(),0,c.len);o.writeBuffer(t,!1)},deserialize(e){return xi.decode(e.buffer(),e.remainingBytes())},create(){return xi.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBUiDropdownResult"}};var nf=Y(J());function f1(){return{placeholder:"",color:void 0,placeholderColor:void 0,disabled:!1,textAlign:void 0,font:void 0,fontSize:void 0,value:void 0}}var ki;(function(e){function o(t,r=nf.default.Writer.create()){return t.placeholder!==""&&r.uint32(10).string(t.placeholder),t.color!==void 0&&Ye.encode(t.color,r.uint32(18).fork()).ldelim(),t.placeholderColor!==void 0&&Ye.encode(t.placeholderColor,r.uint32(26).fork()).ldelim(),t.disabled===!0&&r.uint32(32).bool(t.disabled),t.textAlign!==void 0&&r.uint32(80).int32(t.textAlign),t.font!==void 0&&r.uint32(88).int32(t.font),t.fontSize!==void 0&&r.uint32(96).int32(t.fontSize),t.value!==void 0&&r.uint32(106).string(t.value),r}e.encode=o;function c(t,r){let n=t instanceof nf.default.Reader?t:nf.default.Reader.create(t),s=r===void 0?n.len:n.pos+r,a=f1();for(;n.pos<s;){let i=n.uint32();switch(i>>>3){case 1:if(i!==10)break;a.placeholder=n.string();continue;case 2:if(i!==18)break;a.color=Ye.decode(n,n.uint32());continue;case 3:if(i!==26)break;a.placeholderColor=Ye.decode(n,n.uint32());continue;case 4:if(i!==32)break;a.disabled=n.bool();continue;case 10:if(i!==80)break;a.textAlign=n.int32();continue;case 11:if(i!==88)break;a.font=n.int32();continue;case 12:if(i!==96)break;a.fontSize=n.int32();continue;case 13:if(i!==106)break;a.value=n.string();continue}if((i&7)===4||i===0)break;n.skipType(i&7)}return a}e.decode=c})(ki||(ki={}));var dh={COMPONENT_ID:1093,serialize(e,o){let c=ki.encode(e),t=new Uint8Array(c.finish(),0,c.len);o.writeBuffer(t,!1)},deserialize(e){return ki.decode(e.buffer(),e.remainingBytes())},create(){return ki.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBUiInput"}};var of=Y(J());function u1(){return{value:"",isSubmit:void 0}}var Ri;(function(e){function o(t,r=of.default.Writer.create()){return t.value!==""&&r.uint32(10).string(t.value),t.isSubmit!==void 0&&r.uint32(16).bool(t.isSubmit),r}e.encode=o;function c(t,r){let n=t instanceof of.default.Reader?t:of.default.Reader.create(t),s=r===void 0?n.len:n.pos+r,a=u1();for(;n.pos<s;){let i=n.uint32();switch(i>>>3){case 1:if(i!==10)break;a.value=n.string();continue;case 2:if(i!==16)break;a.isSubmit=n.bool();continue}if((i&7)===4||i===0)break;n.skipType(i&7)}return a}e.decode=c})(Ri||(Ri={}));var lh={COMPONENT_ID:1095,serialize(e,o){let c=Ri.encode(e),t=new Uint8Array(c.finish(),0,c.len);o.writeBuffer(t,!1)},deserialize(e){return Ri.decode(e.buffer(),e.remainingBytes())},create(){return Ri.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBUiInputResult"}};var rf=Y(J());function d1(){return{value:"",color:void 0,textAlign:void 0,font:void 0,fontSize:void 0}}var Ai;(function(e){function o(t,r=rf.default.Writer.create()){return t.value!==""&&r.uint32(10).string(t.value),t.color!==void 0&&Ye.encode(t.color,r.uint32(18).fork()).ldelim(),t.textAlign!==void 0&&r.uint32(24).int32(t.textAlign),t.font!==void 0&&r.uint32(32).int32(t.font),t.fontSize!==void 0&&r.uint32(40).int32(t.fontSize),r}e.encode=o;function c(t,r){let n=t instanceof rf.default.Reader?t:rf.default.Reader.create(t),s=r===void 0?n.len:n.pos+r,a=d1();for(;n.pos<s;){let i=n.uint32();switch(i>>>3){case 1:if(i!==10)break;a.value=n.string();continue;case 2:if(i!==18)break;a.color=Ye.decode(n,n.uint32());continue;case 3:if(i!==24)break;a.textAlign=n.int32();continue;case 4:if(i!==32)break;a.font=n.int32();continue;case 5:if(i!==40)break;a.fontSize=n.int32();continue}if((i&7)===4||i===0)break;n.skipType(i&7)}return a}e.decode=c})(Ai||(Ai={}));var ph={COMPONENT_ID:1052,serialize(e,o){let c=Ai.encode(e),t=new Uint8Array(c.finish(),0,c.len);o.writeBuffer(t,!1)},deserialize(e){return Ai.decode(e.buffer(),e.remainingBytes())},create(){return Ai.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBUiText"}};var af=Y(J());var mh;(function(e){e[e.YGPT_RELATIVE=0]="YGPT_RELATIVE",e[e.YGPT_ABSOLUTE=1]="YGPT_ABSOLUTE"})(mh||(mh={}));var hh;(function(e){e[e.YGA_AUTO=0]="YGA_AUTO",e[e.YGA_FLEX_START=1]="YGA_FLEX_START",e[e.YGA_CENTER=2]="YGA_CENTER",e[e.YGA_FLEX_END=3]="YGA_FLEX_END",e[e.YGA_STRETCH=4]="YGA_STRETCH",e[e.YGA_BASELINE=5]="YGA_BASELINE",e[e.YGA_SPACE_BETWEEN=6]="YGA_SPACE_BETWEEN",e[e.YGA_SPACE_AROUND=7]="YGA_SPACE_AROUND"})(hh||(hh={}));var Eh;(function(e){e[e.YGU_UNDEFINED=0]="YGU_UNDEFINED",e[e.YGU_POINT=1]="YGU_POINT",e[e.YGU_PERCENT=2]="YGU_PERCENT",e[e.YGU_AUTO=3]="YGU_AUTO"})(Eh||(Eh={}));var yh;(function(e){e[e.YGFD_ROW=0]="YGFD_ROW",e[e.YGFD_COLUMN=1]="YGFD_COLUMN",e[e.YGFD_COLUMN_REVERSE=2]="YGFD_COLUMN_REVERSE",e[e.YGFD_ROW_REVERSE=3]="YGFD_ROW_REVERSE"})(yh||(yh={}));var bh;(function(e){e[e.YGW_NO_WRAP=0]="YGW_NO_WRAP",e[e.YGW_WRAP=1]="YGW_WRAP",e[e.YGW_WRAP_REVERSE=2]="YGW_WRAP_REVERSE"})(bh||(bh={}));var Th;(function(e){e[e.YGJ_FLEX_START=0]="YGJ_FLEX_START",e[e.YGJ_CENTER=1]="YGJ_CENTER",e[e.YGJ_FLEX_END=2]="YGJ_FLEX_END",e[e.YGJ_SPACE_BETWEEN=3]="YGJ_SPACE_BETWEEN",e[e.YGJ_SPACE_AROUND=4]="YGJ_SPACE_AROUND",e[e.YGJ_SPACE_EVENLY=5]="YGJ_SPACE_EVENLY"})(Th||(Th={}));var Sh;(function(e){e[e.YGO_VISIBLE=0]="YGO_VISIBLE",e[e.YGO_HIDDEN=1]="YGO_HIDDEN",e[e.YGO_SCROLL=2]="YGO_SCROLL"})(Sh||(Sh={}));var _h;(function(e){e[e.YGD_FLEX=0]="YGD_FLEX",e[e.YGD_NONE=1]="YGD_NONE"})(_h||(_h={}));var xh;(function(e){e[e.YGE_LEFT=0]="YGE_LEFT",e[e.YGE_TOP=1]="YGE_TOP",e[e.YGE_RIGHT=2]="YGE_RIGHT",e[e.YGE_BOTTOM=3]="YGE_BOTTOM",e[e.YGE_START=4]="YGE_START",e[e.YGE_END=5]="YGE_END",e[e.YGE_HORIZONTAL=6]="YGE_HORIZONTAL",e[e.YGE_VERTICAL=7]="YGE_VERTICAL",e[e.YGE_ALL=8]="YGE_ALL"})(xh||(xh={}));var kh;(function(e){e[e.PFM_NONE=0]="PFM_NONE",e[e.PFM_BLOCK=1]="PFM_BLOCK"})(kh||(kh={}));function l1(){return{parent:0,rightOf:0,alignContent:void 0,alignItems:void 0,flexWrap:void 0,flexShrink:void 0,positionType:0,alignSelf:0,flexDirection:0,justifyContent:0,overflow:0,display:0,flexBasisUnit:0,flexBasis:0,flexGrow:0,widthUnit:0,width:0,heightUnit:0,height:0,minWidthUnit:0,minWidth:0,minHeightUnit:0,minHeight:0,maxWidthUnit:0,maxWidth:0,maxHeightUnit:0,maxHeight:0,positionLeftUnit:0,positionLeft:0,positionTopUnit:0,positionTop:0,positionRightUnit:0,positionRight:0,positionBottomUnit:0,positionBottom:0,marginLeftUnit:0,marginLeft:0,marginTopUnit:0,marginTop:0,marginRightUnit:0,marginRight:0,marginBottomUnit:0,marginBottom:0,paddingLeftUnit:0,paddingLeft:0,paddingTopUnit:0,paddingTop:0,paddingRightUnit:0,paddingRight:0,paddingBottomUnit:0,paddingBottom:0,pointerFilter:void 0}}var Ni;(function(e){function o(t,r=af.default.Writer.create()){return t.parent!==0&&r.uint32(8).int32(t.parent),t.rightOf!==0&&r.uint32(16).int32(t.rightOf),t.alignContent!==void 0&&r.uint32(24).int32(t.alignContent),t.alignItems!==void 0&&r.uint32(32).int32(t.alignItems),t.flexWrap!==void 0&&r.uint32(40).int32(t.flexWrap),t.flexShrink!==void 0&&r.uint32(53).float(t.flexShrink),t.positionType!==0&&r.uint32(56).int32(t.positionType),t.alignSelf!==0&&r.uint32(64).int32(t.alignSelf),t.flexDirection!==0&&r.uint32(72).int32(t.flexDirection),t.justifyContent!==0&&r.uint32(80).int32(t.justifyContent),t.overflow!==0&&r.uint32(88).int32(t.overflow),t.display!==0&&r.uint32(96).int32(t.display),t.flexBasisUnit!==0&&r.uint32(104).int32(t.flexBasisUnit),t.flexBasis!==0&&r.uint32(117).float(t.flexBasis),t.flexGrow!==0&&r.uint32(125).float(t.flexGrow),t.widthUnit!==0&&r.uint32(128).int32(t.widthUnit),t.width!==0&&r.uint32(141).float(t.width),t.heightUnit!==0&&r.uint32(144).int32(t.heightUnit),t.height!==0&&r.uint32(157).float(t.height),t.minWidthUnit!==0&&r.uint32(160).int32(t.minWidthUnit),t.minWidth!==0&&r.uint32(173).float(t.minWidth),t.minHeightUnit!==0&&r.uint32(176).int32(t.minHeightUnit),t.minHeight!==0&&r.uint32(189).float(t.minHeight),t.maxWidthUnit!==0&&r.uint32(192).int32(t.maxWidthUnit),t.maxWidth!==0&&r.uint32(205).float(t.maxWidth),t.maxHeightUnit!==0&&r.uint32(208).int32(t.maxHeightUnit),t.maxHeight!==0&&r.uint32(221).float(t.maxHeight),t.positionLeftUnit!==0&&r.uint32(224).int32(t.positionLeftUnit),t.positionLeft!==0&&r.uint32(237).float(t.positionLeft),t.positionTopUnit!==0&&r.uint32(240).int32(t.positionTopUnit),t.positionTop!==0&&r.uint32(253).float(t.positionTop),t.positionRightUnit!==0&&r.uint32(256).int32(t.positionRightUnit),t.positionRight!==0&&r.uint32(269).float(t.positionRight),t.positionBottomUnit!==0&&r.uint32(272).int32(t.positionBottomUnit),t.positionBottom!==0&&r.uint32(285).float(t.positionBottom),t.marginLeftUnit!==0&&r.uint32(288).int32(t.marginLeftUnit),t.marginLeft!==0&&r.uint32(301).float(t.marginLeft),t.marginTopUnit!==0&&r.uint32(304).int32(t.marginTopUnit),t.marginTop!==0&&r.uint32(317).float(t.marginTop),t.marginRightUnit!==0&&r.uint32(320).int32(t.marginRightUnit),t.marginRight!==0&&r.uint32(333).float(t.marginRight),t.marginBottomUnit!==0&&r.uint32(336).int32(t.marginBottomUnit),t.marginBottom!==0&&r.uint32(349).float(t.marginBottom),t.paddingLeftUnit!==0&&r.uint32(352).int32(t.paddingLeftUnit),t.paddingLeft!==0&&r.uint32(365).float(t.paddingLeft),t.paddingTopUnit!==0&&r.uint32(368).int32(t.paddingTopUnit),t.paddingTop!==0&&r.uint32(381).float(t.paddingTop),t.paddingRightUnit!==0&&r.uint32(384).int32(t.paddingRightUnit),t.paddingRight!==0&&r.uint32(397).float(t.paddingRight),t.paddingBottomUnit!==0&&r.uint32(400).int32(t.paddingBottomUnit),t.paddingBottom!==0&&r.uint32(413).float(t.paddingBottom),t.pointerFilter!==void 0&&r.uint32(416).int32(t.pointerFilter),r}e.encode=o;function c(t,r){let n=t instanceof af.default.Reader?t:af.default.Reader.create(t),s=r===void 0?n.len:n.pos+r,a=l1();for(;n.pos<s;){let i=n.uint32();switch(i>>>3){case 1:if(i!==8)break;a.parent=n.int32();continue;case 2:if(i!==16)break;a.rightOf=n.int32();continue;case 3:if(i!==24)break;a.alignContent=n.int32();continue;case 4:if(i!==32)break;a.alignItems=n.int32();continue;case 5:if(i!==40)break;a.flexWrap=n.int32();continue;case 6:if(i!==53)break;a.flexShrink=n.float();continue;case 7:if(i!==56)break;a.positionType=n.int32();continue;case 8:if(i!==64)break;a.alignSelf=n.int32();continue;case 9:if(i!==72)break;a.flexDirection=n.int32();continue;case 10:if(i!==80)break;a.justifyContent=n.int32();continue;case 11:if(i!==88)break;a.overflow=n.int32();continue;case 12:if(i!==96)break;a.display=n.int32();continue;case 13:if(i!==104)break;a.flexBasisUnit=n.int32();continue;case 14:if(i!==117)break;a.flexBasis=n.float();continue;case 15:if(i!==125)break;a.flexGrow=n.float();continue;case 16:if(i!==128)break;a.widthUnit=n.int32();continue;case 17:if(i!==141)break;a.width=n.float();continue;case 18:if(i!==144)break;a.heightUnit=n.int32();continue;case 19:if(i!==157)break;a.height=n.float();continue;case 20:if(i!==160)break;a.minWidthUnit=n.int32();continue;case 21:if(i!==173)break;a.minWidth=n.float();continue;case 22:if(i!==176)break;a.minHeightUnit=n.int32();continue;case 23:if(i!==189)break;a.minHeight=n.float();continue;case 24:if(i!==192)break;a.maxWidthUnit=n.int32();continue;case 25:if(i!==205)break;a.maxWidth=n.float();continue;case 26:if(i!==208)break;a.maxHeightUnit=n.int32();continue;case 27:if(i!==221)break;a.maxHeight=n.float();continue;case 28:if(i!==224)break;a.positionLeftUnit=n.int32();continue;case 29:if(i!==237)break;a.positionLeft=n.float();continue;case 30:if(i!==240)break;a.positionTopUnit=n.int32();continue;case 31:if(i!==253)break;a.positionTop=n.float();continue;case 32:if(i!==256)break;a.positionRightUnit=n.int32();continue;case 33:if(i!==269)break;a.positionRight=n.float();continue;case 34:if(i!==272)break;a.positionBottomUnit=n.int32();continue;case 35:if(i!==285)break;a.positionBottom=n.float();continue;case 36:if(i!==288)break;a.marginLeftUnit=n.int32();continue;case 37:if(i!==301)break;a.marginLeft=n.float();continue;case 38:if(i!==304)break;a.marginTopUnit=n.int32();continue;case 39:if(i!==317)break;a.marginTop=n.float();continue;case 40:if(i!==320)break;a.marginRightUnit=n.int32();continue;case 41:if(i!==333)break;a.marginRight=n.float();continue;case 42:if(i!==336)break;a.marginBottomUnit=n.int32();continue;case 43:if(i!==349)break;a.marginBottom=n.float();continue;case 44:if(i!==352)break;a.paddingLeftUnit=n.int32();continue;case 45:if(i!==365)break;a.paddingLeft=n.float();continue;case 46:if(i!==368)break;a.paddingTopUnit=n.int32();continue;case 47:if(i!==381)break;a.paddingTop=n.float();continue;case 48:if(i!==384)break;a.paddingRightUnit=n.int32();continue;case 49:if(i!==397)break;a.paddingRight=n.float();continue;case 50:if(i!==400)break;a.paddingBottomUnit=n.int32();continue;case 51:if(i!==413)break;a.paddingBottom=n.float();continue;case 52:if(i!==416)break;a.pointerFilter=n.int32();continue}if((i&7)===4||i===0)break;n.skipType(i&7)}return a}e.decode=c})(Ni||(Ni={}));var Rh={COMPONENT_ID:1050,serialize(e,o){let c=Ni.encode(e),t=new Uint8Array(c.finish(),0,c.len);o.writeBuffer(t,!1)},deserialize(e){return Ni.decode(e.buffer(),e.remainingBytes())},create(){return Ni.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBUiTransform"}};var cf=Y(J());var Ah;(function(e){e[e.VS_NONE=0]="VS_NONE",e[e.VS_ERROR=1]="VS_ERROR",e[e.VS_LOADING=2]="VS_LOADING",e[e.VS_READY=3]="VS_READY",e[e.VS_PLAYING=4]="VS_PLAYING",e[e.VS_BUFFERING=5]="VS_BUFFERING",e[e.VS_SEEKING=6]="VS_SEEKING",e[e.VS_PAUSED=7]="VS_PAUSED"})(Ah||(Ah={}));function p1(){return{timestamp:0,tickNumber:0,currentOffset:0,videoLength:0,state:0}}var gi;(function(e){function o(t,r=cf.default.Writer.create()){return t.timestamp!==0&&r.uint32(8).uint32(t.timestamp),t.tickNumber!==0&&r.uint32(16).uint32(t.tickNumber),t.currentOffset!==0&&r.uint32(29).float(t.currentOffset),t.videoLength!==0&&r.uint32(37).float(t.videoLength),t.state!==0&&r.uint32(40).int32(t.state),r}e.encode=o;function c(t,r){let n=t instanceof cf.default.Reader?t:cf.default.Reader.create(t),s=r===void 0?n.len:n.pos+r,a=p1();for(;n.pos<s;){let i=n.uint32();switch(i>>>3){case 1:if(i!==8)break;a.timestamp=n.uint32();continue;case 2:if(i!==16)break;a.tickNumber=n.uint32();continue;case 3:if(i!==29)break;a.currentOffset=n.float();continue;case 4:if(i!==37)break;a.videoLength=n.float();continue;case 5:if(i!==40)break;a.state=n.int32();continue}if((i&7)===4||i===0)break;n.skipType(i&7)}return a}e.decode=c})(gi||(gi={}));var Nh={COMPONENT_ID:1044,serialize(e,o){let c=gi.encode(e),t=new Uint8Array(c.finish(),0,c.len);o.writeBuffer(t,!1)},deserialize(e){return gi.decode(e.buffer(),e.remainingBytes())},create(){return gi.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBVideoEvent"}};var sf=Y(J());function m1(){return{src:"",playing:void 0,position:void 0,volume:void 0,playbackRate:void 0,loop:void 0}}var Oi;(function(e){function o(t,r=sf.default.Writer.create()){return t.src!==""&&r.uint32(10).string(t.src),t.playing!==void 0&&r.uint32(16).bool(t.playing),t.position!==void 0&&r.uint32(29).float(t.position),t.volume!==void 0&&r.uint32(37).float(t.volume),t.playbackRate!==void 0&&r.uint32(45).float(t.playbackRate),t.loop!==void 0&&r.uint32(48).bool(t.loop),r}e.encode=o;function c(t,r){let n=t instanceof sf.default.Reader?t:sf.default.Reader.create(t),s=r===void 0?n.len:n.pos+r,a=m1();for(;n.pos<s;){let i=n.uint32();switch(i>>>3){case 1:if(i!==10)break;a.src=n.string();continue;case 2:if(i!==16)break;a.playing=n.bool();continue;case 3:if(i!==29)break;a.position=n.float();continue;case 4:if(i!==37)break;a.volume=n.float();continue;case 5:if(i!==45)break;a.playbackRate=n.float();continue;case 6:if(i!==48)break;a.loop=n.bool();continue}if((i&7)===4||i===0)break;n.skipType(i&7)}return a}e.decode=c})(Oi||(Oi={}));var gh={COMPONENT_ID:1043,serialize(e,o){let c=Oi.encode(e),t=new Uint8Array(c.finish(),0,c.len);o.writeBuffer(t,!1)},deserialize(e){return Oi.decode(e.buffer(),e.remainingBytes())},create(){return Oi.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBVideoPlayer"}};var ff=Y(J());function h1(){return{visible:void 0}}var wi;(function(e){function o(t,r=ff.default.Writer.create()){return t.visible!==void 0&&r.uint32(8).bool(t.visible),r}e.encode=o;function c(t,r){let n=t instanceof ff.default.Reader?t:ff.default.Reader.create(t),s=r===void 0?n.len:n.pos+r,a=h1();for(;n.pos<s;){let i=n.uint32();switch(i>>>3){case 1:if(i!==8)break;a.visible=n.bool();continue}if((i&7)===4||i===0)break;n.skipType(i&7)}return a}e.decode=c})(wi||(wi={}));var Oh={COMPONENT_ID:1081,serialize(e,o){let c=wi.encode(e),t=new Uint8Array(c.finish(),0,c.len);o.writeBuffer(t,!1)},deserialize(e){return wi.decode(e.buffer(),e.remainingBytes())},create(){return wi.decode(new Uint8Array)},jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBVisibilityComponent"}};var wh=e=>e.defineComponentFromSchema("core::Animator",S0),Ih=e=>e.defineComponentFromSchema("core::AudioSource",_0),Vu=e=>e.defineComponentFromSchema("core::AudioStream",x0),Ch=e=>e.defineComponentFromSchema("core::AvatarAttach",R0),Mh=e=>e.defineComponentFromSchema("core::AvatarModifierArea",O0),vh=e=>e.defineComponentFromSchema("core::AvatarShape",w0),Ph=e=>e.defineComponentFromSchema("core::Billboard",C0),Uh=e=>e.defineComponentFromSchema("core::CameraMode",M0),Bh=e=>e.defineComponentFromSchema("core::CameraModeArea",v0),Dh=e=>e.defineComponentFromSchema("core::EngineInfo",P0),Lh=e=>e.defineComponentFromSchema("core::GltfContainer",U0),zh=e=>e.defineComponentFromSchema("core::GltfContainerLoadingState",B0),Wu=e=>e.defineComponentFromSchema("core::Material",F0),Fh=e=>e.defineComponentFromSchema("core::MeshCollider",W0),Vh=e=>e.defineComponentFromSchema("core::MeshRenderer",H0),Wh=e=>e.defineComponentFromSchema("core::NftShape",j0),Hu=e=>e.defineComponentFromSchema("core::PointerEvents",$0),Gu=e=>e.defineValueSetComponentFromSchema("core::PointerEventsResult",Y0,{timestampFunction:o=>o.timestamp,maxElements:100}),Hh=e=>e.defineComponentFromSchema("core::PointerLock",q0),ju=e=>e.defineComponentFromSchema("core::Raycast",X0),$u=e=>e.defineComponentFromSchema("core::RaycastResult",K0),Gh=e=>e.defineComponentFromSchema("core::TextShape",Q0),Yu=e=>e.defineComponentFromSchema("core::Tween",eh),uf=e=>e.defineComponentFromSchema("core::TweenSequence",nh),df=e=>e.defineComponentFromSchema("core::TweenState",rh),jh=e=>e.defineComponentFromSchema("core::UiBackground",ch),$h=e=>e.defineComponentFromSchema("core::UiCanvasInformation",sh),Yh=e=>e.defineComponentFromSchema("core::UiDropdown",fh),qh=e=>e.defineComponentFromSchema("core::UiDropdownResult",uh),Jh=e=>e.defineComponentFromSchema("core::UiInput",dh),Xh=e=>e.defineComponentFromSchema("core::UiInputResult",lh),qu=e=>e.defineComponentFromSchema("core::UiText",ph),Ju=e=>e.defineComponentFromSchema("core::UiTransform",Rh),Xu=e=>e.defineValueSetComponentFromSchema("core::VideoEvent",Nh,{timestampFunction:o=>o.timestamp,maxElements:100}),lf=e=>e.defineComponentFromSchema("core::VideoPlayer",gh),Kh=e=>e.defineComponentFromSchema("core::VisibilityComponent",Oh),Ku={"core::Animator":wh,"core::AudioSource":Ih,"core::AudioStream":Vu,"core::AvatarAttach":Ch,"core::AvatarModifierArea":Mh,"core::AvatarShape":vh,"core::Billboard":Ph,"core::CameraMode":Uh,"core::CameraModeArea":Bh,"core::EngineInfo":Dh,"core::GltfContainer":Lh,"core::GltfContainerLoadingState":zh,"core::Material":Wu,"core::MeshCollider":Fh,"core::MeshRenderer":Vh,"core::NftShape":Wh,"core::PointerEvents":Hu,"core::PointerEventsResult":Gu,"core::PointerLock":Hh,"core::Raycast":ju,"core::RaycastResult":$u,"core::TextShape":Gh,"core::Tween":Yu,"core::TweenSequence":uf,"core::TweenState":df,"core::UiBackground":jh,"core::UiCanvasInformation":$h,"core::UiDropdown":Yh,"core::UiDropdownResult":qh,"core::UiInput":Jh,"core::UiInputResult":Xh,"core::UiText":qu,"core::UiTransform":Ju,"core::VideoEvent":Xu,"core::VideoPlayer":lf,"core::VisibilityComponent":Kh};var y1={Common(e){return{tex:{$case:"texture",texture:e}}},Avatar(e){return{tex:{$case:"avatarTexture",avatarTexture:e}}},Video(e){return{tex:{$case:"videoTexture",videoTexture:e}}}};function Qh(e){let o=Wu(e);return{...o,Texture:y1,setBasicMaterial(c,t){o.createOrReplace(c,{material:{$case:"unlit",unlit:t}})},setPbrMaterial(c,t){o.createOrReplace(c,{material:{$case:"pbr",pbr:t}})}}}var b1={Move(e){return{$case:"move",move:e}},Rotate(e){return{$case:"rotate",rotate:e}},Scale(e){return{$case:"scale",scale:e}}};function Zh(e){return{...Yu(e),Mode:b1}}var pf=e=>({serialize(o,c){c.writeUint32(o.length);for(let t of o)e.serialize(t,c)},deserialize(o){let c=[],t=o.readUint32();for(let r=0;r<t;r++)c.push(e.deserialize(o));return c},create(){return[]},jsonSchema:{type:"array",items:e.jsonSchema,serializationType:"array"}});var pa={serialize(e,o){o.writeInt8(e?1:0)},deserialize(e){return e.readInt8()===1},create(){return!1},jsonSchema:{type:"boolean",serializationType:"boolean"}};var ma={serialize(e,o){o.writeInt64(BigInt(e))},deserialize(e){return Number(e.readInt64())},create(){return 0},jsonSchema:{type:"integer",serializationType:"int64"}},fo={serialize(e,o){o.writeInt32(e)},deserialize(e){return e.readInt32()},create(){return 0},jsonSchema:{type:"integer",serializationType:"int32"}},ha={serialize(e,o){o.writeInt16(e)},deserialize(e){return e.readInt16()},create(){return 0},jsonSchema:{type:"integer",serializationType:"int16"}},Ea={serialize(e,o){o.writeInt8(e)},deserialize(e){return e.readInt8()},create(){return 0},jsonSchema:{type:"integer",serializationType:"int8"}};var mf={serialize(e,o){o.writeUtf8String(e)},deserialize(e){return e.readUtf8String()},create(){return""},jsonSchema:{type:"string",serializationType:"utf8-string"}},ya=mf;function T1(e){let t=0,r=0;for(let n in e){if(typeof e[n]=="number"){if(e[n]>2147483647||e[n]<-2147483648)throw new Error("Enum member values must be numbers within the range of -2147483648 to 2147483647.");t++}r++}if(r!==t*2)throw new Error("All enum member values must be of numeric type.")}function S1(e){for(let o in e)if(typeof e[o]!="string")throw new Error("All enum member values must be of string type.")}var _1="enum-int",hf=(e,o)=>(T1(e),{serialize(c,t){fo.serialize(c,t)},deserialize(c){return fo.deserialize(c)},create(){return o},jsonSchema:{type:"integer",enum:Object.values(e).filter(c=>Number.isInteger(c)),default:o,serializationType:_1,enumObject:e}}),x1="enum-string",Ef=(e,o)=>(S1(e),{serialize(c,t){mf.serialize(c,t)},deserialize(c){return mf.deserialize(c)},create(){return o},jsonSchema:{type:"string",enum:Object.values(e),default:o,serializationType:x1,enumObject:e}});var Ii={serialize(e,o){o.writeFloat32(e)},deserialize(e){return e.readFloat32()},create(){return 0},jsonSchema:{type:"number",serializationType:"float32"}},ba={serialize(e,o){o.writeFloat64(e)},deserialize(e){return e.readFloat64()},create(){return 0},jsonSchema:{type:"number",serializationType:"float64"}};var Ta={serialize(e,o){o.writeFloat32(e.r),o.writeFloat32(e.g),o.writeFloat32(e.b)},deserialize(e){return{r:e.readFloat32(),g:e.readFloat32(),b:e.readFloat32()}},create(){return{r:0,g:0,b:0}},jsonSchema:{type:"object",properties:{r:{type:"number"},g:{type:"number"},b:{type:"number"}},serializationType:"color3"}};var Sa={serialize(e,o){o.writeFloat32(e.r),o.writeFloat32(e.g),o.writeFloat32(e.b),o.writeFloat32(e.a)},deserialize(e){return{r:e.readFloat32(),g:e.readFloat32(),b:e.readFloat32(),a:e.readFloat32()}},create(){return{r:0,g:0,b:0,a:0}},jsonSchema:{type:"object",properties:{r:{type:"number"},g:{type:"number"},b:{type:"number"},a:{type:"number"}},serializationType:"color4"}};var _a={serialize(e,o){o.writeInt32(e)},deserialize(e){return e.readInt32()},create(){return 0},jsonSchema:{type:"integer",serializationType:"entity"}};var xa={serialize(e,o){o.writeFloat32(e.x),o.writeFloat32(e.y),o.writeFloat32(e.z),o.writeFloat32(e.w)},deserialize(e){return{x:e.readFloat32(),y:e.readFloat32(),z:e.readFloat32(),w:e.readFloat32()}},create(){return{x:0,y:0,z:0,w:0}},jsonSchema:{type:"object",properties:{x:{type:"number"},y:{type:"number"},z:{type:"number"},w:{type:"number"}},serializationType:"quaternion"}};var ka={serialize(e,o){o.writeFloat32(e.x),o.writeFloat32(e.y),o.writeFloat32(e.z)},deserialize(e){return{x:e.readFloat32(),y:e.readFloat32(),z:e.readFloat32()}},create(){return{x:0,y:0,z:0}},jsonSchema:{type:"object",properties:{x:{type:"number"},y:{type:"number"},z:{type:"number"},w:{type:"number"}},serializationType:"vector3"}};var yf=(e,o)=>{let c=Object.keys(e).reduce((t,r)=>(t[r]=e[r].jsonSchema,t),{});return{serialize(t,r){for(let n in e)e[n].serialize(t[n],r)},deserialize(t){let r={};for(let n in e)r[n]=e[n].deserialize(t);return r},create(){let t={};for(let r in e)t[r]=e[r].create();return{...t,...o}},extend:t=>{let r={};for(let n in e)r[n]=e[n].create();return{...r,...o,...t}},jsonSchema:{type:"object",properties:c,serializationType:"map"}}};var bf=e=>({serialize(o,c){o?(c.writeInt8(1),e.serialize(o,c)):c.writeInt8(0)},deserialize(o){if(o.readInt8())return e.deserialize(o)},create(){},jsonSchema:{type:e.jsonSchema.type,serializationType:"optional",optionalJsonSchema:e.jsonSchema}});var Tf=e=>{let o=Object.keys(e),c=o.reduce((r,n,s)=>(r[n]=s,r),{}),t=o.reduce((r,n)=>(r[n]=e[n].jsonSchema,r),{});return{serialize({$case:r,value:n},s){let a=c[r.toString()]+1;s.writeUint8(a),e[r].serialize(n,s)},deserialize(r){let n=o[r.readInt8()-1],s=e[n].deserialize(r);return{$case:n,value:s}},create(){return{}},jsonSchema:{type:"object",properties:t,serializationType:"one-of"}}};var e2=(e,o)=>o.includes(e.serializationType),k1=e=>e2(e,["one-of"]),R1=()=>({type:{type:"object",serializationType:"unknown"},value:void 0}),Sf=e=>e2(e,["array","map"]),Qu=(e,o,c)=>{let t=e[c],r=o[c];if(k1(t)){let n=r;if(!n.$case)return R1();let s=t.properties[n.$case];return Sf(s)&&(o[c]={[n.$case]:n.value}),{type:s,value:n.value}}return{type:t,value:r}};var t2={[pa.jsonSchema.serializationType]:pa,[ya.jsonSchema.serializationType]:ya,[Ii.jsonSchema.serializationType]:Ii,[ba.jsonSchema.serializationType]:ba,[Ea.jsonSchema.serializationType]:Ea,[ha.jsonSchema.serializationType]:ha,[fo.jsonSchema.serializationType]:fo,[ma.jsonSchema.serializationType]:ma,[ka.jsonSchema.serializationType]:ka,[xa.jsonSchema.serializationType]:xa,[Ta.jsonSchema.serializationType]:Ta,[Sa.jsonSchema.serializationType]:Sa,[_a.jsonSchema.serializationType]:_a};function Ci(e){if(t2[e.serializationType])return t2[e.serializationType];if(e.serializationType==="map"){let o=e,c={};for(let t in o.properties)c[t]=Ci(o.properties[t]);return yf(c)}if(e.serializationType==="optional")return bf(Ci(e.optionalJsonSchema));if(e.serializationType==="array")return pf(Ci(e.items));if(e.serializationType==="enum-int"){let o=e;return hf(o.enumObject,o.default)}if(e.serializationType==="enum-string"){let o=e;return Ef(o.enumObject,o.default)}if(e.serializationType==="one-of"){let o=e,c={};for(let t in o.properties)c[t]=Ci(o.properties[t]);return Tf(c)}throw new Error(`${e.serializationType} is not supported as reverse schema generation.`)}function _f(e,o,c){if(e.serializationType==="map"){let{properties:t}=e,r=o;for(let n in t){let{type:s,value:a}=Qu(t,r,n);if(s.serializationType!=="unknown")if(Sf(s))_f(s,a,c);else{let i=c(a,s);i.changed&&(r[n]=i.value)}}}else if(e.serializationType==="array"){let{items:t}=e,r=o;for(let n=0,s=r.length;n<s;n++){let{type:a,value:i}=Qu({items:t},{items:r[n]},"items");if(Sf(a))_f(a,i,c);else{let f=c(i,a);f.changed&&(r[n]=f.value)}}}}var P;(function(e){e.Boolean=pa,e.String=ya,e.Float=Ii,e.Double=ba,e.Byte=Ea,e.Short=ha,e.Int=fo,e.Int64=ma,e.Number=Ii,e.Vector3=ka,e.Quaternion=xa,e.Color3=Ta,e.Color4=Sa,e.Entity=_a,e.EnumNumber=hf,e.EnumString=Ef,e.Array=pf,e.Map=yf,e.Optional=bf,e.OneOf=Tf,e.fromJson=Ci,e.mutateNestedValues=_f})(P||(P={}));function A1(e){return e.defineComponent("core-schema::Name",{value:P.String})}var n2=A1;var Zu={serialize(e,o){let c=o.incrementWriteOffset(44);o.setFloat32(c,e.position.x),o.setFloat32(c+4,e.position.y),o.setFloat32(c+8,e.position.z),o.setFloat32(c+12,e.rotation.x),o.setFloat32(c+16,e.rotation.y),o.setFloat32(c+20,e.rotation.z),o.setFloat32(c+24,e.rotation.w),o.setFloat32(c+28,e.scale.x),o.setFloat32(c+32,e.scale.y),o.setFloat32(c+36,e.scale.z),o.setUint32(c+40,e.parent||0)},deserialize(e){let o=e.incrementReadOffset(44);return{position:{x:e.getFloat32(o),y:e.getFloat32(o+4),z:e.getFloat32(o+8)},rotation:{x:e.getFloat32(o+12),y:e.getFloat32(o+16),z:e.getFloat32(o+20),w:e.getFloat32(o+24)},scale:{x:e.getFloat32(o+28),y:e.getFloat32(o+32),z:e.getFloat32(o+36)},parent:e.getUint32(o+40)}},create(){return{position:{x:0,y:0,z:0},scale:{x:1,y:1,z:1},rotation:{x:0,y:0,z:0,w:1},parent:0}},extend(e){return{position:{x:0,y:0,z:0},scale:{x:1,y:1,z:1},rotation:{x:0,y:0,z:0,w:1},parent:0,...e}},jsonSchema:{type:"object",properties:{position:{type:"object",properties:{x:{type:"number"},y:{type:"number"},z:{type:"number"}}},scale:{type:"object",properties:{x:{type:"number"},y:{type:"number"},z:{type:"number"}}},rotation:{type:"object",properties:{x:{type:"number"},y:{type:"number"},z:{type:"number"},w:{type:"number"}}},parent:{type:"integer"}},serializationType:"transform"}};function o2(e){let o=e.defineComponentFromSchema("core::Transform",Zu);return{...o,create(c,t){return o.create(c,Zu.extend(t))},createOrReplace(c,t){return o.createOrReplace(c,Zu.extend(t))}}}var Mi=e=>o2(e),r2=e=>Qh(e);var ed=e=>Zh(e),xf=e=>n2(e);var td={"core::Transform":1,"core::Animator":1042,"core::AudioSource":1020,"core::AudioStream":1021,"core::AvatarAttach":1073,"core::AvatarBase":1087,"core::AvatarEmoteCommand":1088,"core::AvatarEquippedData":1091,"core::AvatarModifierArea":1070,"core::AvatarShape":1080,"core::Billboard":1090,"core::CameraMode":1072,"core::CameraModeArea":1071,"core::EngineInfo":1048,"core::GltfContainer":1041,"core::GltfContainerLoadingState":1049,"core::Material":1017,"core::MeshCollider":1019,"core::MeshRenderer":1018,"core::NftShape":1040,"core::PlayerIdentityData":1089,"core::PointerEvents":1062,"core::PointerEventsResult":1063,"core::PointerLock":1074,"core::Raycast":1067,"core::RaycastResult":1068,"core::TextShape":1030,"core::Tween":1102,"core::TweenSequence":1104,"core::TweenState":1103,"core::UiBackground":1053,"core::UiCanvasInformation":1054,"core::UiDropdown":1094,"core::UiDropdownResult":1096,"core::UiInput":1093,"core::UiInputResult":1095,"core::UiText":1052,"core::UiTransform":1050,"core::VideoEvent":1044,"core::VideoPlayer":1043,"core::VisibilityComponent":1081};var a2=Y(Qo());var N1=new Int32Array([0,1996959894,3993919788,2567524794,124634137,1886057615,3915621685,2657392035,249268274,2044508324,3772115230,2547177864,162941995,2125561021,3887607047,2428444049,498536548,1789927666,4089016648,2227061214,450548861,1843258603,4107580753,2211677639,325883990,1684777152,4251122042,2321926636,335633487,1661365465,4195302755,2366115317,997073096,1281953886,3579855332,2724688242,1006888145,1258607687,3524101629,2768942443,901097722,1119000684,3686517206,2898065728,853044451,1172266101,3705015759,2882616665,651767980,1373503546,3369554304,3218104598,565507253,1454621731,3485111705,3099436303,671266974,1594198024,3322730930,2970347812,795835527,1483230225,3244367275,3060149565,1994146192,31158534,2563907772,4023717930,1907459465,112637215,2680153253,3904427059,2013776290,251722036,2517215374,3775830040,2137656763,141376813,2439277719,3865271297,1802195444,476864866,2238001368,4066508878,1812370925,453092731,2181625025,4111451223,1706088902,314042704,2344532202,4240017532,1658658271,366619977,2362670323,4224994405,1303535960,984961486,2747007092,3569037538,1256170817,1037604311,2765210733,3554079995,1131014506,879679996,2909243462,3663771856,1141124467,855842277,2852801631,3708648649,1342533948,654459306,3188396048,3373015174,1466479909,544179635,3110523913,3462522015,1591671054,702138776,2966460450,3352799412,1504918807,783551873,3082640443,3233442989,3988292384,2596254646,62317068,1957810842,3939845945,2647816111,81470997,1943803523,3814918930,2489596804,225274430,2053790376,3826175755,2466906013,167816743,2097651377,4027552580,2265490386,503444072,1762050814,4150417245,2154129355,426522225,1852507879,4275313526,2312317920,282753626,1742555852,4189708143,2394877945,397917763,1622183637,3604390888,2714866558,953729732,1340076626,3518719985,2797360999,1068828381,1219638859,3624741850,2936675148,906185462,1090812512,3747672003,2825379669,829329135,1181335161,3412177804,3160834842,628085408,1382605366,3423369109,3138078467,570562233,1426400815,3317316542,2998733608,733239954,1555261956,3268935591,3050360625,752459403,1541320221,2607071920,3965973030,1969922972,40735498,2617837225,3943577151,1913087877,83908371,2512341634,3803740692,2075208622,213261112,2463272603,3855990285,2094854071,198958881,2262029012,4057260610,1759359992,534414190,2176718541,4139329115,1873836001,414664567,2282248934,4279200368,1711684554,285281116,2405801727,4167216745,1634467795,376229701,2685067896,3608007406,1308918612,956543938,2808555105,3495958263,1231636301,1047427035,2932959818,3654703836,1088359270,936918e3,2847714899,3736837829,1202900863,817233897,3183342108,3401237130,1404277552,615818150,3134207493,3453421203,1423857449,601450431,3009837614,3294710456,1567103746,711928724,3020668471,3272380065,1510334235,755167117]);function g1(e,o){let c=~~o^-1;for(let t=0;t<e.length;t++)c=N1[(c^e[t])&255]^c>>>8;return c^-1}function i2(e,o=0){return g1(e,o)>>>0}var O1=2048;function wn(e){if(td[e])return td[e];let o=new Uint8Array(128);return a2.write(e,o,0),(i2(o)+O1&4294967295)>>>0}var nd=typeof process=="object"&&!1||!1;function od(e,o){if(nd&&e&&typeof e=="object"&&typeof e.then=="function")throw new Error(o);return e}function c2(){let e=new Map;return{addTo(o,c){if(c<0)return!1;let t=e.get(o);return t!==void 0&&t>=c||e.set(o,c),!0},has(o,c){let t=e.get(o);return t!==void 0&&t>=c},getMap(){return e}}}var jo=65535,w1=4294901760,tP=jo+1,rd=jo,kf=512,I1=rd,Sn;(function(e){function o(t){return[(t&jo)>>>0,((t&w1)>>16&jo)>>>0]}e.fromEntityId=o;function c(t,r){return(t&jo|(r&jo)<<16)>>>0}e.toEntityId=c})(Sn||(Sn={}));var sn;(function(e){e[e.Unknown=0]="Unknown",e[e.UsedEntity=1]="UsedEntity",e[e.Removed=2]="Removed",e[e.Reserved=3]="Reserved"})(sn||(sn={}));function s2(){let e=kf,o,c,t=new Set,r=[],n=c2(),s=I1;function a(d,p){s=d,c=p,o=p[0]}function i(d){if(e>rd-1)throw new Error(`It fails trying to generate an entity out of range ${rd}.`);if(d&&o>c[1])throw new Error(`Max amount of network entities reached ${c[1]} `);if(!d&&e>=s)throw new Error(`Max amount of local entities reached ${s}`);let p=d?o++:e++,h=n.getMap().has(p)?n.getMap().get(p)+1:0,T=Sn.toEntityId(p,h);return t.has(T)?i():(t.add(T),T)}function f(d){if(d&&!c)throw new Error("Network entities ranged not initialized. Connect to a CRDT Server");let p=(c&&[...t.values()].filter(T=>{let[I]=Sn.fromEntityId(T);return I>=c[0]&&I<=c[1]}).length)??0,h=t.size-p;if(!d&&h+kf>=e||d&&p+c[0]>=o)return i(d);for(let[T,I]of n.getMap())if(I<jo){if(d&&(T<c[0]||T>c[1])||!d&&T>=s)continue;let z=Sn.toEntityId(T,I+1);if(!t.has(z)&&!r.includes(z))return t.add(z),z}return i(d)}function u(d){return d<kf?!1:(t.has(d)?(t.delete(d),r.push(d)):m(d),!0)}function b(){let d=r;if(d.length){r=[];for(let p of d){let[h,T]=Sn.fromEntityId(p);n.addTo(h,T)}}return d}function m(d){let[p,h]=Sn.fromEntityId(d);n.addTo(p,h);for(let T=0;T<=h;T++)t.delete(Sn.toEntityId(p,T));return!0}function g(d){let[p,h]=Sn.fromEntityId(d);if(n.has(p,h))return!1;if(h>0){for(let T=0;T<=h-1;T++)t.delete(Sn.toEntityId(p,T));n.addTo(p,h-1)}return t.add(d),!0}function E(d){let[p,h]=Sn.fromEntityId(d);if(p<kf)return sn.Reserved;if(t.has(d))return sn.UsedEntity;let T=n.getMap().get(p);return T!==void 0&&T>=h?sn.Removed:sn.Unknown}return{setNetworkEntitiesRange:a,generateEntity:f,removeEntity:u,getExistingEntities(){return new Set(t)},getEntityState:E,releaseRemovedEntities:b,updateRemovedEntity:m,updateUsedEntity:g}}var vi=Y(Qo()),Fe=function(e,o,c,t){if(c==="a"&&!t)throw new TypeError("Private accessor was defined without a getter");if(typeof o=="function"?e!==o||!t:!o.has(e))throw new TypeError("Cannot read private member from an object whose class did not declare it");return c==="m"?t:c==="a"?t.call(e):t?t.value:o.get(e)},Me,Ut,yt;function C1(e,o){let c=Math.max(e,o)+1024;return Math.ceil(c/1024)*1024}var M1=10240,Ze=class{constructor(o,c,t){Me.add(this),this._buffer=o||new Uint8Array(M1),this.view=new DataView(this._buffer.buffer,this._buffer.byteOffset),this.woffset=t??(o?this._buffer.length:null)??0,this.roffset=c??0}buffer(){return this._buffer}bufferLength(){return this._buffer.length}resetBuffer(){this.roffset=0,this.woffset=0}currentReadOffset(){return this.roffset}currentWriteOffset(){return this.woffset}incrementReadOffset(o){return Fe(this,Me,"m",yt).call(this,o)}remainingBytes(){return this.woffset-this.roffset}readFloat32(){return this.view.getFloat32(Fe(this,Me,"m",yt).call(this,4),!0)}readFloat64(){return this.view.getFloat64(Fe(this,Me,"m",yt).call(this,8),!0)}readInt8(){return this.view.getInt8(Fe(this,Me,"m",yt).call(this,1))}readInt16(){return this.view.getInt16(Fe(this,Me,"m",yt).call(this,2),!0)}readInt32(){return this.view.getInt32(Fe(this,Me,"m",yt).call(this,4),!0)}readInt64(){return this.view.getBigInt64(Fe(this,Me,"m",yt).call(this,8),!0)}readUint8(){return this.view.getUint8(Fe(this,Me,"m",yt).call(this,1))}readUint16(){return this.view.getUint16(Fe(this,Me,"m",yt).call(this,2),!0)}readUint32(){return this.view.getUint32(Fe(this,Me,"m",yt).call(this,4),!0)}readUint64(){return this.view.getBigUint64(Fe(this,Me,"m",yt).call(this,8),!0)}readBuffer(){let o=this.view.getUint32(Fe(this,Me,"m",yt).call(this,4),!0);return this._buffer.subarray(Fe(this,Me,"m",yt).call(this,o),Fe(this,Me,"m",yt).call(this,0))}readUtf8String(){let o=this.view.getUint32(Fe(this,Me,"m",yt).call(this,4),!0);return vi.read(this._buffer,Fe(this,Me,"m",yt).call(this,o),Fe(this,Me,"m",yt).call(this,0))}incrementWriteOffset(o){return Fe(this,Me,"m",Ut).call(this,o)}toBinary(){return this._buffer.subarray(0,this.woffset)}toCopiedBinary(){return new Uint8Array(this.toBinary())}writeBuffer(o,c=!0){c&&this.writeUint32(o.byteLength);let t=Fe(this,Me,"m",Ut).call(this,o.byteLength);this._buffer.set(o,t)}writeUtf8String(o,c=!0){let t=vi.length(o);c&&this.writeUint32(t);let r=Fe(this,Me,"m",Ut).call(this,t);vi.write(o,this._buffer,r)}writeFloat32(o){let c=Fe(this,Me,"m",Ut).call(this,4);this.view.setFloat32(c,o,!0)}writeFloat64(o){let c=Fe(this,Me,"m",Ut).call(this,8);this.view.setFloat64(c,o,!0)}writeInt8(o){let c=Fe(this,Me,"m",Ut).call(this,1);this.view.setInt8(c,o)}writeInt16(o){let c=Fe(this,Me,"m",Ut).call(this,2);this.view.setInt16(c,o,!0)}writeInt32(o){let c=Fe(this,Me,"m",Ut).call(this,4);this.view.setInt32(c,o,!0)}writeInt64(o){let c=Fe(this,Me,"m",Ut).call(this,8);this.view.setBigInt64(c,o,!0)}writeUint8(o){let c=Fe(this,Me,"m",Ut).call(this,1);this.view.setUint8(c,o)}writeUint16(o){let c=Fe(this,Me,"m",Ut).call(this,2);this.view.setUint16(c,o,!0)}writeUint32(o){let c=Fe(this,Me,"m",Ut).call(this,4);this.view.setUint32(c,o,!0)}writeUint64(o){let c=Fe(this,Me,"m",Ut).call(this,8);this.view.setBigUint64(c,o,!0)}getFloat32(o){return this.view.getFloat32(o,!0)}getFloat64(o){return this.view.getFloat64(o,!0)}getInt8(o){return this.view.getInt8(o)}getInt16(o){return this.view.getInt16(o,!0)}getInt32(o){return this.view.getInt32(o,!0)}getInt64(o){return this.view.getBigInt64(o,!0)}getUint8(o){return this.view.getUint8(o)}getUint16(o){return this.view.getUint16(o,!0)}getUint32(o){return this.view.getUint32(o,!0)}getUint64(o){return this.view.getBigUint64(o,!0)}setFloat32(o,c){this.view.setFloat32(o,c,!0)}setFloat64(o,c){this.view.setFloat64(o,c,!0)}setInt8(o,c){this.view.setInt8(o,c)}setInt16(o,c){this.view.setInt16(o,c,!0)}setInt32(o,c){this.view.setInt32(o,c,!0)}setInt64(o,c){this.view.setBigInt64(o,c,!0)}setUint8(o,c){this.view.setUint8(o,c)}setUint16(o,c){this.view.setUint16(o,c,!0)}setUint32(o,c){this.view.setUint32(o,c,!0)}setUint64(o,c){this.view.setBigUint64(o,c,!0)}};Me=new WeakSet,Ut=function(o){if(this.woffset+o>this._buffer.byteLength){let c=C1(this._buffer.byteLength,this.woffset+o),t=new Uint8Array(c);t.set(this._buffer);let r=this._buffer.byteOffset;this._buffer=t,this.view=new DataView(this._buffer.buffer,r)}return this.woffset+=o,this.woffset-o},yt=function(o){if(this.roffset+o>this.woffset)throw new Error("Outside of the bounds of writen data.");return this.roffset+=o,this.roffset-o};var Te;(function(e){e[e.RESERVED=0]="RESERVED",e[e.PUT_COMPONENT=1]="PUT_COMPONENT",e[e.DELETE_COMPONENT=2]="DELETE_COMPONENT",e[e.DELETE_ENTITY=3]="DELETE_ENTITY",e[e.APPEND_VALUE=4]="APPEND_VALUE",e[e.MAX_MESSAGE_TYPE=5]="MAX_MESSAGE_TYPE"})(Te||(Te={}));var fn=8,Jt;(function(e){e[e.StateUpdatedTimestamp=1]="StateUpdatedTimestamp",e[e.StateOutdatedTimestamp=2]="StateOutdatedTimestamp",e[e.NoChanges=3]="NoChanges",e[e.StateOutdatedData=4]="StateOutdatedData",e[e.StateUpdatedData=5]="StateUpdatedData",e[e.EntityWasDeleted=6]="EntityWasDeleted",e[e.EntityDeleted=7]="EntityDeleted"})(Jt||(Jt={}));var un;(function(e){function o(n){let s=n.remainingBytes();if(s<fn)return!1;let a=n.getUint32(n.currentReadOffset());return!(s<a)}e.validate=o;function c(n){return o(n)?{length:n.readUint32(),type:n.readUint32()}:null}e.readHeader=c;function t(n){if(!o(n))return null;let s=n.currentReadOffset();return{length:n.getUint32(s),type:n.getUint32(s+4)}}e.getHeader=t;function r(n){let s=t(n);return s?(n.incrementReadOffset(s.length),!0):!1}e.consumeMessage=r})(un||(un={}));var uo;(function(e){e.MESSAGE_HEADER_LENGTH=12;function o(t,r,n,s){let a=fn+e.MESSAGE_HEADER_LENGTH,i=s.incrementWriteOffset(a);s.setUint32(i,a),s.setUint32(i+4,Te.DELETE_COMPONENT),s.setUint32(i+8,t),s.setUint32(i+12,r),s.setUint32(i+16,n)}e.write=o;function c(t){let r=un.readHeader(t);if(!r)return null;if(r.type!==Te.DELETE_COMPONENT)throw new Error("DeleteComponentOperation tried to read another message type.");return{...r,entityId:t.readUint32(),componentId:t.readUint32(),timestamp:t.readUint32()}}e.read=c})(uo||(uo={}));var $o;(function(e){e.MESSAGE_HEADER_LENGTH=16;function o(t,r,n,s,a){let i=a.incrementWriteOffset(fn+e.MESSAGE_HEADER_LENGTH);a.writeBuffer(s,!1);let f=a.currentWriteOffset()-i;a.setUint32(i,f),a.setUint32(i+4,Te.APPEND_VALUE),a.setUint32(i+8,t),a.setUint32(i+12,n),a.setUint32(i+16,r);let u=f-e.MESSAGE_HEADER_LENGTH-fn;a.setUint32(i+20,u)}e.write=o;function c(t){let r=un.readHeader(t);if(!r)return null;if(r.type!==Te.APPEND_VALUE)throw new Error("AppendValueOperation tried to read another message type.");return{...r,entityId:t.readUint32(),componentId:t.readUint32(),timestamp:t.readUint32(),data:t.readBuffer()}}e.read=c})($o||($o={}));var Ra;(function(e){e.MESSAGE_HEADER_LENGTH=4;function o(t,r){r.writeUint32(fn+4),r.writeUint32(Te.DELETE_ENTITY),r.writeUint32(t)}e.write=o;function c(t){let r=un.readHeader(t);if(!r)return null;if(r.type!==Te.DELETE_ENTITY)throw new Error("DeleteEntity tried to read another message type.");return{...r,entityId:t.readUint32()}}e.read=c})(Ra||(Ra={}));var lo;(function(e){e.MESSAGE_HEADER_LENGTH=16;function o(t,r,n,s,a){let i=a.incrementWriteOffset(fn+e.MESSAGE_HEADER_LENGTH);a.writeBuffer(s,!1);let f=a.currentWriteOffset()-i;a.setUint32(i,f),a.setUint32(i+4,Te.PUT_COMPONENT),a.setUint32(i+8,t),a.setUint32(i+12,n),a.setUint32(i+16,r);let u=f-e.MESSAGE_HEADER_LENGTH-fn;a.setUint32(i+20,u)}e.write=o;function c(t){let r=un.readHeader(t);if(!r)return null;if(r.type!==Te.PUT_COMPONENT)throw new Error("PutComponentOperation tried to read another message type.");return{...r,entityId:t.readUint32(),componentId:t.readUint32(),timestamp:t.readUint32(),data:t.readBuffer()}}e.read=c})(lo||(lo={}));function f2(e,o){let c=[],t=[],r=[],n=[];function s(b){return function(g){let E=new Ze(g),d;for(;d=un.getHeader(E);){let p=E.currentReadOffset();if(d.type===Te.DELETE_COMPONENT){let h=uo.read(E);t.push({...h,transportId:b,messageBuffer:E.buffer().subarray(p,E.currentReadOffset())})}else if(d.type===Te.PUT_COMPONENT){let h=lo.read(E);t.push({...h,transportId:b,messageBuffer:E.buffer().subarray(p,E.currentReadOffset())})}else if(d.type===Te.DELETE_ENTITY){let h=Ra.read(E);t.push({...h,transportId:b,messageBuffer:E.buffer().subarray(p,E.currentReadOffset())})}else if(d.type===Te.APPEND_VALUE){let h=$o.read(E);t.push({...h,transportId:b,messageBuffer:E.buffer().subarray(p,E.currentReadOffset())})}else E.incrementReadOffset(d.length)}}}function a(b){return b.splice(0,b.length)}async function i(){let b=a(t),m=new Ze,g=[];for(let E of b)if(E.type===Te.DELETE_ENTITY)g.push(E.entityId),r.push(E);else{let d=e.entityContainer.getEntityState(E.entityId);if(d===sn.Removed)continue;d===sn.Unknown&&e.entityContainer.updateUsedEntity(E.entityId);let p=e.getComponentOrNull(E.componentId);if(p){let[h,T]=p.updateFromCrdt(E);if(h){let I=m.currentWriteOffset();h.type===Te.PUT_COMPONENT?lo.write(E.entityId,h.timestamp,h.componentId,h.data,m):h.type===Te.DELETE_COMPONENT&&uo.write(E.entityId,p.componentId,h.timestamp,m),n.push({...E,messageBuffer:m.buffer().subarray(I,m.currentWriteOffset())})}else r.push(E),o&&o(E.entityId,E.type,p,T)}else r.push(E)}for(let E of g){for(let d=n.length-1;d>=0;d--)n[d].entityId===E&&n[d].type!==Te.DELETE_ENTITY&&n.splice(d,1);for(let d of e.componentsIter())d.entityDeleted(E,!0);e.entityContainer.updateRemovedEntity(E),o&&o(E,Te.DELETE_ENTITY)}}async function f(b){let m=a(r),g=a(n),E=new Ze;for(let p of e.componentsIter())for(let h of p.getCrdtUpdates()){let T=E.currentWriteOffset();if(c.some(I=>I.filter(h))&&(h.type===Te.PUT_COMPONENT?lo.write(h.entityId,h.timestamp,h.componentId,h.data,E):h.type===Te.DELETE_COMPONENT?uo.write(h.entityId,p.componentId,h.timestamp,E):h.type===Te.APPEND_VALUE&&$o.write(h.entityId,h.timestamp,h.componentId,h.data,E),m.push({...h,messageBuffer:E.buffer().subarray(T,E.currentWriteOffset())}),o)){let I=h.type===Te.PUT_COMPONENT||h.type===Te.APPEND_VALUE?p.get(h.entityId):void 0;o(h.entityId,h.type,p,I)}}for(let p of b){let h=E.currentWriteOffset();Ra.write(p,E),m.push({type:Te.DELETE_ENTITY,entityId:p,messageBuffer:E.buffer().subarray(h,E.currentWriteOffset())}),o&&o(p,Te.DELETE_ENTITY)}let d=new Ze;for(let p in c){let h=Number(p),T=c[h];d.resetBuffer();for(let z of g)z.transportId===h&&!m.find(ne=>ne.entityId===z.entityId&&ne.componentId&&ne.componentId===z.componentId)&&d.writeBuffer(z.messageBuffer,!1);for(let z of m)z.transportId!==h&&T.filter(z)&&d.writeBuffer(z.messageBuffer,!1);let I=d.currentWriteOffset()?d.toBinary():new Uint8Array([]);await T.send(I)}}function u(b){let m=c.push(b)-1;b.onmessage=s(m)}return{sendMessages:f,receiveMessages:i,addTransport:u}}var u2;(function(e){let o;(function(c){c[c.NETWORKED=0]="NETWORKED",c[c.RENDERER=1]="RENDERER"})(o=e.SynchronizedEntityType||(e.SynchronizedEntityType={}))})(u2||(u2={}));function Aa(e,o){if(e===o)return 0;if(e===null&&o!==null)return-1;if(e!==null&&o===null)return 1;if(e instanceof Uint8Array&&o instanceof Uint8Array){let c=e.byteLength-o.byteLength;if(c!==0)return c>0?1:-1;let t;for(let r=0,n=e.byteLength;r<n;r++)if(t=e[r]-o[r],t!==0)return t>0?1:-1;return 0}if(typeof e=="string"){let c=e.length-o.length;return c!==0?c>0?1:-1:e.localeCompare(o)}return e>o?1:-1}function id(e){return Object.freeze({...e})}function v1(e,o){let c=(o.get(e)||0)+1;return o.set(e,c),c}function P1(e,o,c,t){return function(n,s){for(let[a,i]of o)if(!(s&&!s(a)))if(t.has(a)){let f=t.get(a),u=new Ze;c.serialize(f,u),lo.write(a,i,e,u.toBinary(),n)}else uo.write(a,e,i,n)}}function U1(e,o,c,t){function r(n){let{entityId:s,timestamp:a}=n,i=o.get(s);if(i===void 0||i<a)return Jt.StateUpdatedTimestamp;if(i>a)return Jt.StateOutdatedTimestamp;if(n.type===Te.DELETE_COMPONENT&&!t.has(s))return Jt.NoChanges;let f=0;if(t.has(s)){let u=new Ze;c.serialize(t.get(s),u),f=Aa(u.toBinary(),n.data||null)}else f=Aa(null,n.data);return f===0?Jt.NoChanges:f>0?Jt.StateOutdatedData:Jt.StateUpdatedData}return n=>{if(n.type!==Te.PUT_COMPONENT&&n.type!==Te.DELETE_COMPONENT)return[null,t.get(n.entityId)];let s=r(n),a=n.entityId;switch(s){case Jt.StateUpdatedData:case Jt.StateUpdatedTimestamp:{if(o.set(a,n.timestamp),n.type===Te.PUT_COMPONENT){let i=new Ze(n.data);t.set(a,c.deserialize(i))}else t.delete(a);return[null,t.get(a)]}case Jt.StateOutdatedTimestamp:case Jt.StateOutdatedData:if(t.has(a)){let i=new Ze;return c.serialize(t.get(a),i),[{type:Te.PUT_COMPONENT,componentId:e,data:i.toBinary(),entityId:a,timestamp:o.get(a)},t.get(a)]}else return[{type:Te.DELETE_COMPONENT,componentId:e,entityId:a,timestamp:o.get(a)},void 0]}return[null,t.get(a)]}}function B1(e,o,c,t,r){return function*(){for(let n of c){let s=v1(n,o);if(r.has(n)){let a=new Ze;t.serialize(r.get(n),a),yield{type:Te.PUT_COMPONENT,componentId:e,entityId:n,data:a.toBinary(),timestamp:s}}else yield{type:Te.DELETE_COMPONENT,componentId:e,entityId:n,timestamp:s}}c.clear()}}function ad(e,o,c){let t=new Map,r=new Set,n=new Map;return{get componentId(){return o},get componentName(){return e},get componentType(){return 0},schema:c,has(s){return t.has(s)},deleteFrom(s,a=!0){let i=t.get(s);return t.delete(s)&&a&&r.add(s),i||null},entityDeleted(s,a){t.delete(s)&&a&&r.add(s)},getOrNull(s){let a=t.get(s);return a?id(a):null},get(s){let a=t.get(s);if(!a)throw new Error(`[getFrom] Component ${e} for entity #${s} not found`);return id(a)},create(s,a){if(t.get(s))throw new Error(`[create] Component ${e} for ${s} already exists`);let f=a===void 0?c.create():c.extend?c.extend(a):a;return t.set(s,f),r.add(s),f},createOrReplace(s,a){let i=a===void 0?c.create():c.extend?c.extend(a):a;return t.set(s,i),r.add(s),i},getMutableOrNull(s){let a=t.get(s);return a?(r.add(s),a):null},getOrCreateMutable(s,a){let i=t.get(s);return i?(r.add(s),i):this.create(s,a)},getMutable(s){let a=this.getMutableOrNull(s);if(a===null)throw new Error(`[mutable] Component ${e} for ${s} not found`);return a},*iterator(){for(let[s,a]of t)yield[s,a]},*dirtyIterator(){for(let s of r)yield s},getCrdtUpdates:B1(o,n,r,c,t),updateFromCrdt:U1(o,n,c,t),dumpCrdtStateToBuffer:P1(o,n,c,t)}}function d2(){let e=[];function o(){e.sort((r,n)=>n.priority-r.priority)}function c(r,n,s){let a=s??r.name;if(e.find(i=>i.fn===r))throw new Error(`System ${JSON.stringify(a)} already added to the engine`);e.push({fn:r,priority:n,name:a}),o()}function t(r){let n=-1;return typeof r=="string"?n=e.findIndex(s=>s.name===r):n=e.findIndex(s=>s.fn===r),n===-1?!1:(e.splice(n,1),o(),!0)}return{add:c,remove:t,getSystems(){return e}}}var cd=p2(new Set);function l2(){throw new Error("The set is frozen")}function p2(e){return e.add=l2,e.clear=l2,e}function D1(e,o){return e.timestamp>o.timestamp?1:-1}function m2(e,o,c,t){let r=new Map,n=new Set,s=[];function a(b){let m=b.raw.length;return m>1&&b.raw[m-1].timestamp<=b.raw[m-2].timestamp}function i(b){let m=r.get(b);if(m){for(a(m)&&m.raw.sort(D1);m.raw.length>t.maxElements;)m.raw.shift();let g=p2(new Set(m?.raw.map(E=>E.value)));return m.frozenSet=g,g}else return cd}function f(b,m){let g=r.get(b);g||(g={raw:[],frozenSet:cd},r.set(b,g));let E=c.extend?c.extend(m):m,d=t.timestampFunction(E);return nd&&Object.freeze(E),g.raw.push({value:E,timestamp:d}),{set:i(b),value:E}}return{get componentId(){return o},get componentName(){return e},get componentType(){return 1},schema:c,has(b){return r.has(b)},entityDeleted(b){r.delete(b)},get(b){let m=r.get(b);return m?m.frozenSet:cd},addValue(b,m){let{set:g,value:E}=f(b,m);n.add(b);let d=new Ze;return c.serialize(E,d),s.push({componentId:o,data:d.toBinary(),entityId:b,timestamp:0,type:Te.APPEND_VALUE}),g},*iterator(){for(let[b,m]of r)yield[b,m.frozenSet]},*dirtyIterator(){for(let b of n)yield b},getCrdtUpdates(){return n.clear(),s.splice(0,s.length)},updateFromCrdt(b){if(b.type===Te.APPEND_VALUE){let m=new Ze(b.data);f(b.entityId,c.deserialize(m))}return[null,void 0]},dumpCrdtStateToBuffer:function(b,m){for(let[g,{raw:E}]of r)if(!(m&&!m(g)))for(let d of E){let p=new Ze;c.serialize(d.value,p),$o.write(g,0,o,p.toBinary(),b)}}}}function*h2(e,o){if(o.has(e)){o.delete(e);for(let[c,t]of o)t.parent===e&&(yield*h2(c,o));yield e}}function L1(e,o,c){let t=new Map(e.getEntitiesWith(c));return h2(o,t)}function E2(e,o){let c=Mi(e);for(let t of L1(e,o,c))e.removeEntity(t)}var YP=1<<20;var y2;(function(e){e[e.LastWriteWinElementSet=0]="LastWriteWinElementSet",e[e.GrowOnlyValueSet=1]="GrowOnlyValueSet"})(y2||(y2={}));function F1(){let e=s2(),o=new Map,c=d2(),t,r=!1;function n(C,L=1e5,A){c.add(C,L,A)}function s(C){return c.remove(C)}function a(){if(!t)throw new Error("Network manager not initialized. Start CRDT Server");return t}function i(C,L){return e.setNetworkEntitiesRange(C,L),t={addEntity:()=>e.generateEntity(!0)},t}function f(){return e.generateEntity()}function u(C){for(let[,L]of o)L.entityDeleted(C,!0);return e.removeEntity(C)}function b(C){return E2({removeEntity:u,defineComponentFromSchema:g,getEntitiesWith:T},C)}function m(C,L){if(r)throw new Error("Engine is already sealed. No components can be added at this stage");let A=wn(C);if(o.get(A))throw new Error(`Component number ${A} was already registered.`);if(L.componentName!==C)throw new Error(`Component name doesn't match componentDefinition.componentName ${C} != ${L.componentName}`);if(L.componentId!==A)throw new Error(`Component number doesn't match componentDefinition.componentId ${A} != ${L.componentId}`);return o.set(A,L),L}function g(C,L){let A=wn(C),O=o.get(A);if(O)return O;if(r)throw new Error("Engine is already sealed. No components can be added at this stage");let G=ad(C,A,L);return o.set(A,G),G}function E(C,L,A){let O=wn(C),G=o.get(O);if(G)return G;if(r)throw new Error("Engine is already sealed. No components can be added at this stage");let K=m2(C,O,L,A);return o.set(O,K),K}function d(C,L,A){let O=wn(C),G=o.get(O);if(G)return G;if(r)throw new Error("Engine is already sealed. No components can be added at this stage");let K=P.Map(L,A),ie=ad(C,O,K),le={...ie,create(Ee,ye){return ie.create(Ee,ye)},createOrReplace(Ee,ye){return ie.createOrReplace(Ee,ye)}};return o.set(O,le),le}function p(C){let L=typeof C=="number"?C:wn(C),A=o.get(L);if(!A)throw new Error(`Component ${L} not found. You need to declare the components at the beginnig of the engine declaration`);return A}function h(C){let L=typeof C=="number"?C:wn(C);return o.get(L)??null}function*T(...C){for(let[L,...A]of z(...C))yield[L,...A.map(O=>O.get(L))]}function I(C){let L=xf({defineComponent:d});for(let[A,O]of T(L))if(O.value===C)return A;return null}function*z(...C){let[L,...A]=C;for(let[O]of L.iterator()){let G=!0;for(let K of A)if(!K.has(O)){G=!1;break}G&&(yield[O,...C])}}function ne(){return c.getSystems()}function V(){return o.values()}function W(C){if(r)throw new Error("Engine is already sealed. No components can be removed at this stage");let L=typeof C=="number"?C:wn(C);o.delete(L)}Mi({defineComponentFromSchema:g});function X(){r||(r=!0)}return{addEntity:f,removeEntity:u,removeEntityWithChildren:b,addSystem:n,getSystems:ne,removeSystem:s,defineComponent:d,defineComponentFromSchema:g,defineValueSetComponentFromSchema:E,getEntitiesWith:T,getComponent:p,getComponentOrNull:h,getEntityOrNullByName:I,removeComponentDefinition:W,registerComponentDefinition:m,entityContainer:e,componentsIter:V,seal:X,addNetworkManager:i,getNetworkManager:a}}function b2(e){let o=F1(),c=f2(o,e?.onChangeFunction||null);async function t(r){await c.receiveMessages();for(let s of o.getSystems()){let a=s.fn(r);od(a,`A system (${s.name||"anonymous"}) returned a thenable. Systems cannot be async functions. Documentation: https://dcl.gg/sdk/sync-systems`)}let n=o.entityContainer.releaseRemovedEntities();await c.sendMessages(n)}return{addEntity:o.addEntity,removeEntity:o.removeEntity,removeEntityWithChildren:o.removeEntityWithChildren,addSystem:o.addSystem,removeSystem:o.removeSystem,defineComponent:o.defineComponent,defineComponentFromSchema:o.defineComponentFromSchema,defineValueSetComponentFromSchema:o.defineValueSetComponentFromSchema,registerComponentDefinition:o.registerComponentDefinition,getEntitiesWith:o.getEntitiesWith,getComponent:o.getComponent,getComponentOrNull:o.getComponentOrNull,removeComponentDefinition:o.removeComponentDefinition,componentsIter:o.componentsIter,seal:o.seal,getEntityOrNullByName:o.getEntityOrNullByName,update:t,RootEntity:0,PlayerEntity:1,CameraEntity:2,getEntityState:o.entityContainer.getEntityState,addTransport:c.addTransport,entityContainer:o.entityContainer,addNetworkManager:o.addNetworkManager,getNetworkManager:o.getNetworkManager}}function T2(e){let o=ed(e),c=df(e),t=uf(e),r=new Map;function n(f){let u=c.getOrNull(f),b=o.getOrNull(f),m=r.get(f);return!u||!b?!1:!!((s(f)||u.state===1)&&!m?.completed&&(m?.frames??0)>2)}function s(f){let u=o.getOrNull(f),b=r.get(f)?.tween;if(u&&!b||!u&&b)return!0;let m=new Ze;return o.schema.serialize(u,m),Aa(m.toBinary(),b)}let a=[];e.addSystem(()=>{for(let f of a)f();a.length=0;for(let[f,u]of e.getEntitiesWith(o)){if(s(f)){let m=new Ze;o.schema.serialize(u,m),r.set(f,{tween:m.toBinary(),frames:0,completed:!1,changed:!0});continue}let b=r.get(f);if(b.frames+=1,b.changed=!1,n(f)){b.frames=0,b.completed=!0;let m=t.getOrNull(f);if(!m)continue;let{sequence:g}=m;if(g&&g.length){let[E,...d]=g;o.createOrReplace(f,E);let p=t.getMutable(f);p.sequence=d,m.loop===0&&p.sequence.push(u)}else m.loop===1?o.createOrReplace(f,i(u)):m.loop===0&&(o.deleteFrom(f),r.delete(f),a.push(()=>{o.createOrReplace(f,u)}))}}},Number.NEGATIVE_INFINITY);function i(f){if(f.mode?.$case==="move"&&f.mode.move)return{...f,mode:{...f.mode,move:{start:f.mode.move.end,end:f.mode.move.start}}};if(f.mode?.$case==="rotate"&&f.mode.rotate)return{...f,mode:{...f.mode,rotate:{start:f.mode.rotate.end,end:f.mode.rotate.start}}};if(f.mode?.$case==="scale"&&f.mode.scale)return{...f,mode:{...f.mode,scale:{start:f.mode.scale.end,end:f.mode.scale.start}}};throw new Error("Invalid tween")}return{tweenCompleted:n}}var Wn=b2();var PU=T2(Wn);var sd=Vu(Wn);var Rf=qu(Wn),fd=Ju(Wn);var Pi=lf(Wn);var S2;(function(e){e[e.CT_FIRST_PERSON=0]="CT_FIRST_PERSON",e[e.CT_THIRD_PERSON=1]="CT_THIRD_PERSON",e[e.CT_CINEMATIC=2]="CT_CINEMATIC"})(S2||(S2={}));var _2;(function(e){e[e.IA_POINTER=0]="IA_POINTER",e[e.IA_PRIMARY=1]="IA_PRIMARY",e[e.IA_SECONDARY=2]="IA_SECONDARY",e[e.IA_ANY=3]="IA_ANY",e[e.IA_FORWARD=4]="IA_FORWARD",e[e.IA_BACKWARD=5]="IA_BACKWARD",e[e.IA_RIGHT=6]="IA_RIGHT",e[e.IA_LEFT=7]="IA_LEFT",e[e.IA_JUMP=8]="IA_JUMP",e[e.IA_WALK=9]="IA_WALK",e[e.IA_ACTION_3=10]="IA_ACTION_3",e[e.IA_ACTION_4=11]="IA_ACTION_4",e[e.IA_ACTION_5=12]="IA_ACTION_5",e[e.IA_ACTION_6=13]="IA_ACTION_6"})(_2||(_2={}));var x2;(function(e){e[e.PET_UP=0]="PET_UP",e[e.PET_DOWN=1]="PET_DOWN",e[e.PET_HOVER_ENTER=2]="PET_HOVER_ENTER",e[e.PET_HOVER_LEAVE=3]="PET_HOVER_LEAVE"})(x2||(x2={}));var k2;(function(e){e[e.UNKNOWN=0]="UNKNOWN",e[e.LOADING=1]="LOADING",e[e.NOT_FOUND=2]="NOT_FOUND",e[e.FINISHED_WITH_ERROR=3]="FINISHED_WITH_ERROR",e[e.FINISHED=4]="FINISHED"})(k2||(k2={}));var R2;(function(e){e[e.TAM_TOP_LEFT=0]="TAM_TOP_LEFT",e[e.TAM_TOP_CENTER=1]="TAM_TOP_CENTER",e[e.TAM_TOP_RIGHT=2]="TAM_TOP_RIGHT",e[e.TAM_MIDDLE_LEFT=3]="TAM_MIDDLE_LEFT",e[e.TAM_MIDDLE_CENTER=4]="TAM_MIDDLE_CENTER",e[e.TAM_MIDDLE_RIGHT=5]="TAM_MIDDLE_RIGHT",e[e.TAM_BOTTOM_LEFT=6]="TAM_BOTTOM_LEFT",e[e.TAM_BOTTOM_CENTER=7]="TAM_BOTTOM_CENTER",e[e.TAM_BOTTOM_RIGHT=8]="TAM_BOTTOM_RIGHT"})(R2||(R2={}));var A2;(function(e){e[e.F_SANS_SERIF=0]="F_SANS_SERIF",e[e.F_SERIF=1]="F_SERIF",e[e.F_MONOSPACE=2]="F_MONOSPACE"})(A2||(A2={}));function ud(e){let o=e.getComponentOrNull("composite::root");return o||e.defineComponent("composite::root",{src:P.String,entities:P.Array(P.Map({src:P.Entity,dest:P.Entity}))})}var V1="/";function W1(e,o=!1){let c="",t=0,r=-1,n=0,s;for(let a=0;a<=e.length;++a){if(a<e.length)s=e.charCodeAt(a);else{if(s===47)break;s=47}if(s===47){if(!(r===a-1||n===1))if(r!==a-1&&n===2){if(c.length<2||t!==2||c.charCodeAt(c.length-1)!==46||c.charCodeAt(c.length-2)!==46){if(c.length>2){let i=c.lastIndexOf("/");if(i!==c.length-1){i===-1?(c="",t=0):(c=c.slice(0,i),t=c.length-1-c.lastIndexOf("/")),r=a,n=0;continue}}else if(c.length===2||c.length===1){c="",t=0,r=a,n=0;continue}}o&&(c.length>0?c+="/..":c="..",t=2)}else c.length>0?c+="/"+e.slice(r+1,a):c=e.slice(r+1,a),t=a-r-1;r=a,n=0}else s===46&&n!==-1?++n:n=-1}return c}function Af(...e){let o="",c=!1,t;for(let r=e.length-1;r>=-1&&!c;r--){let n;r>=0?n=e[r]:(t===void 0&&(t=V1),n=t),n.length!==0&&(o=n+"/"+o,c=n.charCodeAt(0)===47)}return o=W1(o,!c),c?o.length>0?"/"+o:"/":o.length>0?o:"."}function N2(e){if(e.length===0)return".";let o=e.charCodeAt(0),c=o===47,t=-1,r=!0;for(let n=e.length-1;n>=1;--n)if(o=e.charCodeAt(n),o===47){if(!r){t=n;break}}else r=!1;return t===-1?c?"/":".":c&&t===1?"//":e.slice(0,t)}function Nf(e,o){return(e.startsWith(".")?Af(o,e):Af(e)).substring(1)}var Ui;(function(e){e[e.EMM_NONE=0]="EMM_NONE",e[e.EMM_NEXT_AVAILABLE=1]="EMM_NEXT_AVAILABLE",e[e.EMM_DIRECT_MAPPING=2]="EMM_DIRECT_MAPPING"})(Ui||(Ui={}));function g2(e,o){return o.data?.$case==="json"?o.data.json:e.schema.deserialize(new Ze(o.data?.binary))}function G1(e,o){let c=e.getComponentOrNull(o.name);if(c)return c;if(o.name.startsWith("core::")){if(o.name in Ku)return Ku[o.name](e);throw new Error(`The core component ${o.name} was not found.`)}else{if(o.jsonSchema)return e.defineComponentFromSchema(o.name,P.fromJson(o.jsonSchema));throw new Error(`${o.name} is not defined and there is no schema to define it.`)}}function j1(e,o,c,{entityMapping:t}){let r=c.get(o);if(r)return r;if(t?.type===Ui.EMM_DIRECT_MAPPING){let s=t.getCompositeEntity(o);return c.set(o,s),s}let n=t?.type===Ui.EMM_NEXT_AVAILABLE?t.getNextAvailableEntity():e.addEntity();if(n===null)throw new Error("There is no more entities to allocate");return c.set(o,n),n}function dd(e,o,c,t){let{rootEntity:r,alreadyRequestedSrc:n,entityMapping:s}=t,a=n||new Set,i=N2(Af(o.src)),f=wn("core::Transform"),u=ud(e),b=new Map,m=p=>j1(e,p,b,t),g=r??m(0);r&&b.set(0,r);let E=o.composite.components.find(p=>p.name===u.componentName);if(E)for(let[p,h]of E.data){let T=g2(u,h),I=Nf(T.src,i),z=c.getCompositeOrNull(I),ne=m(p);if(z){if(a.has(z.src)||z.src===o.src)throw new Error(`Composite ${o.src} has a recursive instanciation while try to instance ${z.src}. Previous instances: ${a.toString()}`);dd(e,z,c,{rootEntity:ne,alreadyRequestedSrc:new Set(a).add(z.src),entityMapping:s?.type===Ui.EMM_NEXT_AVAILABLE?s:void 0})}}for(let p of o.composite.components){if(p.name===u.componentName)continue;let h=G1(e,p);for(let[T,I]of p.data){let z=g2(h,I),ne=m(T),V=h.create(ne,z);if(h.componentId===f){let W=V;W.parent?W.parent=m(W.parent):W.parent=m(0)}else P.mutateNestedValues(h.schema.jsonSchema,V,(W,X)=>X.serializationType==="entity"?{changed:!0,value:m(W)}:{changed:!1})}}let d=u.getMutableOrNull(g)||u.create(g);for(let[p,h]of b)d.entities.push({src:p,dest:h});return d.src=o.src,g}var Kt=Y(J());var Xt=Y(J());var O2;(function(e){e[e.NULL_VALUE=0]="NULL_VALUE"})(O2||(O2={}));function $1(e){switch(e){case 0:case"NULL_VALUE":return 0;default:throw new M2.Error("Unrecognized enum value "+e+" for enum NullValue")}}function Y1(e){switch(e){case 0:return"NULL_VALUE";default:throw new M2.Error("Unrecognized enum value "+e+" for enum NullValue")}}function w2(){return{fields:new Map}}var Bi;(function(e){function o(a,i=Xt.default.Writer.create()){return a.fields.forEach((f,u)=>{f!==void 0&&gf.encode({key:u,value:f},i.uint32(10).fork()).ldelim()}),i}e.encode=o;function c(a,i){let f=a instanceof Xt.default.Reader?a:Xt.default.Reader.create(a),u=i===void 0?f.len:f.pos+i,b=w2();for(;f.pos<u;){let m=f.uint32();switch(m>>>3){case 1:if(m!==10)break;let g=gf.decode(f,f.uint32());g.value!==void 0&&b.fields.set(g.key,g.value);continue}if((m&7)===4||m===0)break;f.skipType(m&7)}return b}e.decode=c;function t(a){return{fields:J1(a.fields)?Object.entries(a.fields).reduce((i,[f,u])=>(i.set(f,u),i),new Map):new Map}}e.fromJSON=t;function r(a){let i={};return i.fields={},a.fields&&a.fields.forEach((f,u)=>{i.fields[u]=f}),i}e.toJSON=r;function n(a){let i=w2();return a!==void 0&&Object.keys(a).forEach(f=>{i.fields.set(f,a[f])}),i}e.wrap=n;function s(a){let i={};return[...a.fields.keys()].forEach(f=>{i[f]=a.fields.get(f)}),i}e.unwrap=s})(Bi||(Bi={}));function q1(){return{key:"",value:void 0}}var gf;(function(e){function o(n,s=Xt.default.Writer.create()){return n.key!==""&&s.uint32(10).string(n.key),n.value!==void 0&&lt.encode(lt.wrap(n.value),s.uint32(18).fork()).ldelim(),s}e.encode=o;function c(n,s){let a=n instanceof Xt.default.Reader?n:Xt.default.Reader.create(n),i=s===void 0?a.len:a.pos+s,f=q1();for(;a.pos<i;){let u=a.uint32();switch(u>>>3){case 1:if(u!==10)break;f.key=a.string();continue;case 2:if(u!==18)break;f.value=lt.unwrap(lt.decode(a,a.uint32()));continue}if((u&7)===4||u===0)break;a.skipType(u&7)}return f}e.decode=c;function t(n){return{key:po(n.key)?String(n.key):"",value:po(n?.value)?n.value:void 0}}e.fromJSON=t;function r(n){let s={};return n.key!==void 0&&(s.key=n.key),n.value!==void 0&&(s.value=n.value),s}e.toJSON=r})(gf||(gf={}));function I2(){return{kind:void 0}}var lt;(function(e){function o(a,i=Xt.default.Writer.create()){switch(a.kind?.$case){case"nullValue":i.uint32(8).int32(a.kind.nullValue);break;case"numberValue":i.uint32(17).double(a.kind.numberValue);break;case"stringValue":i.uint32(26).string(a.kind.stringValue);break;case"boolValue":i.uint32(32).bool(a.kind.boolValue);break;case"structValue":Bi.encode(Bi.wrap(a.kind.structValue),i.uint32(42).fork()).ldelim();break;case"listValue":Di.encode(Di.wrap(a.kind.listValue),i.uint32(50).fork()).ldelim();break}return i}e.encode=o;function c(a,i){let f=a instanceof Xt.default.Reader?a:Xt.default.Reader.create(a),u=i===void 0?f.len:f.pos+i,b=I2();for(;f.pos<u;){let m=f.uint32();switch(m>>>3){case 1:if(m!==8)break;b.kind={$case:"nullValue",nullValue:f.int32()};continue;case 2:if(m!==17)break;b.kind={$case:"numberValue",numberValue:f.double()};continue;case 3:if(m!==26)break;b.kind={$case:"stringValue",stringValue:f.string()};continue;case 4:if(m!==32)break;b.kind={$case:"boolValue",boolValue:f.bool()};continue;case 5:if(m!==42)break;b.kind={$case:"structValue",structValue:Bi.unwrap(Bi.decode(f,f.uint32()))};continue;case 6:if(m!==50)break;b.kind={$case:"listValue",listValue:Di.unwrap(Di.decode(f,f.uint32()))};continue}if((m&7)===4||m===0)break;f.skipType(m&7)}return b}e.decode=c;function t(a){return{kind:po(a.nullValue)?{$case:"nullValue",nullValue:$1(a.nullValue)}:po(a.numberValue)?{$case:"numberValue",numberValue:Number(a.numberValue)}:po(a.stringValue)?{$case:"stringValue",stringValue:String(a.stringValue)}:po(a.boolValue)?{$case:"boolValue",boolValue:!!a.boolValue}:po(a.structValue)?{$case:"structValue",structValue:a.structValue}:po(a.listValue)?{$case:"listValue",listValue:[...a.listValue]}:void 0}}e.fromJSON=t;function r(a){let i={};return a.kind?.$case==="nullValue"&&(i.nullValue=a.kind?.nullValue!==void 0?Y1(a.kind?.nullValue):void 0),a.kind?.$case==="numberValue"&&(i.numberValue=a.kind?.numberValue),a.kind?.$case==="stringValue"&&(i.stringValue=a.kind?.stringValue),a.kind?.$case==="boolValue"&&(i.boolValue=a.kind?.boolValue),a.kind?.$case==="structValue"&&(i.structValue=a.kind?.structValue),a.kind?.$case==="listValue"&&(i.listValue=a.kind?.listValue),i}e.toJSON=r;function n(a){let i=I2();if(a===null)i.kind={$case:"nullValue",nullValue:0};else if(typeof a=="boolean")i.kind={$case:"boolValue",boolValue:a};else if(typeof a=="number")i.kind={$case:"numberValue",numberValue:a};else if(typeof a=="string")i.kind={$case:"stringValue",stringValue:a};else if(Array.isArray(a))i.kind={$case:"listValue",listValue:a};else if(typeof a=="object")i.kind={$case:"structValue",structValue:a};else if(typeof a<"u")throw new Error("Unsupported any value type: "+typeof a);return i}e.wrap=n;function s(a){return a.kind?.$case==="nullValue"?null:a.kind?.$case==="numberValue"?a.kind?.numberValue:a.kind?.$case==="stringValue"?a.kind?.stringValue:a.kind?.$case==="boolValue"?a.kind?.boolValue:a.kind?.$case==="structValue"?a.kind?.structValue:a.kind?.$case==="listValue"?a.kind?.listValue:void 0}e.unwrap=s})(lt||(lt={}));function C2(){return{values:[]}}var Di;(function(e){function o(a,i=Xt.default.Writer.create()){for(let f of a.values)lt.encode(lt.wrap(f),i.uint32(10).fork()).ldelim();return i}e.encode=o;function c(a,i){let f=a instanceof Xt.default.Reader?a:Xt.default.Reader.create(a),u=i===void 0?f.len:f.pos+i,b=C2();for(;f.pos<u;){let m=f.uint32();switch(m>>>3){case 1:if(m!==10)break;b.values.push(lt.unwrap(lt.decode(f,f.uint32())));continue}if((m&7)===4||m===0)break;f.skipType(m&7)}return b}e.decode=c;function t(a){return{values:Array.isArray(a?.values)?[...a.values]:[]}}e.fromJSON=t;function r(a){let i={};return a.values?i.values=a.values.map(f=>f):i.values=[],i}e.toJSON=r;function n(a){let i=C2();return i.values=a??[],i}e.wrap=n;function s(a){return a?.hasOwnProperty("values")&&Array.isArray(a.values)?a.values:a}e.unwrap=s})(Di||(Di={}));var M2=(()=>{if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof global<"u")return global;throw"Unable to locate global object"})();function J1(e){return typeof e=="object"&&e!==null}function po(e){return e!=null}function X1(){return{data:void 0}}var mo;(function(e){function o(n,s=Kt.default.Writer.create()){switch(n.data?.$case){case"json":lt.encode(lt.wrap(n.data.json),s.uint32(10).fork()).ldelim();break;case"binary":s.uint32(18).bytes(n.data.binary);break}return s}e.encode=o;function c(n,s){let a=n instanceof Kt.default.Reader?n:Kt.default.Reader.create(n),i=s===void 0?a.len:a.pos+s,f=X1();for(;a.pos<i;){let u=a.uint32();switch(u>>>3){case 1:if(u!==10)break;f.data={$case:"json",json:lt.unwrap(lt.decode(a,a.uint32()))};continue;case 2:if(u!==18)break;f.data={$case:"binary",binary:a.bytes()};continue}if((u&7)===4||u===0)break;a.skipType(u&7)}return f}e.decode=c;function t(n){return{data:qo(n.json)?{$case:"json",json:n.json}:qo(n.binary)?{$case:"binary",binary:eT(n.binary)}:void 0}}e.fromJSON=t;function r(n){let s={};return n.data?.$case==="json"&&(s.json=n.data?.json),n.data?.$case==="binary"&&(s.binary=n.data?.binary!==void 0?tT(n.data?.binary):void 0),s}e.toJSON=r})(mo||(mo={}));function K1(){return{name:"",jsonSchema:void 0,data:new Map}}var Li;(function(e){function o(n,s=Kt.default.Writer.create()){return n.name!==""&&s.uint32(10).string(n.name),n.jsonSchema!==void 0&&lt.encode(lt.wrap(n.jsonSchema),s.uint32(18).fork()).ldelim(),n.data.forEach((a,i)=>{Of.encode({key:i,value:a},s.uint32(26).fork()).ldelim()}),s}e.encode=o;function c(n,s){let a=n instanceof Kt.default.Reader?n:Kt.default.Reader.create(n),i=s===void 0?a.len:a.pos+s,f=K1();for(;a.pos<i;){let u=a.uint32();switch(u>>>3){case 1:if(u!==10)break;f.name=a.string();continue;case 2:if(u!==18)break;f.jsonSchema=lt.unwrap(lt.decode(a,a.uint32()));continue;case 3:if(u!==26)break;let b=Of.decode(a,a.uint32());b.value!==void 0&&f.data.set(b.key,b.value);continue}if((u&7)===4||u===0)break;a.skipType(u&7)}return f}e.decode=c;function t(n){return{name:qo(n.name)?String(n.name):"",jsonSchema:qo(n?.jsonSchema)?n.jsonSchema:void 0,data:nT(n.data)?Object.entries(n.data).reduce((s,[a,i])=>(s.set(Number(a),mo.fromJSON(i)),s),new Map):new Map}}e.fromJSON=t;function r(n){let s={};return n.name!==void 0&&(s.name=n.name),n.jsonSchema!==void 0&&(s.jsonSchema=n.jsonSchema),s.data={},n.data&&n.data.forEach((a,i)=>{s.data[i]=mo.toJSON(a)}),s}e.toJSON=r})(Li||(Li={}));function Q1(){return{key:0,value:void 0}}var Of;(function(e){function o(n,s=Kt.default.Writer.create()){return n.key!==0&&s.uint32(8).int32(n.key),n.value!==void 0&&mo.encode(n.value,s.uint32(18).fork()).ldelim(),s}e.encode=o;function c(n,s){let a=n instanceof Kt.default.Reader?n:Kt.default.Reader.create(n),i=s===void 0?a.len:a.pos+s,f=Q1();for(;a.pos<i;){let u=a.uint32();switch(u>>>3){case 1:if(u!==8)break;f.key=a.int32();continue;case 2:if(u!==18)break;f.value=mo.decode(a,a.uint32());continue}if((u&7)===4||u===0)break;a.skipType(u&7)}return f}e.decode=c;function t(n){return{key:qo(n.key)?Number(n.key):0,value:qo(n.value)?mo.fromJSON(n.value):void 0}}e.fromJSON=t;function r(n){let s={};return n.key!==void 0&&(s.key=Math.round(n.key)),n.value!==void 0&&(s.value=n.value?mo.toJSON(n.value):void 0),s}e.toJSON=r})(Of||(Of={}));function Z1(){return{version:0,components:[]}}var Yo;(function(e){function o(n,s=Kt.default.Writer.create()){n.version!==0&&s.uint32(8).int32(n.version);for(let a of n.components)Li.encode(a,s.uint32(18).fork()).ldelim();return s}e.encode=o;function c(n,s){let a=n instanceof Kt.default.Reader?n:Kt.default.Reader.create(n),i=s===void 0?a.len:a.pos+s,f=Z1();for(;a.pos<i;){let u=a.uint32();switch(u>>>3){case 1:if(u!==8)break;f.version=a.int32();continue;case 2:if(u!==18)break;f.components.push(Li.decode(a,a.uint32()));continue}if((u&7)===4||u===0)break;a.skipType(u&7)}return f}e.decode=c;function t(n){return{version:qo(n.version)?Number(n.version):0,components:Array.isArray(n?.components)?n.components.map(s=>Li.fromJSON(s)):[]}}e.fromJSON=t;function r(n){let s={};return n.version!==void 0&&(s.version=Math.round(n.version)),n.components?s.components=n.components.map(a=>a?Li.toJSON(a):void 0):s.components=[],s}e.toJSON=r})(Yo||(Yo={}));var zi=(()=>{if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof global<"u")return global;throw"Unable to locate global object"})();function eT(e){if(zi.Buffer)return Uint8Array.from(zi.Buffer.from(e,"base64"));{let o=zi.atob(e),c=new Uint8Array(o.length);for(let t=0;t<o.length;++t)c[t]=o.charCodeAt(t);return c}}function tT(e){if(zi.Buffer)return zi.Buffer.from(e).toString("base64");{let o=[];return e.forEach(c=>{o.push(String.fromCharCode(c))}),zi.btoa(o.join(""))}}function nT(e){return typeof e=="object"&&e!==null}function qo(e){return e!=null}var v2;(function(e){function o(a){return Yo.fromJSON(a)}e.fromJson=o;function c(a){return Yo.decode(a)}e.fromBinary=c;function t(a){return Yo.toJSON(a)}e.toJson=t;function r(a){return Yo.encode(a).finish()}e.toBinary=r;function n(a,i,f,u={}){dd(a,i,f,u)}e.instance=n;function s(a,i="/"){return Nf(a,i)}e.resolveAndNormalizePath=s})(v2||(v2={}));var Fi=r2(Wn);var gB=xf(Wn);function P2(e,o,c){let r=Vi(ct.ACTION_TYPES,e).getOrCreateMutable(e.RootEntity),n={type:o,jsonSchema:JSON.stringify(c?.jsonSchema||P.Map({}).jsonSchema)};r.value=[...r.value.filter(s=>s.type!==n.type),n]}function ve(e){return JSON.parse(e.jsonPayload)}var ct;(function(e){e.ACTION_TYPES="asset-packs::ActionTypes",e.ACTIONS="asset-packs::Actions",e.COUNTER="asset-packs::Counter",e.TRIGGERS="asset-packs::Triggers",e.STATES="asset-packs::States"})(ct||(ct={}));var Hn;(function(e){e.MOVE_ITEM="move_item",e.ROTATE_ITEM="rotate_item",e.SCALE_ITEM="scale_item"})(Hn||(Hn={}));var Na;(function(e){e.LINEAR="linear",e.EASEINQUAD="easeinquad",e.EASEOUTQUAD="easeoutquad",e.EASEQUAD="easequad",e.EASEINSINE="easeinsine",e.EASEOUTSINE="easeoutsine",e.EASESINE="easeinoutsine",e.EASEINEXPO="easeinexpo",e.EASEOUTEXPO="easeoutexpo",e.EASEEXPO="easeinoutexpo",e.EASEINELASTIC="easeinelastic",e.EASEOUTELASTIC="easeoutelastic",e.EASEELASTIC="easeinoutelastic",e.EASEINBOUNCE="easeinbounce",e.EASEOUTEBOUNCE="easeoutbounce",e.EASEBOUNCE="easeinoutbounce"})(Na||(Na={}));var se;(function(e){e.PLAY_ANIMATION="play_animation",e.STOP_ANIMATION="stop_animation",e.SET_STATE="set_state",e.START_TWEEN="start_tween",e.SET_COUNTER="set_counter",e.INCREMENT_COUNTER="increment_counter",e.DECREASE_COUNTER="decrease_counter",e.PLAY_SOUND="play_sound",e.STOP_SOUND="stop_sound",e.SET_VISIBILITY="set_visibility",e.ATTACH_TO_PLAYER="attach_to_player",e.DETACH_FROM_PLAYER="detach_from_player",e.PLAY_VIDEO_STREAM="play_video_stream",e.STOP_VIDEO_STREAM="stop_video_stream",e.PLAY_AUDIO_STREAM="play_audio_stream",e.STOP_AUDIO_STREAM="stop_audio_stream",e.TELEPORT_PLAYER="teleport_player",e.MOVE_PLAYER="move_player",e.PLAY_DEFAULT_EMOTE="play_default_emote",e.PLAY_CUSTOM_EMOTE="play_custom_emote",e.OPEN_LINK="open_link",e.SHOW_TEXT="show_text",e.HIDE_TEXT="hide_text",e.START_DELAY="start_delay",e.STOP_DELAY="stop_delay",e.START_LOOP="start_loop",e.STOP_LOOP="stop_loop"})(se||(se={}));var et;(function(e){e.ON_CLICK="on_click",e.ON_STATE_CHANGE="on_state_change",e.ON_SPAWN="on_spawn",e.ON_TWEEN_END="on_tween_end",e.ON_COUNTER_CHANGE="on_counter_change",e.ON_PLAYER_ENTERS_AREA="on_player_enters_area",e.ON_PLAYER_LEAVES_AREA="on_player_leaves_area",e.ON_DELAY="on_delay",e.ON_LOOP="on_loop"})(et||(et={}));var Ot;(function(e){e.WHEN_STATE_IS="when_state_is",e.WHEN_STATE_IS_NOT="when_state_is_not",e.WHEN_COUNTER_EQUALS="when_counter_equals",e.WHEN_COUNTER_IS_GREATER_THAN="when_counter_is_greater_than",e.WHEN_COUNTER_IS_LESS_THAN="when_counter_is_less_than"})(Ot||(Ot={}));var Gn;(function(e){e.AND="and",e.OR="or"})(Gn||(Gn={}));var ga;(function(e){e[e.TAM_TOP_LEFT=0]="TAM_TOP_LEFT",e[e.TAM_TOP_CENTER=1]="TAM_TOP_CENTER",e[e.TAM_TOP_RIGHT=2]="TAM_TOP_RIGHT",e[e.TAM_MIDDLE_LEFT=3]="TAM_MIDDLE_LEFT",e[e.TAM_MIDDLE_CENTER=4]="TAM_MIDDLE_CENTER",e[e.TAM_MIDDLE_RIGHT=5]="TAM_MIDDLE_RIGHT",e[e.TAM_BOTTOM_LEFT=6]="TAM_BOTTOM_LEFT",e[e.TAM_BOTTOM_CENTER=7]="TAM_BOTTOM_CENTER",e[e.TAM_BOTTOM_RIGHT=8]="TAM_BOTTOM_RIGHT"})(ga||(ga={}));var Oa;(function(e){e[e.F_SANS_SERIF=0]="F_SANS_SERIF",e[e.F_SERIF=1]="F_SERIF",e[e.F_MONOSPACE=2]="F_MONOSPACE"})(Oa||(Oa={}));function ld(e){return{all:e=e||new Map,on:function(o,c){var t=e.get(o);t?t.push(c):e.set(o,[c])},off:function(o,c){var t=e.get(o);t&&(c?t.splice(t.indexOf(c)>>>0,1):e.set(o,[]))},emit:function(o,c){var t=e.get(o);t&&t.slice().map(function(r){r(c)}),(t=e.get("*"))&&t.slice().map(function(r){r(o,c)})}}}var pd=new Map,md=new Map;function Bt(e){return pd.has(e)||pd.set(e,ld()),pd.get(e)}function Wi(e){return md.has(e)||md.set(e,ld()),md.get(e)}function wf(e,o){return!!o&&e.value.includes(o)}function hd(e){return wf(e,e.currentValue)?e.currentValue:Ed(e)}function Ed(e){if(wf(e,e.defaultValue))return e.defaultValue;if(e.value.length>0)return e.value[0]}var oT={[se.PLAY_ANIMATION]:P.Map({animation:P.String,loop:P.Optional(P.Boolean)}),[se.STOP_ANIMATION]:P.Map({}),[se.SET_STATE]:P.Map({state:P.String}),[se.START_TWEEN]:P.Map({type:P.EnumString(Hn,Hn.MOVE_ITEM),end:P.Vector3,interpolationType:P.EnumString(Na,Na.LINEAR),duration:P.Float,relative:P.Boolean}),[se.SET_COUNTER]:P.Map({counter:P.Int}),[se.INCREMENT_COUNTER]:P.Map({}),[se.DECREASE_COUNTER]:P.Map({}),[se.PLAY_SOUND]:P.Map({src:P.String,loop:P.Optional(P.Boolean),volume:P.Optional(P.Float)}),[se.STOP_SOUND]:P.Map({}),[se.SET_VISIBILITY]:P.Map({visible:P.Boolean,physicsCollider:P.Optional(P.Boolean)}),[se.ATTACH_TO_PLAYER]:P.Map({anchorPointId:P.Int}),[se.DETACH_FROM_PLAYER]:P.Map({}),[se.PLAY_VIDEO_STREAM]:P.Map({src:P.Optional(P.String),loop:P.Optional(P.Boolean),volume:P.Optional(P.Float),dclCast:P.Optional(P.Boolean)}),[se.STOP_VIDEO_STREAM]:P.Map({}),[se.PLAY_AUDIO_STREAM]:P.Map({url:P.String,volume:P.Optional(P.Float)}),[se.STOP_AUDIO_STREAM]:P.Map({}),[se.TELEPORT_PLAYER]:P.Map({x:P.Int,y:P.Int}),[se.MOVE_PLAYER]:P.Map({position:P.Vector3,cameraTarget:P.Optional(P.Vector3)}),[se.PLAY_DEFAULT_EMOTE]:P.Map({emote:P.String}),[se.PLAY_CUSTOM_EMOTE]:P.Map({src:P.String,loop:P.Optional(P.Boolean)}),[se.OPEN_LINK]:P.Map({url:P.String}),[se.SHOW_TEXT]:P.Map({text:P.String,hideAfterSeconds:P.Float,font:P.EnumNumber(Oa,Oa.F_SANS_SERIF),fontSize:P.Optional(P.Float),textAlign:P.EnumNumber(ga,ga.TAM_MIDDLE_CENTER)}),[se.HIDE_TEXT]:P.Map({}),[se.START_DELAY]:P.Map({actions:P.Array(P.String),timeout:P.Float}),[se.STOP_DELAY]:P.Map({action:P.String}),[se.START_LOOP]:P.Map({actions:P.Array(P.String),interval:P.Float}),[se.STOP_LOOP]:P.Map({action:P.String})};function Vi(e,o){try{return o.getComponent(e)}catch(c){throw console.error(`Error using getComponent with componentName="${e}"`),c}}function If(e){return{Actions:Vi(ct.ACTIONS,e),States:Vi(ct.STATES,e),Counter:Vi(ct.COUNTER,e),Triggers:Vi(ct.TRIGGERS,e)}}function U2(e){let o=e.defineComponent(ct.ACTION_TYPES,{value:P.Array(P.Map({type:P.String,jsonSchema:P.String}))}),c=e.defineComponent(ct.ACTIONS,{id:P.Int,value:P.Array(P.Map({name:P.String,type:P.String,jsonPayload:P.String}))}),t=e.defineComponent(ct.COUNTER,{id:P.Number,value:P.Int}),r=e.defineComponent(ct.TRIGGERS,{value:P.Array(P.Map({type:P.EnumString(et,et.ON_CLICK),conditions:P.Optional(P.Array(P.Map({id:P.Optional(P.Int),type:P.EnumString(Ot,Ot.WHEN_STATE_IS),value:P.String}))),operation:P.Optional(P.EnumString(Gn,Gn.AND)),actions:P.Array(P.Map({id:P.Optional(P.Int),name:P.Optional(P.String)}))}))}),n=e.defineComponent(ct.STATES,{id:P.Number,value:P.Array(P.String),defaultValue:P.Optional(P.String),currentValue:P.Optional(P.String)});return{ActionTypes:o,Actions:c,Counter:t,Triggers:r,States:n}}function B2(e){let o=Object.values(se);for(let r of o){let n=r;P2(e,n,oT[n])}let t=e.getComponent(ct.COUNTER).getOrCreateMutable(e.RootEntity);t.value=t.value||0,iT(e)}function rT({material:e}){if(e?.$case==="pbr"&&e.pbr.texture?.tex?.$case==="videoTexture")return e.pbr.texture.tex.videoTexture}function yd(e,o){if(!o||!o.material||o.material.$case!=="pbr")return null;Fi.setPbrMaterial(e,{...o.material.pbr,texture:Fi.Texture.Video({videoPlayerEntity:e})})}function iT(e){function o(){e.removeSystem(o);for(let[c,t]of e.getEntitiesWith(Fi,Pi))rT(t)?.videoPlayerEntity===e.RootEntity&&yd(c,t)}e.addSystem(o)}function D2(e){switch(e){case ct.STATES:return[Ot.WHEN_STATE_IS,Ot.WHEN_STATE_IS_NOT];case ct.COUNTER:return[Ot.WHEN_COUNTER_EQUALS,Ot.WHEN_COUNTER_IS_GREATER_THAN,Ot.WHEN_COUNTER_IS_LESS_THAN];default:return[]}}function wa(e){let o=Oe.getOrNull(e);if(!o)return D.Zero();let c=o.parent;if(c){let t=Oe.get(c).rotation;return D.add(wa(c),D.rotate(o.position,t))}else return o.position}function Ia(e){let o=Oe.getOrNull(e);if(!o)return Ae.Identity();let c=o.parent;return c?Ae.multiply(o.rotation,Ia(c)):o.rotation}var Ge;(function(e){e.LINEAR="linear",e.EASEINQUAD="easeinquad",e.EASEOUTQUAD="easeoutquad",e.EASEQUAD="easequad",e.EASEINSINE="easeinsine",e.EASEOUTSINE="easeoutsine",e.EASESINE="easeinoutsine",e.EASEINEXPO="easeinexpo",e.EASEOUTEXPO="easeoutexpo",e.EASEEXPO="easeinoutexpo",e.EASEINELASTIC="easeinelastic",e.EASEOUTELASTIC="easeoutelastic",e.EASEELASTIC="easeinoutelastic",e.EASEINBOUNCE="easeinbounce",e.EASEOUTEBOUNCE="easeoutbounce",e.EASEBOUNCE="easeinoutbounce"})(Ge||(Ge={}));function bd(e,o){switch(e){case Ge.LINEAR:return o;case Ge.EASEINQUAD:return aT(o);case Ge.EASEOUTQUAD:return cT(o);case Ge.EASEQUAD:return sT(o);case Ge.EASEINSINE:return fT(o);case Ge.EASEOUTSINE:return uT(o);case Ge.EASESINE:return dT(o);case Ge.EASEINEXPO:return lT(o);case Ge.EASEOUTEXPO:return pT(o);case Ge.EASEEXPO:return mT(o);case Ge.EASEINELASTIC:return hT(o);case Ge.EASEOUTELASTIC:return ET(o);case Ge.EASEELASTIC:return yT(o);case Ge.EASEINBOUNCE:return bT(o);case Ge.EASEOUTEBOUNCE:return TT(o);case Ge.EASEBOUNCE:return ST(o);default:return o}}function aT(e){return e*e}function cT(e){return e*(2-e)}function sT(e){return e*e/(2*(e*e-e)+1)}function fT(e){return 1-Math.cos(e*Math.PI/2)}function uT(e){return Math.sin(e*Math.PI/2)}function dT(e){return-(Math.cos(Math.PI*e)-1)/2}function lT(e){return e===0?0:Math.pow(2,10*e-10)}function pT(e){return e===1?1:1-Math.pow(2,-10*e)}function mT(e){return e===0?0:e===1?1:e<.5?Math.pow(2,20*e-10)/2:(2-Math.pow(2,-20*e+10))/2}function hT(e){let o=2*Math.PI/3;return e===0?0:e===1?1:-Math.pow(2,10*e-10)*Math.sin((e*10-10.75)*o)}function ET(e){let o=2*Math.PI/3;return e===0?0:e===1?1:Math.pow(2,-10*e)*Math.sin((e*10-.75)*o)+1}function yT(e){let o=2*Math.PI/4.5;return e===0?0:e===1?1:e<.5?-(Math.pow(2,20*e-10)*Math.sin((20*e-11.125)*o))/2:Math.pow(2,-20*e+10)*Math.sin((20*e-11.125)*o)/2+1}function bT(e){return 1-Cf(1-e)}function TT(e){return Cf(e)}function ST(e){return e<.5?(1-Cf(1-2*e))/2:(1+Cf(2*e-1))/2}function Cf(e){return e<1/2.75?7.5625*e*e:e<2/2.75?7.5625*(e-=1.5/2.75)*e+.75:e<2.5/2.75?7.5625*(e-=2.25/2.75)*e+.9375:7.5625*(e-=2.625/2.75)*e+.984375}function L2(e,o,c){let t=new Array,r=1/o,n=0;if(c){let s=e.length;for(let a=0;a<s;a++){n=0;for(let i=0;i<o;i++)t.push(D.catmullRom(e[a%s],e[(a+1)%s],e[(a+2)%s],e[(a+3)%s],n)),n+=r}t.push(t[0])}else{let s=new Array;s.push(D.clone(e[0])),Array.prototype.push.apply(s,e),s.push(D.clone(e[e.length-1]));let a=0;for(;a<s.length-3;a++){n=0;for(let i=0;i<o;i++)t.push(D.catmullRom(s[a],s[a+1],s[a+2],s[a+3],n)),n+=r}a--,t.push(D.catmullRom(s[a],s[a+1],s[a+2],s[a+3],n))}return t}function z2(e,o,c,t){return e.x<=t.x&&o.x>=c.x&&e.y<=t.y&&o.y>=c.y&&e.z<=t.z&&o.z>=c.z}function F2(e,o,c,t){let r=D.distanceSquared(e,c),n=o+t;return r<n*n}function Td(e,o,c,t){let r=0;return c.x<e.x&&(r+=(e.x-c.x)*(e.x-c.x)),c.x>o.x&&(r+=(c.x-o.x)*(c.x-o.x)),c.y<e.y&&(r+=(e.y-c.y)*(e.y-c.y)),c.y>o.y&&(r+=(c.y-o.y)*(c.y-o.y)),c.z<e.z&&(r+=(e.z-c.z)*(e.z-c.z)),c.z>o.z&&(r+=(c.z-o.z)*(c.z-o.z)),r<t*t}var Tt;(function(e){e.TimerSystemPriority=1e5+256,e.TweenSystemPriority=1e5+192,e.PerpetualMotionSystemPriority=1e5+192,e.PathSystemPriority=1e5+192,e.TriggerSystemPriority=1e5+128,e.ActionSystemPriority=1e5+64})(Tt||(Tt={}));function _T(e){let o={start:oe.Vector3,end:oe.Vector3,interpolationType:oe.EnumString(Ge,Ge.LINEAR),speed:oe.Float,normalizedTime:oe.Float},c=e.defineComponent("dcl.utils.PositionTween",o),t=e.defineComponent("dcl.utils.ScaleTween",o),r=e.defineComponent("dcl.utils.RotationTween",{start:oe.Quaternion,end:oe.Quaternion,interpolationType:oe.EnumString(Ge,Ge.LINEAR),speed:oe.Float,normalizedTime:oe.Float}),n=new Map,s=new Map,a=new Map;function i(m,g,E){return function(p){let h=[];for(let T of g.keys()){if(e.getEntityState(T)==at.Removed||!m.has(T)){g.delete(T);continue}let I=m.getMutable(T);I.normalizedTime=Le.clamp(I.normalizedTime+p*I.speed,0,1);let z=bd(I.interpolationType,I.normalizedTime);E(Oe.getMutable(T),I.start,I.end,z),I.normalizedTime>=1&&h.push(T)}for(let T of h){let I=g.get(T);m.deleteFrom(T),g.delete(T),I&&I()}}}function f(m,g){return function(E){m.deleteFrom(E),g.delete(E)}}function u(m,g){return function(E,d,p,h,T=Ge.LINEAR,I){g.set(E,I),m.createOrReplace(E,{start:d,end:p,speed:h==0?0:1/h,interpolationType:T,normalizedTime:h==0?1:0})}}function b(m){return function(g){if(!m.has(g))throw new Error(`Entity ${g} is not registered with tweens system`);return m.get(g)}}return e.addSystem(i(c,n,function(m,g,E,d){m.position=D.lerp(g,E,d)}),Tt.TweenSystemPriority),e.addSystem(i(r,s,function(m,g,E,d){m.rotation=Ae.slerp(g,E,d)}),Tt.TweenSystemPriority),e.addSystem(i(t,a,function(m,g,E,d){m.scale=D.lerp(g,E,d)}),Tt.TweenSystemPriority),{startTranslation:u(c,n),stopTranslation:f(c,n),startRotation:u(r,s),stopRotation:f(r,s),startScaling:u(t,a),stopScaling:f(t,a),getTranslationOnFinishCallback:b(n),getRotationOnFinishCallback:b(s),getScalingOnFinishCallback:b(a)}}var Ca=_T(re);var $2=require("~system/CommsApi");var Ma=new Map,va=new Map;function V2(){return function(t){e(t),o(t)};function e(c){for(let[t,r]of va.entries()){let n=Bt(t);for(let s of r)s.timeout===s.interval&&s.callback(),s.timeout-=c,s.timeout<=0&&(s.timeout=s.interval,n.emit(et.ON_LOOP))}}function o(c){for(let[t,r]of Ma.entries()){let n=Bt(t),s=[],a=0;for(let i of r)i.timeout-=c,i.timeout<=0&&(i.callback(),n.emit(et.ON_DELAY),s.push(a)),a++;for(let i of s)r.splice(i,1)}}}function Sd(e,o,c,t){let r=Ma.get(e)??[];r.push({timeout:c,action:o,callback:t}),Ma.set(e,r)}function W2(e,o){let c=Ma.get(e)??[];Ma.set(e,c.filter(t=>t.action!==o))}function H2(e,o,c,t){let r=va.get(e)??[];r.push({timeout:c,action:o,callback:t,interval:c}),va.set(e,r)}function G2(e,o){let c=va.get(e)??[];va.set(e,c.filter(t=>t.action!==o))}var Y2=require("~system/UserActionModule"),ho=require("~system/RestrictedActions"),j2=new Set;function q2(e,o){let{Animator:c,Transform:t,AudioSource:r,AvatarAttach:n,VisibilityComponent:s,GltfContainer:a}=o,{Actions:i,States:f,Counter:u}=If(e);return function(R){let U=e.getEntitiesWith(i);for(let[j,De]of U){if(j2.has(j))continue;let je=De.value.reduce((me,Lt)=>me.add(Lt.type),new Set);for(let me of je)switch(me){case se.PLAY_ANIMATION:{b(j);break}default:break}let pt=Wi(j);for(let me of De.value)pt.on(me.name,()=>{switch(me.type){case se.PLAY_ANIMATION:{m(j,ve(me));break}case se.STOP_ANIMATION:{g(j,ve(me));break}case se.SET_STATE:{E(j,ve(me));break}case se.START_TWEEN:{d(j,ve(me));break}case se.SET_COUNTER:{I(j,ve(me));break}case se.INCREMENT_COUNTER:{z(j,ve(me));break}case se.DECREASE_COUNTER:{ne(j,ve(me));break}case se.PLAY_SOUND:{V(j,ve(me));break}case se.STOP_SOUND:{W(j,ve(me));break}case se.SET_VISIBILITY:{X(j,ve(me));break}case se.ATTACH_TO_PLAYER:{C(j,ve(me));break}case se.DETACH_FROM_PLAYER:{L(j,ve(me));break}case se.PLAY_VIDEO_STREAM:{Ee(j,ve(me));break}case se.STOP_VIDEO_STREAM:{ye(j,ve(me));break}case se.PLAY_AUDIO_STREAM:{Re(j,ve(me));break}case se.STOP_AUDIO_STREAM:{ke(j,ve(me));break}case se.TELEPORT_PLAYER:{A(j,ve(me));break}case se.MOVE_PLAYER:{O(j,ve(me));break}case se.PLAY_DEFAULT_EMOTE:{G(j,ve(me));break}case se.PLAY_CUSTOM_EMOTE:{K(j,ve(me));break}case se.OPEN_LINK:{ie(j,ve(me));break}case se.SHOW_TEXT:{Ue(j,ve(me));break}case se.HIDE_TEXT:{We(j,ve(me));break}case se.START_DELAY:{wt(j,ve(me));break}case se.STOP_DELAY:{M(j,ve(me));break}case se.START_LOOP:{F(j,ve(me));break}case se.STOP_LOOP:{Z(j,ve(me));break}default:break}});j2.add(j)}};function b(y){c.create(y,{states:[]}),c.stopAllAnimations(y)}function m(y,R){let{animation:U,loop:j}=R,De=c.getMutable(y);De.states.some(pt=>pt.clip===U)||(De.states=[...De.states,{clip:U}]),c.stopAllAnimations(y);let je=c.getClip(y,U);je.playing=!0,je.loop=j??!1}function g(y,R){c.has(y)&&c.stopAllAnimations(y)}function E(y,R){let U=f.getMutableOrNull(y);if(U){let j=R.state;j=wf(U,j)?j:Ed(U),U.currentValue=j,Bt(y).emit(et.ON_STATE_CHANGE)}}function d(y,R){if(R){let U=Bt(y),j=()=>U.emit(et.ON_TWEEN_END);switch(R.type){case Hn.MOVE_ITEM:{p(y,R,j);break}case Hn.ROTATE_ITEM:{h(y,R,j);break}case Hn.SCALE_ITEM:{T(y,R,j);break}default:throw new Error(`Unknown tween type: ${R.type}`)}}}function p(y,R,U){let j=t.get(y),{duration:De,interpolationType:je,relative:pt}=R,me=D.create(R.end.x,R.end.y,R.end.z),Lt=pt?D.add(j.position,me):me;Ca.startTranslation(y,j.position,Lt,De,je,U)}function h(y,R,U){let j=t.get(y),{duration:De,interpolationType:je,relative:pt}=R,me=Ae.fromEulerDegrees(R.end.x,R.end.y,R.end.z),Lt=pt?Ae.multiply(j.rotation,me):me;Ca.startRotation(y,j.rotation,Lt,De,je,U)}function T(y,R,U){let j=t.get(y),{duration:De,interpolationType:je,relative:pt}=R,me=D.create(R.end.x,R.end.y,R.end.z),Lt=pt?D.add(j.scale,me):me;Ca.startScaling(y,j.scale,Lt,De,je,U)}function I(y,R){let U=u.getMutableOrNull(y);U&&(U.value=R.counter,Bt(y).emit(et.ON_COUNTER_CHANGE))}function z(y,R){let U=u.getMutableOrNull(y);U&&(U.value+=1,Bt(y).emit(et.ON_COUNTER_CHANGE))}function ne(y,R){let U=u.getMutableOrNull(y);U&&(U.value-=1,Bt(y).emit(et.ON_COUNTER_CHANGE))}function V(y,R){let{src:U,loop:j,volume:De}=R;r.createOrReplace(y,{audioClipUrl:U,loop:j,playing:!0,volume:De??1})}function W(y,R){let U=r.getMutableOrNull(y);U&&(U.playing=!1)}function X(y,R){let{visible:U,physicsCollider:j}=R;s.createOrReplace(y,{visible:U});let De=a.getMutableOrNull(y);De&&j!==void 0&&(De.invisibleMeshesCollisionMask=j?2:0)}function C(y,R){let{anchorPointId:U}=R;n.createOrReplace(y,{anchorPointId:U})}function L(y,R){n.has(y)&&n.deleteFrom(y)}function A(y,R){let{x:U,y:j}=R;(0,Y2.requestTeleport)({destination:`${U},${j}`})}function O(y,R){let U={newRelativePosition:R.position,cameraTarget:R.cameraTarget};console.log("movePlayerTo",U),(0,ho.movePlayerTo)(U)}function G(y,R){let{emote:U}=R;(0,ho.triggerEmote)({predefinedEmote:U})}function K(y,R){let{src:U,loop:j}=R;(0,ho.triggerSceneEmote)({src:U,loop:j})}function ie(y,R){let{url:U}=R;(0,ho.openExternalUrl)({url:U})}async function le({src:y,dclCast:R}){if(R){let{streams:U}=await(0,$2.getActiveVideoStreams)({});return U.length>0?U[0].trackSid:""}return y??""}function Ee(y,R){le(R).then(U=>{if(!U)return;let j=Pi.getMutableOrNull(y);j?(j.src=U,j.volume=R.volume??1,j.loop=R.loop??!1,j.playing=!0):(Pi.createOrReplace(y,{src:U,volume:R.volume??1,loop:R.loop??!1,playing:!0}),yd(y,Fi.getOrNull(y)))})}function ye(y,R){let U=Pi.getMutableOrNull(y);U&&(U.playing=!1)}function Re(y,R){let{url:U,volume:j}=R;sd.createOrReplace(y,{url:U,playing:!0,volume:j??1})}function ke(y,R){let U=sd.getMutableOrNull(y);U&&(U.playing=!1)}function Pe(y){let R=fd.getMutableOrNull(y);return R||(R=fd.create(y),R.heightUnit=2,R.widthUnit=2,R.height=100,R.width=100),R}function Ue(y,R){let{text:U,hideAfterSeconds:j,font:De,fontSize:je,textAlign:pt}=R;Pe(y)&&(Rf.createOrReplace(y,{value:U,font:De,fontSize:je,textAlign:pt}),Sd(y,se.SHOW_TEXT,j,()=>We(y,{})))}function We(y,R){Rf.getOrNull(y)&&Rf.deleteFrom(y)}function xe(y,R){return i.getOrNull(y)?.value.find(j=>j.name===R)}function wt(y,R){let{actions:U,timeout:j}=R;for(let De of U){let je=xe(y,De);je&&Sd(y,De,j,()=>{Wi(y).emit(je.name,ve(je))})}}function M(y,R){let{action:U}=R;W2(y,U)}function F(y,R){let{actions:U,interval:j}=R;for(let De of U){let je=xe(y,De);je&&H2(y,De,j,()=>{Wi(y).emit(je.name,ve(je))})}}function Z(y,R){let{action:U}=R;G2(y,U)}}function J2(e,o,c,t,r,n){let s=re.addEntity();Oe.create(s,{position:n||D.create(0,1.5,0),parent:o});let a=o0.create(s);return a.text=e,a.fontSize=r||3,a.textColor=t||Ne.Black(),c&&Zm.create(s),s}function _d(e,o,c,t,r,n){let s=re.addEntity();if(Oe.create(s,e),r){let a=Oe.getMutable(s);a.scale=D.multiplyByFloats(a.scale,.5,.5,.5),Tn.setSphere(s),n||Fu.setSphere(s)}else Tn.setBox(s),n||Fu.setBox(s);return t&&Ve.setPbrMaterial(s,{albedoColor:t}),c&&J2(c,s,!0),o&&fs.onPointerDown(s,o,{button:0,hoverText:c||"click"}),s}function xT(e){let o=new Map,c=0;function t(r){let n=[],s=[];for(let[a,i]of o)i.accumulatedTime+=1e3*r,!(i.accumulatedTime<i.interval)&&(s.push(i.callback),i.recurrent?i.accumulatedTime-=Math.floor(i.accumulatedTime/i.interval)*i.interval:n.push(a));for(let a of n)o.delete(a);for(let a of s)a()}return e.addSystem(t,Tt.TimerSystemPriority),{setTimeout(r,n){let s=c++;return o.set(s,{callback:r,interval:n,recurrent:!1,accumulatedTime:0}),s},clearTimeout(r){o.delete(r)},setInterval(r,n){let s=c++;return o.set(s,{callback:r,interval:n,recurrent:!0,accumulatedTime:0}),s},clearInterval(r){o.delete(r)}}}var xd=xT(re);var Hi;(function(e){e[e.Off=0]="Off",e[e.On=1]="On"})(Hi||(Hi={}));function kT(e,o){let c=e.defineComponent("dcl.utils.Toggle",{state:oe.EnumNumber(Hi,Hi.Off)}),t=new Map;return o.setInterval(function(){for(let r of t.keys())(e.getEntityState(r)==at.Removed||!c.has(r))&&t.delete(r)},5e3),{addToggle(r,n,s){t.set(r,s),c.createOrReplace(r,{state:n})},removeToggle(r){t.delete(r),c.deleteFrom(r)},setCallback(r,n){t.set(r,n)},set(r,n){if(c.get(r).state!=n){c.getMutable(r).state=n;let a=t.get(r);a&&a(n)}},flip(r){this.set(r,1-c.get(r).state)},isOn(r){return c.get(r).state==Hi.On}}}var RT=kT(re,xd);function AT(e){let o=e.defineComponent("dcl.utils.PerpetualRotation",{velocity:oe.Quaternion});function c(t){for(let[r,n]of e.getEntitiesWith(o,Oe)){let s=Ae.slerp(Ae.Identity(),n.velocity,t),a=Oe.getMutable(r);a.rotation=Ae.normalize(Ae.multiply(a.rotation,s))}}return e.addSystem(c,Tt.PerpetualMotionSystemPriority),{startRotation(t,r){o.createOrReplace(t,{velocity:r})},stopRotation(t){o.deleteFrom(t)}}}var NT=AT(re);function gT(e){let o=e.defineComponent("dcl.utils.FollowPath",{points:oe.Array(oe.Vector3),faceDirection:oe.Boolean,speed:oe.Number,normalizedTime:oe.Number,currentIndex:oe.Number,segmentTimes:oe.Array(oe.Number),curveSegmentCount:oe.Number}),c=new Map,t=new Map;function r(a){c.delete(a),t.delete(a),o.deleteFrom(a)}function n(a){let i=[],f=[];for(let u of c.keys()){if(e.getEntityState(u)==at.Removed||!o.has(u)){r(u);continue}let b=Oe.getMutable(u),m=o.getMutable(u);for(m.normalizedTime=Le.clamp(m.normalizedTime+a*m.speed,0,1),m.normalizedTime>=1&&i.push(u);m.normalizedTime>=m.segmentTimes[m.currentIndex]&&m.currentIndex<m.points.length-1;){if(m.faceDirection){let d=D.subtract(m.points[m.currentIndex+1],m.points[m.currentIndex]);b.rotation=Ae.lookRotation(d)}if(m.currentIndex>0&&m.currentIndex%m.curveSegmentCount==0){let d=m.currentIndex/m.curveSegmentCount,p=m.points[m.currentIndex],h=m.points[m.currentIndex+m.curveSegmentCount];f.push({entity:u,index:d,coords:p,nextCoords:h})}m.currentIndex+=1}let g=m.segmentTimes[m.currentIndex]-m.segmentTimes[m.currentIndex-1],E=(m.segmentTimes[m.currentIndex]-m.normalizedTime)/g;b.position=D.lerp(m.points[m.currentIndex],m.points[m.currentIndex-1],E)}for(let u of f){let b=t.get(u.entity);b&&b(u.index,u.coords,u.nextCoords)}for(let u of i){let b=c.get(u);r(u),b&&b()}}e.addSystem(n,Tt.PathSystemPriority);function s(a,i,f,u,b,m,g){if(i.length<2)throw new Error("At least 2 points are required to form a path.");if(f==0)throw new Error("Path duration must not be zero");if(b){let h=D.equals(i[0],i[i.length-1]);h&&(i.pop(),i.unshift(i.pop())),i=L2(i,b,h)}else b=1;c.set(a,m),t.set(a,g);let E=0,d=[];for(let h=0;h<i.length-1;h++){let T=D.distance(i[h],i[h+1]);E+=T,d.push(T)}let p=[0];for(let h=0;h<d.length;h++)p.push(d[h]/E+p[h]);o.createOrReplace(a,{points:i,segmentTimes:p,curveSegmentCount:b,speed:1/f,normalizedTime:0,currentIndex:0,faceDirection:u})}return{startStraightPath(a,i,f,u,b,m){return s(a,i,f,u,0,b,m)},startSmoothPath(a,i,f,u,b,m,g){if(u<2||!Number.isInteger(u))throw new Error(`segmentCount must be an integer that is greater than 2, got: ${u}`);return s(a,i,f,b,u,m,g)},stopPath(a){r(a)},getOnFinishCallback(a){if(!c.has(a))throw new Error(`Entity ${a} is not registered in triggers system`);return c.get(a)}}}var OT=gT(re);var Mf=1;var jn=255,Eo=0;function wT(e){let o=re.defineComponent("dcl.utils.Trigger",{active:oe.Boolean,layerMask:oe.Int,triggeredByMask:oe.Int,areas:oe.Array(oe.OneOf({box:oe.Map({position:oe.Vector3,scale:oe.Vector3}),sphere:oe.Map({position:oe.Vector3,radius:oe.Number})})),debugColor:oe.Color3}),c=new Map,t=new Map,r=!1,n=new Map,s=new Map;function a(E){if(E)for(let[d,p]of e.getEntitiesWith(o,Oe)){let h=s.get(d),T=p.areas.length;for(;h.length>T;)e.removeEntity(h.pop());for(;h.length<T;)h.push(e.addEntity());let I=wa(d),z=Ia(d);for(let ne=0;ne<T;++ne){let V=p.areas[ne],W=h[ne],X;if(V.$case=="box")X=V.value.scale,Tn.setBox(W);else{let L=V.value.radius;X={x:L,y:L,z:L},Tn.setSphere(W)}Oe.createOrReplace(W,{position:D.add(I,D.rotate(V.value.position,z)),scale:X});let C=p.active?p.debugColor:Xo.Black();Ve.setPbrMaterial(W,{albedoColor:Ne.fromInts(255*C.r,255*C.g,255*C.b,75)})}}}function i(E,d,p,h){for(let T=0;T<d.areas.length;++T){let I=E[T],z=d.areas[T];if(z.$case=="box"){let ne=z.value,V=D.subtract(I,D.scale(ne.scale,.5)),W=D.add(V,ne.scale);for(let X=0;X<h.areas.length;++X){let C=p[X],L=h.areas[X];if(L.$case=="box"){let A=L.value,O=D.subtract(C,D.scale(A.scale,.5)),G=D.add(O,A.scale);if(z2(V,W,O,G))return!0}else if(Td(V,W,C,L.value.radius))return!0}}else{let ne=z.value.radius;for(let V=0;V<h.areas.length;++V){let W=p[V],X=h.areas[V];if(X.$case=="box"){let C=X.value,L=D.subtract(W,D.scale(C.scale,.5)),A=D.add(L,C.scale);if(Td(L,A,I,ne))return!0}else if(F2(I,ne,W,X.value.radius))return!0}}}return!1}function f(E,d){let p=new Set,h=o.get(E);if(!h.active)return p;for(let[T,I]of e.getEntitiesWith(o,Oe)){if(T==E||!I.active||!(h.triggeredByMask&I.layerMask))continue;i(d.get(E),h,d.get(T),I)&&p.add(T)}return p}function u(){let E=[],d=[],p=new Map;for(let h of n.keys()){if(e.getEntityState(h)==at.Removed||!o.has(h)){for(let V of s.get(h))e.removeEntity(V);for(let V of n.values())V.has(h)&&V.delete(h);s.delete(h),n.delete(h),c.delete(h),t.delete(h);continue}let T=[],I=wa(h),z=Ia(h),ne=o.get(h);for(let V of ne.areas)T.push(D.add(I,D.rotate(V.value.position,z)));p.set(h,T)}for(let h of n.keys()){let T=f(h,p),I=n.get(h);for(let z of I)T.has(z)||d.push([h,z]);for(let z of T)I.has(z)||E.push([h,z]);n.set(h,T)}for(let[h,T]of E){let I=c.get(h);I&&I(T)}for(let[h,T]of d){let I=t.get(h);I&&I(T)}}function b(E){u(),a(r)}e.addSystem(b,Tt.TriggerSystemPriority);function m(E){E||(E=[{type:"box"}]);let d=[];for(let p of E)p.type=="box"?d.push({$case:"box",value:{position:p.position?p.position:D.Zero(),scale:p.scale?p.scale:D.One()}}):d.push({$case:"sphere",value:{position:p.position?p.position:D.Zero(),radius:p.radius?p.radius:1}});return d}let g={addTrigger(E,d=Eo,p=Eo,h,T,I,z){if(d<0||d>jn||!Number.isInteger(d))throw new Error(`Bad layerMask: ${d}. Expected a non-negative integer no greater than ${jn}`);if(p<0||p>jn||!Number.isInteger(p))throw new Error(`Bad triggeredByMask: ${p}. Expected a non-negative integer no greater than ${jn}`);s.set(E,[]),n.set(E,new Set),c.set(E,T),t.set(E,I),o.createOrReplace(E,{active:!0,layerMask:d,triggeredByMask:p,areas:m(h),debugColor:z||Xo.Red()})},removeTrigger(E){let d=n.get(E),p=t.get(E);for(let T of s.get(E))e.removeEntity(T);s.delete(E),n.delete(E),c.delete(E),t.delete(E),o.deleteFrom(E);let h=[];for(let[T,I]of n)I.has(E)&&(I.delete(E),h.push(T));if(p)for(let T of d)p(T);for(let T of h){let I=t.get(T);I&&I(E)}},oneTimeTrigger(E,d=Eo,p=Eo,h,T,I){this.addTrigger(E,d,p,h,function(z){Gi.removeTrigger(E),T&&T(z)},void 0,I)},enableTrigger(E,d){o.getMutable(E).active=d},isTriggerEnabled(E){return o.get(E).active},getLayerMask(E){return o.get(E).layerMask},setLayerMask(E,d){if(d<0||d>jn||!Number.isInteger(d))throw new Error(`Bad layerMask: ${d}. Expected a non-negative integer no greater than ${jn}`);o.getMutable(E).layerMask=d},getTriggeredByMask(E){return o.get(E).triggeredByMask},setTriggeredByMask(E,d){if(d<0||d>jn||!Number.isInteger(d))throw new Error(`Bad layerMask: ${d}. Expected a non-negative integer no greater than ${jn}`);o.getMutable(E).triggeredByMask=d},getAreas(E){return o.get(E).areas},setAreas(E,d){o.getMutable(E).areas=m(d)},setOnEnterCallback(E,d){c.set(E,d)},setOnExitCallback(E,d){t.set(E,d)},enableDebugDraw(E){if(r=E,!E)for(let d of s.values()){for(let p of d)e.removeEntity(p);d.length=0}},isDebugDrawEnabled(){return r}};return g.addTrigger(e.PlayerEntity,Mf,Eo,[{type:"box",scale:{x:.65,y:1.92,z:.65},position:{x:0,y:.15,z:0}}],void 0,void 0,Xo.Green()),g}var Gi=wT(re);var kd;(function(e){class o{constructor(u,b,m){this.beginSequenceNode=null,this.currentSequenceNode=null,this.running=!1,this.started=!1,this.engine=u,this.systemFn=g=>{this.update(g)},this.engine.addSystem(this.systemFn,Tt.ActionSystemPriority),b&&this.startSequence(b),m&&this.setOnFinishCallback(m)}startSequence(u){this.beginSequenceNode=u.beginSequenceNode,this.currentSequenceNode=this.beginSequenceNode,this.running=!0,this.started=!1}destroy(){this.engine.removeSystem(this.systemFn)}setOnFinishCallback(u){this.onFinishCallback=u}isRunning(){return this.running}stop(){this.running=!1}resume(){this.beginSequenceNode!=null&&(this.running=!0)}reset(){this.currentSequenceNode=this.beginSequenceNode,this.running=!0,this.started=!1}getRunningAction(){let u=this.currentSequenceNode;if(this.currentSequenceNode instanceof r)do u=u.currentInnerSequence;while(u instanceof r);return u.action}update(u){if(this.running){if(!this.started){this.currentSequenceNode.onStart(),this.started=!0;return}if(!this.currentSequenceNode.hasFinish()){this.currentSequenceNode.update(u);return}this.currentSequenceNode.onFinish(),this.currentSequenceNode=this.currentSequenceNode.next,this.currentSequenceNode?this.currentSequenceNode.onStart():(this.running=!1,this.onFinishCallback&&this.onFinishCallback())}}}e.SequenceRunner=o;class c{constructor(){this.currentSequenceNode=null,this.beginSequenceNode=null,this.whileNodeStack=[]}then(u){if(this.currentSequenceNode==null)this.currentSequenceNode=new t,this.currentSequenceNode.action=u,this.beginSequenceNode=this.currentSequenceNode;else{let b=new t;b.action=u,this.currentSequenceNode=this.currentSequenceNode.then(b)}return this}if(u){let b=new n(u);return this.currentSequenceNode==null?(this.currentSequenceNode=b,this.beginSequenceNode=b):this.currentSequenceNode=this.currentSequenceNode.then(b),this}else(){let u=this.currentSequenceNode.getSequence();if(u instanceof n){u.closed=!0;let b=new s(u);this.currentSequenceNode=this.currentSequenceNode.then(b)}else throw new Error("IF statement is needed to be called before ELSE statement.");return this}endIf(){let u=this.currentSequenceNode.getSequence();if(u instanceof n||u instanceof s)u.closed=!0;else throw new Error("IF statement is needed to be called before ENDIF statement.");return this}while(u){let b=new a(u);return this.currentSequenceNode==null?(this.currentSequenceNode=b,this.beginSequenceNode=b):this.currentSequenceNode=this.currentSequenceNode.then(b),this.whileNodeStack.push(b),this}endWhile(){let u=this.currentSequenceNode.getSequence();if(u instanceof a)u.closed=!0,this.whileNodeStack.length>0&&this.whileNodeStack.splice(this.whileNodeStack.length-1,1);else throw new Error("WHILE statement is needed to be called before ENDWHILE statement.");return this}breakWhile(){if(this.whileNodeStack.length>0)this.currentSequenceNode=this.currentSequenceNode.then(new i(this.whileNodeStack[this.whileNodeStack.length-1]));else throw new Error("WHILE statement is needed to be called before BREAKWHILE statement.");return this}}e.SequenceBuilder=c;class t{constructor(){this.action=null,this.next=null}then(u){return this.next=u,u}onStart(){this.action&&this.action.onStart()}update(u){this.action&&this.action.update(u)}onFinish(){this.action&&this.action.onFinish()}hasFinish(){return this.action?this.action.hasFinished:!0}getSequence(){return this}}e.SequenceNode=t;class r extends t{constructor(){super(...arguments),this.currentInnerSequence=null,this.startingInnerSequence=null,this.closed=!1}then(u){if(this.currentInnerSequence==null)this.currentInnerSequence=u,this.startingInnerSequence=u;else{if(this.closed)return this.next=u,u;this.currentInnerSequence=this.currentInnerSequence.then(u)}return this}onStart(){this.currentInnerSequence=this.startingInnerSequence,this.currentInnerSequence&&this.currentInnerSequence.onStart()}update(u){this.currentInnerSequence&&(this.currentInnerSequence.hasFinish()?(this.currentInnerSequence.onFinish(),this.currentInnerSequence=this.currentInnerSequence.next,this.currentInnerSequence&&this.currentInnerSequence.onStart()):this.currentInnerSequence.update(u))}onFinish(){this.currentInnerSequence&&this.currentInnerSequence.onFinish()}hasFinish(){return this.currentInnerSequence==null}getSequence(){if(this.currentInnerSequence){let u=this.currentInnerSequence.getSequence();if(u instanceof r&&!u.closed)return u}return this}}class n extends r{constructor(u){super(),this.result=!1,this.condition=u}onStart(){this.result=this.condition(),this.result?super.onStart():this.currentInnerSequence=null}}class s extends r{constructor(u){super(),this.ifSequence=null,this.ifSequence=u}onStart(){this.ifSequence&&!this.ifSequence.result?super.onStart():this.currentInnerSequence=null}}class a extends r{constructor(u){super(),this.breakWhile=!1,this.condition=u}onStart(){this.breakWhile=!1,this.condition()?super.onStart():this.currentInnerSequence=null}update(u){this.currentInnerSequence&&(this.currentInnerSequence.hasFinish()?(this.currentInnerSequence.onFinish(),this.currentInnerSequence=this.currentInnerSequence.next,this.currentInnerSequence==null&&(this.currentInnerSequence=this.startingInnerSequence),this.currentInnerSequence&&this.currentInnerSequence.onStart()):this.currentInnerSequence.update(u))}hasFinish(){return this.breakWhile||!this.condition()}}class i extends t{constructor(u){super(),this.whileNode=u}onStart(){this.whileNode.breakWhile=!0}}})(kd||(kd={}));var K2=new Set,Rd=[];function Q2(e,o){let{Actions:c,States:t,Counter:r,Triggers:n}=If(e);return function(d){for(;Rd.length>0;){let{entity:h,action:T}=Rd.shift();Wi(h).emit(T.name,ve(T))}let p=e.getEntitiesWith(n);for(let[h,T]of p){if(K2.has(h))continue;let I=T.value.reduce((ne,V)=>ne.add(V.type),new Set);for(let ne of I)switch(ne){case et.ON_CLICK:{m(h);break}case et.ON_PLAYER_ENTERS_AREA:case et.ON_PLAYER_LEAVES_AREA:{g(h);break}}let z=Bt(h);for(let ne of T.value)z.on(ne.type,()=>{if(a(ne)){for(let V of ne.actions)if(s(V)){let W=u(V);if(W){let X=c.getOrNull(W);if(X){let C=X.value.find(L=>L.name===V.name);C&&Rd.push({entity:W,action:C})}}}}});z.emit(et.ON_SPAWN),K2.add(h)}};function s(E){let{id:d,name:p}=E;return!!d&&!!p}function a(E){if(E.conditions&&E.conditions.length>0){let d=E.conditions.map(i),p=T=>!!T;switch(E.operation||Gn.AND){case Gn.AND:return d.every(p);case Gn.OR:return d.some(p)}}return!0}function i(E){let d=b(E);if(d)try{switch(E.type){case Ot.WHEN_STATE_IS:{let p=t.getOrNull(d);if(p!==null)return hd(p)===E.value;break}case Ot.WHEN_STATE_IS_NOT:{let p=t.getOrNull(d);if(p!==null)return hd(p)!==E.value;break}case Ot.WHEN_COUNTER_EQUALS:{let p=r.getOrNull(d);if(p!==null){let h=Number(E.value);if(!isNaN(h))return p.value===h}break}case Ot.WHEN_COUNTER_IS_GREATER_THAN:{let p=r.getOrNull(d);if(p!==null){let h=Number(E.value);if(!isNaN(h))return p.value>h}break}case Ot.WHEN_COUNTER_IS_LESS_THAN:{let p=r.getOrNull(d);if(p!==null){let h=Number(E.value);if(!isNaN(h))return p.value<h}break}}}catch{console.error("Error in condition",E)}return!1}function f(E,d){let p=e.getComponent(E),T=Array.from(e.getEntitiesWith(p)).find(([I,z])=>z.id===d);return Array.isArray(T)&&T.length>0?T[0]:null}function u(E){if(E.id){let d=f(ct.ACTIONS,E.id);if(d)return d}return null}function b(E){let d=Object.values(ct).map(p=>({componentName:p,conditionTypes:D2(p)})).reduce((p,{componentName:h,conditionTypes:T})=>T.includes(E.type)?h:p,null);if(d&&E.id){let p=f(d,E.id);if(p)return p}return null}function m(E){o.onPointerDown({entity:E,opts:{button:0,hoverText:"Click"}},()=>{Bt(E).emit(et.ON_CLICK)})}function g(E){Gi.addTrigger(E,Eo,Mf,[{type:"box"}],()=>{Bt(E).emit(et.ON_PLAYER_ENTERS_AREA)},()=>{Bt(E).emit(et.ON_PLAYER_LEAVES_AREA)})}}function Z2(e,o,c){let t=e,r=o;try{U2(t),t.addSystem(q2(t,c)),t.addSystem(Q2(t,r)),t.addSystem(V2()),B2(t)}catch(n){console.error(`Error initializing Asset Packs: ${n.message}`)}}var Y8=re.defineComponent("spinner",{speed:oe.Number}),q8=re.defineComponent("cube-id",{}),Pa=(n=>(n[n.NONE=0]="NONE",n[n.RED=1]="RED",n[n.BLUE=2]="BLUE",n[n.YELLOW=3]="YELLOW",n[n.GREEN=4]="GREEN",n))(Pa||{}),Jo=re.defineComponent("tile",{color:oe.EnumNumber(Pa,0)});var uE=require("~system/CommunicationsController");function eE(e){let o=e.componentId;if([n0.componentId,t0.componentId].includes(o))return!1;let[c]=Wt.fromEntityId(e.entityId);if(c<Fr)return!1;let t=re.getComponent(qr.componentId),r=t.getOrNull(e.entityId);if(e.type===q.DELETE_ENTITY_NETWORK||r&&e.type===q.DELETE_ENTITY)return!0;let s=re.getComponent(Yr.componentId).getOrNull(e.entityId);return s?e.timestamp<=1?!0:o===t.componentId?!1:!!(o&&s.componentIds.includes(o)):!1}function tE(e){let o=new Ce,c=new Ce,t=e.getComponent(Yr.componentId),r=e.getComponent(qr.componentId),n=new Set(Array.from(e.getEntitiesWith(t)).map(a=>a[0]));for(let a of e.componentsIter())a.dumpCrdtStateToBuffer(o,i=>n.has(i));let s;for(;s=Ke.getHeader(o);)if(s.type===q.PUT_COMPONENT){let a=It.read(o),i=r.getOrNull(a.entityId);i?An.write(i.entityId,a.timestamp,a.componentId,i.networkId,a.data,c):It.write(a.entityId,a.timestamp,a.componentId,a.data,c)}else o.incrementReadOffset(s.length);return c.toBinary()}function nE(e){let o=Ke.getHeader(e);return o?o.type===q.PUT_COMPONENT?It.read(e):o.type===q.PUT_COMPONENT_NETWORK?An.read(e):o.type===q.DELETE_COMPONENT?bn.read(e):o.type===q.DELETE_COMPONENT_NETWORK?no.read(e):o.type===q.APPEND_VALUE?Ln.read(e):o.type===q.DELETE_ENTITY?zn.read(e):o.type===q.DELETE_ENTITY_NETWORK?oo.read(e):null:null}function*vf(e,o,c){let t=new Ce(o),r;for(;r=nE(t);){let n=r.entityId,s=`${e}: ${q[r.type]} e=${n}`;if((r.type===q.DELETE_ENTITY||r.type===q.DELETE_ENTITY_NETWORK)&&(yield`${s}`),r.type===q.PUT_COMPONENT||r.type===q.PUT_COMPONENT_NETWORK||r.type===q.DELETE_COMPONENT_NETWORK||r.type===q.DELETE_COMPONENT||r.type===q.APPEND_VALUE){let{componentId:a,timestamp:i}=r,f="data"in r?r.data:void 0;try{let u=c.getComponent(a);yield`${s} c=${u.componentName} t=${i} data=${JSON.stringify(f&&u.schema.deserialize(new Ce(f))||null)}`}catch{yield`${s} c=${a} t=${i} data=?`}}else r.type===q.DELETE_ENTITY?yield s:yield`${s} Unknown CrdtMessageType`}}var $n;(function(e){e[e.CRDT=1]="CRDT",e[e.REQ_CRDT_STATE=2]="REQ_CRDT_STATE",e[e.RES_CRDT_STATE=3]="RES_CRDT_STATE"})($n||($n={}));function oE(e){let o=new Map;return{on:(c,t)=>{o.set(c,t)},emit:(c,t)=>{console.log("[EMIT]: ",c),e(IT(c,t))},__processMessages:c=>{for(let t of c){let r=CT(t);if(!r)continue;let{sender:n,messageType:s,data:a}=r;console.log("[ON]: ",s,{sender:n});let i=o.get(s);i&&i(a,n)}}}}function IT(e,o){let c=new Uint8Array(o.byteLength+1);return c.set([e]),c.set(o,1),c}function CT(e){try{let o=0,c=new Uint8Array(e),t=new DataView(c.buffer),r=t.getUint8(o);o+=1;let n=MT(e.subarray(1,r+1));o+=r;let s=t.getUint8(o);o+=1;let a=c.subarray(o);return{sender:n,messageType:s,data:a}}catch(o){console.error("Invalid Comms message",o)}}function MT(e){let o=new Ce;return o.writeBuffer(e,!0),o.readUtf8String()}var rE=require("~system/UserIdentity"),iE=e=>e.defineComponent("players-scene",{timestamp:oe.Number,userId:oe.String}),Pf=!1;function Nd(){Pf=!0}var Ad=!1;function aE(e){(0,rE.getUserData)({}).then(({data:o})=>{if(o?.userId){let c=o.userId,t=cn(o.userId);e.networkId=t,e.userId=c}else throw new Error("Couldn't fetch profile data")})}function cE(e){let o=e.getComponent(Du.componentId);if(!Ad){let c=o.getOrNull(e.RootEntity);c&&c.tickNumber>2&&(Ad=!0)}return Ad}function sE(e,o,c){let t=e.getComponent(Du.componentId);async function r(){if((t.getOrNull(e.RootEntity)?.tickNumber??0)>100){Nd();return}}r()}function fE(e,o){let c=e.getComponent(qr.componentId),t=e.getComponent(T0.componentId),r=e.getComponent(Oe.componentId),n=e.getComponent(Yr.componentId);function s(b,m,g){if(!o?.networkId)throw new Error("Profile not initialized. Called syncEntity inside the main() function.");let E=g!==void 0?{entityId:g,networkId:0}:{entityId:b,networkId:o.networkId};c.createOrReplace(b,E),n.createOrReplace(b,{componentIds:m})}function*a(b){let m=c.getOrNull(b);if(m)for(let[g,E]of e.getEntitiesWith(t))E.entityId===m.entityId&&E.networkId===m.networkId&&(yield g)}function i(b){return[...a(b)][0]??void 0}function f(b){let m=t.getOrNull(b);if(m){for(let[g,E]of e.getEntitiesWith(c))if(m.networkId===E.networkId&&m.entityId===E.entityId)return g}}function u(b,m){let g=c.getOrNull(m);if(!g)throw new Error("Please call syncEntity on the parent before parentEntity fn");t.createOrReplace(b,g),r.getOrNull(b)||r.create(b)}return{syncEntity:s,getChilds:a,getParent:f,parentEntity:u,getFirstChild:i}}function dE(e){iE(e);let o={};aE(o);let c=fE(e,o),t=[],r=oE(a=>t.push(a));function n(){let a=[...t];return t.length=0,a}let s={filter:eE,send:async a=>{cE(e)&&a.byteLength&&(console.log(Array.from(vf("[send CRDT]: ",a,e))),r.emit($n.CRDT,a));let i=n(),f=await(0,uE.sendBinary)({data:i});r.__processMessages(f.data)},type:"network"};return e.addTransport(s),e.addSystem(()=>sE(e,o,c.syncEntity)),r.emit($n.REQ_CRDT_STATE,new Uint8Array),r.on($n.RES_CRDT_STATE,a=>{console.log(Array.from(vf("[binaryMessageBus]: ",a,e))),Pf||(Nd(),s.onmessage(a))}),r.on($n.REQ_CRDT_STATE,()=>{Pf&&r.emit($n.RES_CRDT_STATE,tE(e))}),r.on($n.CRDT,a=>{console.log(Array.from(vf("[CRDT on]: ",a,e))),s.onmessage(a)}),{...c,myProfile:o}}var{getChilds:CD,getFirstChild:MD,syncEntity:gd,parentEntity:vD,getParent:PD,myProfile:UD}=dE(re);var Uf=1;function lE(e,o,c,t){let r=re.addEntity();return Jo.create(r,{color:0}),Oe.create(r,{position:{x:e,y:o,z:c},rotation:Ae.fromEulerDegrees(90,0,0),scale:D.create(2.5,2.5,2.5)}),Tn.setPlane(r),Ve.setPbrMaterial(r,{albedoColor:Ne.White()}),Nn.create(r,{playing:!1,volume:.3,loop:!1,audioClipUrl:"assets/sounds/coinPickup.mp3"}),gd(r,[Ve.componentId,Nn.componentId],t),r}function Ua(e,o,c,t,r){let n=re.addEntity();switch(Oe.create(n,{position:{x:e,y:o,z:c},rotation:Ae.fromEulerDegrees(90,0,0),scale:D.create(3,3,3)}),Tn.setPlane(n),Nn.create(n,{playing:!1,volume:.5,loop:!1,audioClipUrl:"assets/sounds/coinPickup.mp3"}),t){case 2:Ve.setPbrMaterial(n,{albedoColor:Ne.Blue()});break;case 4:Ve.setPbrMaterial(n,{albedoColor:Ne.Green()});break;case 1:Ve.setPbrMaterial(n,{albedoColor:Ne.Red()});break;case 3:Ve.setPbrMaterial(n,{albedoColor:Ne.Yellow()});break}return Gi.addTrigger(n,1,1,[{type:"box"}],s=>{Uf=t,console.log("CHANGED COLOR TO ",t),vT(s,t)},s=>{PT(s,t)}),gd(n,[Ve.componentId,Nn.componentId],r),n}function vT(e,o){switch(o){case 2:Ve.setPbrMaterial(e,{albedoColor:Ne.Blue(),emissiveColor:Ne.Blue(),emissiveIntensity:1});break;case 4:Ve.setPbrMaterial(e,{albedoColor:Ne.Green(),emissiveColor:Ne.Green(),emissiveIntensity:1});break;case 1:Ve.setPbrMaterial(e,{albedoColor:Ne.Red(),emissiveColor:Ne.Red(),emissiveIntensity:1});break;case 3:Ve.setPbrMaterial(e,{albedoColor:Ne.Yellow(),emissiveColor:Ne.Yellow(),emissiveIntensity:1});break}}function PT(e,o){switch(o){case 2:Ve.setPbrMaterial(e,{albedoColor:Ne.Blue()});break;case 4:Ve.setPbrMaterial(e,{albedoColor:Ne.Green()});break;case 1:Ve.setPbrMaterial(e,{albedoColor:Ne.Red()});break;case 3:Ve.setPbrMaterial(e,{albedoColor:Ne.Yellow()});break}}function pE(e){let o=Oe.get(re.PlayerEntity).position,c=re.getEntitiesWith(Jo,Oe);for(let[t,r,n]of c){let s=Oe.get(t).position;if(Math.abs(s.x-o.x)<1.4&&Math.abs(s.z-o.z)<1.4){if(r.color==Uf)continue;mE(t,Uf)}}}function mE(e,o){if(Jo.get(e).color!=o){switch(o){case 2:Ve.setPbrMaterial(e,{albedoColor:Ne.Blue()});break;case 4:Ve.setPbrMaterial(e,{albedoColor:Ne.Green()});break;case 1:Ve.setPbrMaterial(e,{albedoColor:Ne.Red()});break;case 3:Ve.setPbrMaterial(e,{albedoColor:Ne.Yellow()});break;case 0:Ve.setPbrMaterial(e,{albedoColor:void 0});break}Nn.getMutable(e).playing=!0,Jo.getMutable(e).color=o,console.log("PAINTED TILE  ",e," TO COLOR ",o)}}function hE(){let e=re.getEntitiesWith(Jo,Oe);for(let[o,c,t]of e)mE(o,0)}Z2(re,fs,{Animator:b0,AudioSource:Nn,AvatarAttach:Qm,Transform:Oe,VisibilityComponent:r0,GltfContainer:e0});function Bf(){let e=100;for(let s=1;s<52;s+=2.6)for(let a=1;a<52;a+=2.6)lE(s,0,a,e),e++;let o=Ua(4,0,60,1,3),c=Ua(8,0,60,2,1),t=Ua(12,0,60,4,2),r=Ua(16,0,60,3,4);re.addSystem(pE);let n=re.addEntity();Oe.create(n,{position:{x:32,y:-.01,z:32},scale:{x:64,y:64,z:64},rotation:Ae.fromEulerDegrees(90,0,0)}),Tn.setPlane(n),Ve.setPbrMaterial(n,{albedoColor:Ne.fromHexString("#92b096")}),_d({position:D.create(40,1,60)},s=>{hE()},"RESET ALL TILES",Ne.Red())}var ji=require("~system/EngineApi");function EE(e){async function o(t){let r=await e.crdtSendToRenderer({data:new Uint8Array(t)});if(r&&r.data&&r.data.length&&c.onmessage)for(let n of r.data)c.onmessage(n)}let c={async send(t){try{await o(t)}catch(r){console.error(r);debugger}},filter(t){return t.componentId>Cu?!1:!!t},type:"renderer"};return c}var Od=class{constructor(o,c=!1,t,r){this.initalize(o,c,t,r)}initalize(o,c=!1,t,r){return this.mask=o,this.skipNextObservers=c,this.target=t,this.currentTarget=r,this}},wd=class{constructor(o,c,t=null){this.callback=o,this.mask=c,this.scope=t,this.unregisterOnNextCall=!1,this._willBeUnregistered=!1}},Dt=class e{constructor(o){this._observers=new Array,this._onObserverAdded=null,this._eventState=new Od(0),o&&(this._onObserverAdded=o)}add(o,c=-1,t=!1,r=null,n=!1){if(!o)return null;let s=new wd(o,c,r);return s.unregisterOnNextCall=n,t?this._observers.unshift(s):this._observers.push(s),this._onObserverAdded&&this._onObserverAdded(s),s}addOnce(o){return this.add(o,void 0,void 0,void 0,!0)}remove(o){return o&&this._observers.indexOf(o)!==-1?(this._deferUnregister(o),!0):!1}removeCallback(o,c){for(let t=0;t<this._observers.length;t++)if(this._observers[t].callback===o&&(!c||c===this._observers[t].scope))return this._deferUnregister(this._observers[t]),!0;return!1}notifyObservers(o,c=-1,t,r){if(!this._observers.length)return!0;let n=this._eventState;n.mask=c,n.target=t,n.currentTarget=r,n.skipNextObservers=!1,n.lastReturnValue=o;for(let s of this._observers)if(!s._willBeUnregistered&&(s.mask&c&&(s.scope?n.lastReturnValue=s.callback.apply(s.scope,[o,n]):n.lastReturnValue=s.callback(o,n),s.unregisterOnNextCall&&this._deferUnregister(s)),n.skipNextObservers))return!1;return!0}notifyObserversWithPromise(o,c=-1,t,r){let n=Promise.resolve(o);if(!this._observers.length)return n;let s=this._eventState;return s.mask=c,s.target=t,s.currentTarget=r,s.skipNextObservers=!1,this._observers.forEach(a=>{s.skipNextObservers||a._willBeUnregistered||a.mask&c&&(a.scope?n=n.then(i=>(s.lastReturnValue=i,a.callback.apply(a.scope,[o,s]))):n=n.then(i=>(s.lastReturnValue=i,a.callback(o,s))),a.unregisterOnNextCall&&this._deferUnregister(a))}),n.then(()=>o)}notifyObserver(o,c,t=-1){let r=this._eventState;r.mask=t,r.skipNextObservers=!1,o.callback(c,r)}hasObservers(){return this._observers.length>0}clear(){this._observers=new Array,this._onObserverAdded=null}clone(){let o=new e;return o._observers=this._observers.slice(0),o}hasSpecificMask(o=-1){for(let c of this._observers)if(c.mask&o||c.mask===o)return!0;return!1}_deferUnregister(o){o.unregisterOnNextCall=!1,o._willBeUnregistered=!0,Promise.resolve().then.bind(Promise.resolve())(async()=>this._remove(o)).catch(console.error)}_remove(o){if(!o)return!1;let c=this._observers.indexOf(o);return c!==-1?(this._observers.splice(c,1),!0):!1}};var yE=require("~system/EngineApi"),BT=yE.subscribe;function _n(e){return()=>{BT({eventId:e}).catch(console.error)}}var DT=new Dt(_n("onEnterScene"));var LT=new Dt(_n("onLeaveScene"));var zT=new Dt(_n("sceneStart")),FT=new Dt(_n("playerExpression")),VT=new Dt(_n("videoEvent")),WT=new Dt(_n("profileChanged")),HT=new Dt(_n("playerConnected")),GT=new Dt(_n("playerDisconnected")),jT=new Dt(_n("onRealmChanged")),$T=new Dt(_n("playerClicked")),YT=new Dt(_n("comms"));async function bE(e){let{events:o}=await e({actions:[]});for(let c of o)if(c.generic){let t=JSON.parse(c.generic.eventData);switch(c.generic.eventId){case"onEnterScene":{DT.notifyObservers(t);break}case"onLeaveScene":{LT.notifyObservers(t);break}case"sceneStart":{zT.notifyObservers(t);break}case"playerExpression":{FT.notifyObservers(t);break}case"videoEvent":{let r=t;VT.notifyObservers(r);break}case"profileChanged":{WT.notifyObservers(t);break}case"playerConnected":{HT.notifyObservers(t);break}case"playerDisconnected":{GT.notifyObservers(t);break}case"onRealmChanged":{jT.notifyObservers(t);break}case"playerClicked":{$T.notifyObservers(t);break}case"comms":{YT.notifyObservers(t);break}}}}var Id={"assets/scene/main.composite":{version:1,components:[{name:"core::Transform",jsonSchema:{type:"object",properties:{position:{type:"object",properties:{x:{type:"number"},y:{type:"number"},z:{type:"number"}}},scale:{type:"object",properties:{x:{type:"number"},y:{type:"number"},z:{type:"number"}}},rotation:{type:"object",properties:{x:{type:"number"},y:{type:"number"},z:{type:"number"},w:{type:"number"}}},parent:{type:"integer"}},serializationType:"transform"},data:{512:{json:{position:{x:8,y:1,z:8},scale:{x:1,y:1,z:1},rotation:{x:0,y:0,z:0,w:1},parent:0}}}},{name:"core::MeshRenderer",jsonSchema:{type:"object",properties:{},serializationType:"protocol-buffer",protocolBuffer:"PBMeshRenderer"},data:{512:{json:{mesh:{$case:"box",box:{uvs:[]}}}}}},{name:"core-schema::Name",jsonSchema:{type:"object",properties:{value:{type:"string",serializationType:"utf8-string"}},serializationType:"map"},data:{512:{json:{value:"Magic Cube"}}}},{name:"inspector::Scene",jsonSchema:{type:"object",properties:{layout:{type:"object",properties:{base:{type:"object",properties:{x:{type:"integer",serializationType:"int32"},y:{type:"integer",serializationType:"int32"}},serializationType:"map"},parcels:{type:"array",items:{type:"object",properties:{x:{type:"integer",serializationType:"int32"},y:{type:"integer",serializationType:"int32"}},serializationType:"map"},serializationType:"array"}},serializationType:"map"}},serializationType:"map"},data:{0:{json:{layout:{base:{x:0,y:0},parcels:[{x:0,y:0}]}}}}},{name:"inspector::Nodes",jsonSchema:{type:"object",properties:{value:{type:"array",items:{type:"object",properties:{entity:{type:"integer",serializationType:"entity"},open:{type:"boolean",serializationType:"optional",optionalJsonSchema:{type:"boolean",serializationType:"boolean"}},children:{type:"array",items:{type:"integer",serializationType:"entity"},serializationType:"array"}},serializationType:"map"},serializationType:"array"}},serializationType:"map"},data:{0:{json:{value:[{entity:512,children:[513],open:!0},{entity:513,children:[]}]}}}},{name:"cube-id",jsonSchema:{type:"object",properties:{},serializationType:"map"},data:{512:{json:{}}}}]}};var Df=[],Cd={getCompositeOrNull(e,o){let c=Id[e];if(c){try{if(c instanceof Uint8Array){let t=ao.fromBinary(c);Df.push({src:e,composite:t})}else if(typeof c=="string"){let t=ao.fromJson(JSON.parse(c));Df.push({src:e,composite:t})}else if(typeof c=="object"){let t=ao.fromJson(c);Df.push({src:e,composite:t})}}catch(t){console.error(t)}delete Id[e]}return Df.find(t=>t.src===e)||null}};var Lf=EE({crdtSendToRenderer:ji.crdtSendToRenderer});re.addTransport(Lf);async function qT(e){re.seal(),await re.update(e),await bE(ji.sendBatch)}async function JT(){let e=await(0,ji.crdtGetState)({data:new Uint8Array});if(!e.hasEntities){let o=Cd.getCompositeOrNull("main.composite");if(o)try{ao.instance(re,o,Cd)}catch(c){console.log("Warning: main.composite couldn't be instanced."),console.error(c)}}if(Lf.onmessage&&e&&e.data&&e.data.length)for(let o of e.data)Lf.onmessage(o)}if(Bf!==void 0){let e=function(){let o=Bf();o&&typeof o=="object"&&typeof o.then=="function"&&o.catch(console.error),re.removeSystem(e)};re.addSystem(e,1/0)}
/*! Bundled license information:

long/index.js:
  (**
   * @license
   * Copyright 2009 The Closure Library Authors
   * Copyright 2020 Daniel Wirtz / The long.js Authors.
   *
   * Licensed under the Apache License, Version 2.0 (the "License");
   * you may not use this file except in compliance with the License.
   * You may obtain a copy of the License at
   *
   *     http://www.apache.org/licenses/LICENSE-2.0
   *
   * Unless required by applicable law or agreed to in writing, software
   * distributed under the License is distributed on an "AS IS" BASIS,
   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
   * See the License for the specific language governing permissions and
   * limitations under the License.
   *
   * SPDX-License-Identifier: Apache-2.0
   *)
*/
